{"componentChunkName":"component---src-templates-base-page-js","path":"/idm/v7.4/getting_started/postmigrationscript/","result":{"data":{"pageContent":{"html":"<h1 id=\"post-migration-script\">Post Migration Script</h1>\n<p>Additional configuration commands can be listed in a script file named configure_fid.sh. The script should contain one command per line in the file and be located in a folder named scripts (e.g. /opt/radiantone/scripts) on the RadiantOne target pod. Any command available in the vdsconfig utility can be included in the configure_fid.sh script.\nFor information on the vdsconfig commands, see the RadiantOne Command Line Configuration guide.</p>\n<p>The migrate script checks for the configure_fid.sh script and executes it after the the initial configuration is imported.</p>\n<h1 id=\"create-script\">Create Script</h1>\n<ol>\n<li>\n<p>On the machine where the kubectl utility is installed, create a text file named configure_fid.sh.</p>\n</li>\n<li>\n<p>In an editor, edit configure_fid.sh and add the commands that should be executed after the configuration is imported into the RadiantOne production pod. There should be one command per line in the script file. Some common commands are ones that update data sources to point to production instances. An example of a script containing commands to update two data sources (named addomain1, and addomain2) to point to production instances is shown below.</p>\n</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1100px; z-index: -1\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 16.727272727272727%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAADABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3gUH/8QAFRABAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQEAAQUCj//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABYQAQEBAAAAAAAAAAAAAAAAABEAEP/aAAgBAQABPyERn//aAAwDAQACAAMAAAAQcA//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAEAAQUAAAAAAAAAAAAAAAABABExUYGR/9oACAEBAAE/EALCbZSZ6xn/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Post Migration Script Sample\"\n        title=\"\"\n        src=\"/static/ab92697213592a5d64a7251b3ee7bd49/9e444/configurefidscriptsample.jpg\"\n        srcset=\"/static/ab92697213592a5d64a7251b3ee7bd49/c1cfe/configurefidscriptsample.jpg 275w,\n/static/ab92697213592a5d64a7251b3ee7bd49/67061/configurefidscriptsample.jpg 550w,\n/static/ab92697213592a5d64a7251b3ee7bd49/9e444/configurefidscriptsample.jpg 1100w,\n/static/ab92697213592a5d64a7251b3ee7bd49/39259/configurefidscriptsample.jpg 1498w\"\n        sizes=\"(max-width: 1100px) 100vw, 1100px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h1 id=\"copy-script\">Copy Script</h1>\n<ol>\n<li>On the RadiantOne leader pod (where the configuration is going to be imported), create a folder named scripts in /opt/radiantone.</li>\n<li>On the machine where the kubectl utility is installed, and the configure_fid.sh script is located, copy the configure_fid.sh script file to the target RadiantOne pod (the example below has a RadiantOne node identified as fid-0 in the demo namespace).</li>\n</ol>\n\n          <codeblockcopytag>kubectl cp configure_fid.sh fid-0:/opt/radiantone/scripts -n demo</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">kubectl cp configure_fid.sh fid-0:/opt/radiantone/scripts -n demo</code></pre></div>\n<ol start=\"3\">\n<li>On the machine where the kubectl utility is installed, run the migrate.sh script to import the configuration into the RadiantOne production pod. This script imports the configuration and then runs the configure_fid.sh script to execute the additional configuration commands. The example below has a RadiantOne node identified as fid-0 in the demo namespace.</li>\n</ol>\n\n          <codeblockcopytag>kubectl exec -it fid-0 -n demo -- ./migrate.sh import export.zip</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">kubectl exec -it fid-0 -n demo -- ./migrate.sh import export.zip</code></pre></div>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{"id":"post-migration-script"},"children":[{"type":"text","value":"Post Migration Script"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Additional configuration commands can be listed in a script file named configure_fid.sh. The script should contain one command per line in the file and be located in a folder named scripts (e.g. /opt/radiantone/scripts) on the RadiantOne target pod. Any command available in the vdsconfig utility can be included in the configure_fid.sh script.\nFor information on the vdsconfig commands, see the RadiantOne Command Line Configuration guide."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The migrate script checks for the configure_fid.sh script and executes it after the the initial configuration is imported."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{"id":"create-script"},"children":[{"type":"text","value":"Create Script"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"On the machine where the kubectl utility is installed, create a text file named configure_fid.sh."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In an editor, edit configure_fid.sh and add the commands that should be executed after the configuration is imported into the RadiantOne production pod. There should be one command per line in the script file. Some common commands are ones that update data sources to point to production instances. An example of a script containing commands to update two data sources (named addomain1, and addomain2) to point to production instances is shown below."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1100px; z-index: -1"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 16.727272727272727%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAADABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3gUH/8QAFRABAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQEAAQUCj//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABYQAQEBAAAAAAAAAAAAAAAAABEAEP/aAAgBAQABPyERn//aAAwDAQACAAMAAAAQcA//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAEAAQUAAAAAAAAAAAAAAAABABExUYGR/9oACAEBAAE/EALCbZSZ6xn/2Q=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"Post Migration Script Sample","title":"","src":"/static/ab92697213592a5d64a7251b3ee7bd49/9e444/configurefidscriptsample.jpg","srcSet":["/static/ab92697213592a5d64a7251b3ee7bd49/c1cfe/configurefidscriptsample.jpg 275w","/static/ab92697213592a5d64a7251b3ee7bd49/67061/configurefidscriptsample.jpg 550w","/static/ab92697213592a5d64a7251b3ee7bd49/9e444/configurefidscriptsample.jpg 1100w","/static/ab92697213592a5d64a7251b3ee7bd49/39259/configurefidscriptsample.jpg 1498w"],"sizes":"(max-width: 1100px) 100vw, 1100px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{"id":"copy-script"},"children":[{"type":"text","value":"Copy Script"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"On the RadiantOne leader pod (where the configuration is going to be imported), create a folder named scripts in /opt/radiantone."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"On the machine where the kubectl utility is installed, and the configure_fid.sh script is located, copy the configure_fid.sh script file to the target RadiantOne pod (the example below has a RadiantOne node identified as fid-0 in the demo namespace)."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"kubectl cp configure_fid.sh fid-0:/opt/radiantone/scripts -n demo"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"kubectl cp configure_fid.sh fid-0:/opt/radiantone/scripts -n demo"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":3},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"On the machine where the kubectl utility is installed, run the migrate.sh script to import the configuration into the RadiantOne production pod. This script imports the configuration and then runs the configure_fid.sh script to execute the additional configuration commands. The example below has a RadiantOne node identified as fid-0 in the demo namespace."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"kubectl exec -it fid-0 -n demo -- ./migrate.sh import export.zip"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"kubectl exec -it fid-0 -n demo -- ./migrate.sh import export.zip"}]}]}]}],"data":{"quirksMode":false}},"fileAbsolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/idm/v7.4/documentation/getting_started/postmigrationscript.md","frontmatter":{"title":"Post Migration Script"},"headings":[{"id":"post-migration-script","value":"Post Migration Script","depth":1},{"id":"create-script","value":"Create Script","depth":1},{"id":"copy-script","value":"Copy Script","depth":1}]},"toc":{"html":"<ul>\n<li><a href=\"docker.md\">Docker</a></li>\n<li><a href=\"kubernetes.md\">Kubernetes</a></li>\n<li><a href=\"helm.md\">Helm</a></li>\n<li><a href=\"terraform.md\">Terraform</a></li>\n<li><a href=\"sizing.md\">Sizing</a></li>\n</ul>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"docker.md"},"children":[{"type":"text","value":"Docker"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"kubernetes.md"},"children":[{"type":"text","value":"Kubernetes"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"helm.md"},"children":[{"type":"text","value":"Helm"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"terraform.md"},"children":[{"type":"text","value":"Terraform"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"sizing.md"},"children":[{"type":"text","value":"Sizing"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"fileAbsolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/idm/v7.4/documentation/getting_started/TOC.md","frontmatter":{"title":"Getting started TOC"}}},"pageContext":{"urlPrefix":"idm/v7.4","absolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/idm/v7.4/documentation/getting_started/postmigrationscript.md","tocRegex":"/(idm/)(v7.4/)?(documentation/)?(getting_started/)?(postmigrationscript.md/)?(TOC.md)/ig","versions":[{"name":"r1-saas","displayName":"RadiantOne SaaS"},{"name":"v7.4","displayName":"v7.4"}],"currentRepo":{"name":"idm","displayName":"Identity Data Management","description":"Integrates identity data: contextual, dynamic, and consistent data for administrative and access decisions.","links":[{"text":"SEE ADMIN DOCUMENTATION","href":"/idm/r1-saas/#0"},{"text":"SEE DEVELOPER DOCUMENTATION","href":"/idm/r1-saas/#1"}],"remote":"https://github.com/radiantlogic-v8/documentation-new.git","patterns":["home-pages/**","documentation/**","javadoc/**"],"deployBranches":[{"name":"r1-saas","displayName":"RadiantOne SaaS"},{"name":"v7.4","displayName":"v7.4"}]},"currentRepoWebLink":"https://github.com/radiantlogic-v8/documentation-new","currentVersion":{"name":"v7.4","displayName":"v7.4"},"title":"Post Migration Script","description":"Post Migration Script","tocForCurrentSection":{"textElement":"Getting started","href":null,"children":[{"textElement":"Configmapyaml","href":"getting_started/configmapyaml","children":[]},{"textElement":"Configmapyaml","href":"getting_started/configmapyaml","children":[]},{"textElement":"Docker","href":"getting_started/docker","children":[]},{"textElement":"Docker","href":"getting_started/docker","children":[]},{"textElement":"Fidyaml","href":"getting_started/fidyaml","children":[]},{"textElement":"Fidyaml","href":"getting_started/fidyaml","children":[]},{"textElement":"Helm","href":"getting_started/helm","children":[]},{"textElement":"Helm","href":"getting_started/helm","children":[]},{"textElement":"Index","href":"getting_started/index","children":[]},{"textElement":"Index","href":"getting_started/index","children":[]},{"textElement":"Kubernetes","href":"getting_started/kubernetes","children":[]},{"textElement":"Kubernetes","href":"getting_started/kubernetes","children":[]},{"textElement":"Postmigrationscript","href":"getting_started/postmigrationscript","children":[]},{"textElement":"Postmigrationscript","href":"getting_started/postmigrationscript","children":[]},{"textElement":"T O C","href":"getting_started/TOC","children":[]},{"textElement":"T O C","href":"getting_started/TOC","children":[]},{"textElement":"Terraform","href":"getting_started/terraform","children":[]},{"textElement":"Terraform","href":"getting_started/terraform","children":[]}]},"breadcrumb":{"location":"/idm/v7.4/getting_started/postmigrationscript/","crumbs":[{"pathname":"/","crumbLabel":"Solutions"},{"pathname":"/idm","crumbLabel":"idm"},{"pathname":"/idm/v7.4","crumbLabel":"v7.4"},{"pathname":"/idm/v7.4/getting_started","crumbLabel":"getting_started"},{"pathname":"/idm/v7.4/getting_started/postmigrationscript","crumbLabel":"postmigrationscript"}]}}},"staticQueryHashes":["63159454"],"slicesMap":{"header":"header"}}