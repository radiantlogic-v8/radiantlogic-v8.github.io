{"componentChunkName":"component---src-templates-base-page-js","path":"/operations-guide/02-cluster-management","result":{"data":{"pageContent":{"html":"<h1 id=\"chapter-2-cluster-management\">Chapter 2: Cluster Management</h1>\n<h2 id=\"expert-mode\">Expert Mode</h2>\n<p>Some settings in RadiantOne are accessible only in Expert Mode. To switch to Expert Mode, click the Logged in as, (username) drop-down menu and select Expert Mode.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 180px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/04c63498215abb0e4f65eab4839e042b/4ec73/Image2.1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 87.11656441717791%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAEEBQL/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAv/aAAwDAQACEAMQAAABvRe6TntEJFSD/8QAGRAAAgMBAAAAAAAAAAAAAAAAABMREiBB/9oACAEBAAEFAqQLEnc//8QAGBEAAgMAAAAAAAAAAAAAAAAAABIBAhD/2gAIAQMBAT8BWBa7/8QAGBEAAgMAAAAAAAAAAAAAAAAAAhEAEFH/2gAIAQIBAT8BZRnt/wD/xAAXEAADAQAAAAAAAAAAAAAAAAAQESAx/9oACAEBAAY/AkNv/8QAHhAAAgEDBQAAAAAAAAAAAAAAAAERMUFxECGBkfD/2gAIAQEAAT8hoM10Q9JgGohKxAt1ZnBcVNP/2gAMAwEAAgADAAAAEFfYAP/EABgRAAIDAAAAAAAAAAAAAAAAAAABEFFh/9oACAEDAQE/EL0ZT//EABkRAAEFAAAAAAAAAAAAAAAAAAEAEEGh8P/aAAgBAgEBPxAxGloH/8QAHhABAAIBBAMAAAAAAAAAAAAAAQARIRBBUXExgbH/2gAIAQEAAT8QULPs2+1L3KNvEWdroYI0ilsG/GfUZg7CUcY6r//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"An image showing \"\n        title=\"An image showing \"\n        src=\"/static/04c63498215abb0e4f65eab4839e042b/4ec73/Image2.1.jpg\"\n        srcset=\"/static/04c63498215abb0e4f65eab4839e042b/d2f63/Image2.1.jpg 163w,\n/static/04c63498215abb0e4f65eab4839e042b/4ec73/Image2.1.jpg 180w\"\n        sizes=\"(max-width: 180px) 100vw, 180px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Figure 2. 1 : Accessing Expert Mode</p>\n<blockquote>\n<p>**Note - The Main Control Panel saves the last mode (Expert or Standard) it was in when you log out and returns to this mode automatically when you log back</p>\n</blockquote>\n<p>in. The mode is saved on a per-role basis.**</p>\n<h2 id=\"adding-nodes\">Adding Nodes</h2>\n<p>To install nodes to an existing cluster, you need the following details:</p>\n<ul>\n<li>The server name of an existing core RadiantOne cluster node.</li>\n<li>The server names and ports of the ZooKeeper ensemble.</li>\n<li>The cluster name.</li>\n<li>The ZooKeeper login and password.</li>\n<li>A valid RadiantOne license key. Keys can be enforced at the cluster level or the node</li>\n</ul>\n<p>level. Please check with your Radiant Logic representative to verify your license key type.</p>\n<p>For exact installation steps, please see the RadiantOne Installation Guide.</p>\n<h2 id=\"removing-nodes\">Removing Nodes</h2>\n<p>If ZooKeeper is deployed in an external ensemble, make sure all nodes are running.</p>\n<p>If ZooKeeper is deployed local, on the same machines as the RadiantOne nodes, make sure it is running on all nodes. If ZooKeeper cannot be started on the RadiantOne node that needs\r\nremoved, follow the steps in <a href=\"#node-andor-services-cannot-be-restarted\">Node and/or Services Cannot Be Restarted</a> instead of the steps in this section.</p>\n<p>Make sure all other RadiantOne services are stopped on all nodes.</p>\n<p>To remove a node from a cluster:</p>\n<ol>\n<li>On the node that is to be removed from your cluster, run the following command (using  cluster.bat on Windows, cluster.sh on Linux):</li>\n</ol>\n<p><br> &#x3C;RLI_HOME>/bin/advanced/cluster.bat detach\r\n2. Edit the &#x3C;RLI_HOME>\\vds_server\\conf\\cloud.properties file on each remaining cluster node and verify that the zk.servers value correctly lists the cluster nodes and ZooKeeper client port. If the zk.servers value is incorrect, run the following command (using cluster.bat on Windows, cluster.sh on Linux):\r\n<br>&#x3C;RLI_HOME>/bin/advanced/cluster.bat update-zk-client-conf\r\n3. To update the vdsha and replicationjournal data sources (that still reference the removed RadiantOne node), on one of the remaining cluster nodes, run the following command (using cluster.bat on Windows, cluster.sh on Linux):     <br>&#x3C;RLI_HOME>/bin/advanced/cluster.bat reset-cluster-datasource</p>\n<p>To update a specific data source, like vdsha, use the following command instead of the one mentioned above (vds_server is the instance name and vdsha is the data source name in this example):\r\n&#x3C;RLI_HOME>/bin/advanced/cluster.bat reset-cluster-datasource vds_server vdsha</p>\n<ol start=\"4\">\n<li>To update the vdsha and replicationjournal data sources (that still reference the other cluster nodes), on the removed node, run the following command (using cluster.bat on Windows, cluster.sh on Linux):\r\n<br>&#x3C;RLI_HOME>/bin/advanced/cluster.bat reset-cluster-datasource</li>\n<li>To update the cluster name on the removed node, run the following command (using\r\ncluster.bat on Windows, cluster.sh on Linux):\r\n&#x3C;RLI_HOME>/bin/advanced/cluster.sh rename-cluster-zk &#x3C;vds_instance_name>\r\n&#x3C;new_cluster_name>\r\nvds_server is the default instance name.</li>\n<li>Restart the RadiantOne service and Control Panel (Jetty) on all cluster nodes and the node that was removed from the cluster.</li>\n</ol>\n<p>At this point, you have a two-node cluster and one node by itself, which could be the start of a new cluster.</p>\n<h2 id=\"renaming-clusters\">Renaming Clusters</h2>\n<p>Renaming a cluster is a delicate operation that should not be used frequently and is not recommended for deployed architectures involved in inter-cluster replication since the cluster name is key for the replication logic.</p>\n<p>To rename a cluster, perform the following steps (using cluster.bat on Windows, cluster.sh on\r\nLinux):</p>\n<ol>\n<li>Stop all RadiantOne services except ZooKeeper.</li>\n<li>On any RadiantOne node, run:\r\n<br>&#x3C;RLI_HOME>/bin/advanced/cluster.sh rename-cluster-zk &#x3C;vds_instance_name>\r\n&#x3C;old_cluster_name> &#x3C;new_cluster_name>\r\nThis moves the Zookeeper data from /radiantone/<version>/&#x3C;old_cluster_name> to\r\n/radiantone/<version>/&#x3C;new_cluster_name></li>\n<li>On each RadiantOne node, run:\r\n<br>&#x3C;RLI_HOME>/bin/advanced/cluster.sh rename-cluster-local &#x3C;vds_instance_name>\r\n&#x3C;new_cluster_name></li>\n<li>Start the Radiantone services on all nodes.</li>\n</ol>\n<h3 id=\"updating-zookeeper-admin-credentials\">Updating ZooKeeper Admin Credentials</h3>\n<p>During RadiantOne installation, the ZooKeeper admin username and password are defined. An example is shown below.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 529px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bae1d812fad0ad7321c200869ee21aee/62e42/Image2.2.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.80368098159509%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB1pdSoWAn/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAIBAxMREv/aAAgBAQABBQLFTFDBCCx/BFvT/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAECIv/aAAgBAwEBPwFqTB//xAAXEQEAAwAAAAAAAAAAAAAAAAAAAREi/9oACAECAQE/Ablp/8QAFxABAQEBAAAAAAAAAAAAAAAAAOEQMf/aAAgBAQAGPwJV3j//xAAaEAADAQADAAAAAAAAAAAAAAAAARFhQZGx/9oACAEBAAE/Ia8PsyYxYeogTlpJfZ//2gAMAwEAAgADAAAAECcP/8QAGBEBAQADAAAAAAAAAAAAAAAAAQARQaH/2gAIAQMBAT8QEZSBa5f/xAAXEQEBAQEAAAAAAAAAAAAAAAABABFh/9oACAECAQE/EB3Bnu//xAAaEAACAwEBAAAAAAAAAAAAAAABEQAhMZHR/9oACAEBAAE/EAoTTl4Tb3RHujk5ZEIGvLVDmQEVH//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"An image showing \"\n        title=\"An image showing \"\n        src=\"/static/bae1d812fad0ad7321c200869ee21aee/62e42/Image2.2.jpg\"\n        srcset=\"/static/bae1d812fad0ad7321c200869ee21aee/d2f63/Image2.2.jpg 163w,\n/static/bae1d812fad0ad7321c200869ee21aee/c989d/Image2.2.jpg 325w,\n/static/bae1d812fad0ad7321c200869ee21aee/62e42/Image2.2.jpg 529w\"\n        sizes=\"(max-width: 529px) 100vw, 529px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Figure 2.2: Setting Zookeeper Admin Credentials During Install</p>\n<p>Updating the ZooKeeper admin credentials that were defined during installation is a very\r\ndelicate operation. All ZooKeepers in the cluster must be functioning properly and allow\r\nread/write operations (they can’t be in read-only mode). All other RadiantOne services on all\r\ncluster nodes must be stopped, meaning that client requests cannot be processed during the\r\ntime the ZooKeeper admin credentials are being updated.</p>\n<p>To update the ZooKeeper admin username and/or password follow the steps below. These\r\nsteps are the same whether ZooKeeper is running in an external ensemble or on the same local\r\nRadiantOne nodes unless otherwise mentioned.</p>\n<ol>\n<li>On any RadiantOne node, run &#x3C;RLI_HOME>/bin/advanced/cluster.bat list (use cluster.sh on Linux) from command line. Ensure the cluster is in a healthy state with all RadiantOne and ZooKeeper services up and running.</li>\n<li>Run &#x3C;RLI_HOME>/bin/advanced/stop_servers.bat (use stop_servers.sh on Linux) on all RadiantOne cluster nodes. This ensures all RadiantOne services are stopped.</li>\n<li>If you are using an internal/local ZooKeeper, run &#x3C;RLI_HOME>/bin/runZookeeper.bat (use runZookeeper.sh on Linux) on all RadiantOne cluster nodes. ZooKeeper on all nodes must be running. If you are using an external ZooKeeper ensemble, all servers should be running already, so you can skip this step.</li>\n<li>On any RadiantOne node in the cluster, run &#x3C;RLI_HOME>/bin/advanced/cluster.bat change-zk-server-credentials &#x3C;instance_name> &#x3C;new_adminuser> &#x3C;new_password> where &#x3C;instance_name> is vds_server, &#x3C;new_adminuser> is the new ZooKeeper admin user. To keep the same admin user, enter the value of the current admin user and &#x3C;new_password> is the new password for the ZooKeeper admin user. An example is shown below:</li>\n</ol>\n<p><br>&#x3C;RLI_HOME>/bin/advanced/cluster.bat change-zk-server-credentials vds_server admin newpassword</p>\n<ol start=\"5\">\n<li>A warning appears, enter Y to continue.</li>\n</ol>\n\n          <codeblockcopytag>WARN ClusterCommands:485 - !!! WARNING !!!\r\n\r\nWARN ClusterCommands:486 - This is a very sensitive operation.\r\n\r\nWARN ClusterCommands:487 - Please make sure that all the other RadiantOne programs and\r\nservices are stopped on all the nodes of the cluster.\r\n\r\nWARN ClusterCommands:489 - Continue (y/n)?</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">WARN ClusterCommands:485 - <span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token operator\">!</span> WARNING <span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token operator\">!</span>\r\n\r\nWARN ClusterCommands:486 - This is a very sensitive operation.\r\n\r\nWARN ClusterCommands:487 - Please <span class=\"token function\">make</span> sure that all the other RadiantOne programs and\r\nservices are stopped on all the nodes of the cluster.\r\n\r\nWARN ClusterCommands:489 - Continue <span class=\"token punctuation\">(</span>y/n<span class=\"token punctuation\">)</span>?</code></pre></div>\n<blockquote>\n<p>**Note – if you want to bypass the warning, use the true flag as follows:</p>\n</blockquote>\n<p><br>&#x3C;RLI_HOME>/bin/advanced/cluster.bat change-zk-server-credentials &#x3C;instance_name> &#x3C;new_adminuser> &#x3C;new_password> true</p>\n<ol start=\"6\">\n<li>After the command executes, the following warning is displayed.</li>\n</ol>\n\n          <codeblockcopytag>WARN ClusterCommands:552 - Please update the client credentials and restart ZooKeeper on\r\nall the nodes.</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">WARN ClusterCommands:552 - Please update the client credentials and restart ZooKeeper on\r\nall the nodes.</code></pre></div>\n<ol start=\"7\">\n<li>On each remaining RadiantOne cluster node, run &#x3C;RLI_HOME>/bin/advanced/cluster.bat change-zk-client-credentials <code class=\"language-<instance_name\"> &lt;new_adminuser</code> where &#x3C;instance_name> is vds_server, &#x3C;new_adminuser> is the ZooKeeper admin user and &#x3C;new_password> is the new password for the ZooKeeper admin user. An example is shown below:\r\n<br>&#x3C;RLI_HOME>/bin/advanced/cluster.bat change-zk-client-credentials vds_server admin\r\nnewpassword</li>\n<li>If you are using an internal/local ZooKeeper, restart ZooKeeper, one at a time, on all RadiantOne cluster nodes. You can use &#x3C;RLI_HOME>/bin/stopZookeeper.bat (use    stopZookeeper.sh on Linux) and then &#x3C;RLI_HOME>/bin/runZookeeper.bat (use runZookeeper.sh on Linux) to restart ZooKeeper. Ensure the ZooKeeper you restarted is back up prior to restarting it on another node. If you are using an external ZooKeeper ensemble, restart each ZooKeeper service, one at a time, on all nodes. Typically the ZooKeeper services in an external ensemble run as Windows Service/Linux Daemons, so restart using the native OS utilities.</li>\n<li>Start the RadiantOne service on all cluster nodes.</li>\n<li>To ensure all servers in the cluster are running and accessible, run\r\n&#x3C;RLI_HOME>/bin/advanced/cluster.bat list (use cluster.sh on Linux) from command line.</li>\n</ol>\n<p>If the command returns with errors, resolve them prior to allowing clients to access\r\nRadiantOne again.</p>\n<h2 id=\"updating-radiantone-super-user-credentials\">Updating RadiantOne Super User Credentials</h2>\n<p>The directory administrator (e.g. cn=directory manager) password is set during the install of\r\nRadiantOne and can be changed from Main Control Panel > Settings > Server Front End > Administration. Click “Change the password” link in the Directory Manager Settings section.\r\nEnter the new value and click on the Save button in the upper right corner.</p>\n<blockquote>\n<p><span style=\"color:red\"><strong>IMPORTANT NOTES – if you change the password and you are currently logged into the Control Panel as the super user, you must close the Control Panel and re-open it logging in with the new password.</strong></p>\n</blockquote>\n<p>To change the directory manager’s password from the Instance Manager command line utility, you can use the following command:</p>\n\n          <codeblockcopytag><RLI_HOME>/bin/instancemanager -u -n vds_server -p 2389 -w newpassword</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;RLI_HOME>/bin/instancemanager -u -n vds_server -p 2389 -w newpassword</code></pre></div>\n<p>The -p option is required when updating the password.</p>\n<p>The RadiantOne service must be stopped when running this command. For more details on the Instance Manager utility, please see the RadiantOne Deployment and Tuning Guide.</p>\n<p>You can also change the directory administrator’s password via LDAP. The DN representing the directory administrator is: cn=Directory Manager,ou=RootUsers,cn=config. The example below\r\nis using an LDIF file and the ldapmodify command to modify the password:</p>\n\n          <codeblockcopytag>dn: cn=Directory Manager,ou=RootUsers,cn=config\r\nchangetype: modify\r\nreplace: userPassword\r\nuserPassword: newpassword</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">dn: cn=Directory Manager,ou=RootUsers,cn=config\r\nchangetype: modify\r\nreplace: userPassword\r\nuserPassword: newpassword</code></pre></div>\n<p>An example of the syntax used in the command is shown below, assuming the LDIF file described above is named ChangePassword.ldif.</p>\n\n          <codeblockcopytag>ldapmodify.exe -D &quot;cn=Directory Manager,ou=RootUsers,cn=config&quot; -w password -h localhost -\r\np 2389 -f c:\\radiantone\\ChangePassword.ldif</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ldapmodify.exe -D \"cn=Directory Manager,ou=RootUsers,cn=config\" -w password -h localhost -\r\np 2389 -f c:\\radiantone\\ChangePassword.ldif</code></pre></div>\n<blockquote>\n<p><strong>Note – the RadiantOne service may be running when this command is executed.</strong></p>\n</blockquote>\n<h2 id=\"maintaining-connections-to-backend-systems\">Maintaining Connections to Backend Systems</h2>\n<p>Once the connections are established between RadiantOne and the underlying systems, the only changes required are when those connections need to be updated. For example, if\r\nRadiantOne needs to point to a different server/port or use a different service account user/password then you must update the connection strings that are stored in the RadiantOne\r\ndata sources.</p>\n<p>The connection string information can be changed from the Main Control Panel > Settings Tab > Server Backend section. You can also update connection strings from command line using\r\nthe vdsconfig utility. For details on the vdsconfig utility, please see the RadiantOne Command Line Configuration Guide.</p>\n<h2 id=\"backing-up-configuration\">Backing up Configuration</h2>\n<p>If you are running RadiantOne on a virtual machine and would like to take periodic snapshots, ensure all RadiantOne components are stopped (&#x3C;RLI_HOME>/bin/advanced/stop_servers)\r\nprior to taking the snapshot.</p>\n<p>You should periodically use the RadiantOne Migration Utility with the export option to save a copy of the RadiantOne configuration.</p>\n<p>The example below assumes the file containing the backup of the RadiantOne configuration is C:\\tmp\\backupMay.zip and the RadiantOne Migration Utility has been installed at\r\nC:\\MigrationUtility\\radiantone-migration-tool-2.0.0:</p>\n\n          <codeblockcopytag>C:\\MigrationUtility\\radiantone-migration-tool-2.0.0\\migrate.bat export C:\\tmp\\backupMay.zip</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">C:\\MigrationUtility\\radiantone-migration-tool-2.0.0\\migrate.bat export C:\\tmp\\backupMay.zip</code></pre></div>\n<p>Copy the exported file to a safe location where you maintain backups. If you need to <a href=\"#restoring-cluster-from-backup-configuration\">restore your RadiantOne configuration</a>, you can use this backup file.</p>\n<blockquote>\n<p><strong>Note – it is also recommended to occasionally save a backup of your entire &#x3C;RLI_HOME> folder to a safe location.</strong></p>\n</blockquote>\n<h2 id=\"rebuilding-jar-files\">Rebuilding Jar Files</h2>\n<p>Jar files can be rebuilt from command line. An example is shown below. Restart the RadiantOne service after jars are rebuilt.</p>\n\n          <codeblockcopytag>C:\\radiantone\\vds\\vds_server\\custom>c:\\radiantone\\vds\\ant\\bin\\ant.bat buildjars\r\n\r\nBuildfile: build.xml\r\n\r\ncompile:\r\n\r\n[javac] Compiling 28 source files to C:\\radiantone\\vds\\vds_server\\custom\\classes\r\n\r\n[propertyfile] Updating property file: C:\\radiantone\\vds\\vds_server\\custom\\build.txt\r\n\r\nbuildjars:\r\n\r\n[jar] Building jar: C:\\radiantone\\vds\\vds_server\\custom\\lib\\customobjects.jar\r\n\r\n[jar] Building jar: C:\\radiantone\\vds\\vds_server\\custom\\lib\\intercept.jar\r\n\r\n[jar] Building jar: C:\\radiantone\\vds\\vds_server\\custom\\lib\\fidsync.jar\r\n\r\n[jar] Warning: skipping jar archive C:\\radiantone\\vds\\vds_server\\custom\\lib\\sync.jar because\r\nno files were included.\r\n\r\n[jar] Building jar: C:\\radiantone\\vds\\vds_server\\custom\\lib\\sync.jar\r\n\r\n[jar] Building jar: C:\\radiantone\\vds\\vds_server\\custom\\lib\\changeEventConvertors.jar\r\n\r\n##### BUILD SUCCESSFUL\r\n\r\nTotal time: 5 seconds</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">C:\\radiantone\\vds\\vds_server\\custom>c:\\radiantone\\vds\\ant\\bin\\ant.bat buildjars\r\n\r\nBuildfile: build.xml\r\n\r\ncompile:\r\n\r\n[javac] Compiling 28 source files to C:\\radiantone\\vds\\vds_server\\custom\\classes\r\n\r\n[propertyfile] Updating property file: C:\\radiantone\\vds\\vds_server\\custom\\build.txt\r\n\r\nbuildjars:\r\n\r\n[jar] Building jar: C:\\radiantone\\vds\\vds_server\\custom\\lib\\customobjects.jar\r\n\r\n[jar] Building jar: C:\\radiantone\\vds\\vds_server\\custom\\lib\\intercept.jar\r\n\r\n[jar] Building jar: C:\\radiantone\\vds\\vds_server\\custom\\lib\\fidsync.jar\r\n\r\n[jar] Warning: skipping jar archive C:\\radiantone\\vds\\vds_server\\custom\\lib\\sync.jar because\r\nno files were included.\r\n\r\n[jar] Building jar: C:\\radiantone\\vds\\vds_server\\custom\\lib\\sync.jar\r\n\r\n[jar] Building jar: C:\\radiantone\\vds\\vds_server\\custom\\lib\\changeEventConvertors.jar\r\n\r\n##### BUILD SUCCESSFUL\r\n\r\nTotal time: 5 seconds</code></pre></div>\n<h2 id=\"recovering-a-failed-node\">Recovering a Failed Node</h2>\n<h3 id=\"node-and-services-can-be-restarted\">Node and Services Can Be Restarted</h3>\n<p>If the node and services (e.g. ZooKeeper, RadiantOne, Jetty) can be restarted, once it is back online, the ZooKeeper from the failed node synchronizes all current configuration changes with the ensemble. The RadiantOne service on the failed node picks up changes to Universal Directory (HDAP) stores and persistent cache from the leader node.</p>\n<h3 id=\"node-andor-services-cannot-be-restarted\">Node and/or Services Cannot Be Restarted</h3>\n<p>If the failed node cannot be restarted, or the required services on the node cannot be restarted, the failed node should be removed and a new cluster node should be created following the steps below. If ZooKeeper is local on the RadiantOne node to be removed, make sure the\r\nZooKeeper service is stopped.</p>\n<ol>\n<li>At this point, the RadiantOne service on the failed node is still registered in the cluster. Get the Cloud ID and ZooKeeper ID of the failed node by running &#x3C;RLI_HOME>/bin/advanced/cluster.bat list on a healthy cluster node. Take note of the Cloud ID and ZooKeeper Server ID (e.g. 1, 2, 3) of the failed node. Below is an example:</li>\n</ol>\n\n          <codeblockcopytag>| Hostname | Cloud ID | VDS status | ZooKeeper Server ID | ZooKeeper UP?\r\n\r\n| DOC-E1WIN1 | 8773eaa7-3de0- 4421 - 96ad-7de4c1b56c1c | ON | #1 | ON |\r\n\r\n| DOC-E1WIN2* | 4a506e15-b726- 4551 - 82a9-42759f00981c | ON | #2** | ON |\r\n\r\n| DOC-E1WIN3 | 2ded0740-3aeb- 4430 - bcf9-788ce666cc38 | ON | #3 |\r\nOFF |</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">| Hostname | Cloud ID | VDS status | ZooKeeper Server ID | ZooKeeper UP?\r\n\r\n| DOC-E1WIN1 | 8773eaa7-3de0- 4421 - 96ad-7de4c1b56c1c | ON | #1 | ON |\r\n\r\n| DOC-E1WIN2* | 4a506e15-b726- 4551 - 82a9-42759f00981c | ON | #2** | ON |\r\n\r\n| DOC-E1WIN3 | 2ded0740-3aeb- 4430 - bcf9-788ce666cc38 | ON | #3 |\r\nOFF |</code></pre></div>\n<ol start=\"2\">\n<li>To remove reference to the failed node, on one healthy node of the cluster, run the following command (using cluster.bat on Windows, cluster.sh on Linux):</li>\n</ol>\n<p><br>&#x3C;RLI_HOME>/bin/advanced/cluster.bat zk-leave vds_server <code class=\"language-text\">&lt;ZooKeeper Server ID of the failed node></code>\r\n3. On one healthy node of the cluster, run the following command (using cluster.bat on Windows, cluster.sh on Linux): &#x3C;RLI_HOME>/bin/advanced/cluster.bat unregister vds_server &#x3C; Cloud ID of the failed node ></p>\n<ol start=\"4\">\n<li>Edit the &#x3C;RLI_HOME>\\vds_server\\conf\\cloud.properties file on each remaining cluster node and verify that the zk.servers value correctly lists the cluster nodes and ZooKeeper client port. If the zk.servers value is incorrect, run the following command (using cluster.bat on Windows, cluster.sh on Linux): <br>&#x3C;RLI_HOME>/bin/advanced/cluster.bat update-zk-client-conf</li>\n<li>On one of the remaining cluster nodes, manually update the vdsha and replicationjournal (if applicable) data sources to remove reference to the failed node. Data sources can be    updated from the Main Control Panel > Settings tab > Server Backend section > LDAP data sources, or from command line using the vdsconfig utility. For details on using the command line options, please see the RadiantOne Command Line Configuration Guide.</li>\n<li>Install RadiantOne on a new machine and have it join the existing cluster. For detailed steps on adding a node to an existing cluster, please see the RadiantOne Installation  Guide. Once the new node is installed, it automatically inherits from the existing configuration and data (Universal Directory stores and persistent cache).</li>\n</ol>\n<h2 id=\"manually-synchronizing-files-to-zookeeper\">Manually Synchronizing Files to ZooKeeper</h2>\n<p>If ZooKeeper is running, all configuration changes made from the Main Control Panel or from the command line utility (vdsconfig) are updated on both the file system and in ZooKeeper (to be shared across all cluster nodes).</p>\n<p>When RadiantOne configuration files are modified externally, directly on the file system, they are not automatically updated in ZooKeeper. In fact, when files are modified externally, they are overridden by ZooKeeper when the RadiantOne service starts or restarts.</p>\n<p>Any manual, external changes made to files in the following directories require a manual sync\r\nprocess to ZooKeeper:\r\n<br>&#x3C;RLI_HOME>/vds_server/datasources\r\n<br>&#x3C;RLI_HOME>/vds/config/log2db</p>\n<p>The utility to synchronize files to ZooKeeper is:\r\n<br>&#x3C;RLI_HOME>\\bin\\advanced\\zooKeeperUpdateUtil.bat</p>\n<p>Pass the file name to synchronize to ZooKeeper using the -f property. Below is an example of\r\nsynchronizing the custom.xml file.</p>\n\n          <codeblockcopytag>C:\\radiantone\\vds\\bin\\advanced>zookeeperupdateUtil.bat -f\r\nC:\\radiantone\\vds\\vds_server\\datasources\\custom.xml\r\n\r\nUsing RLI home : C:\\radiantone\\vds\r\nUsing Java home : C:\\radiantone\\vds\\jdk\\jre\r\nRadiant home Product env var : C:\\radiantone\\vds\r\nupdating zookeeper with local file content\r\n[C:\\radiantone\\vds\\vds_server\\datasources\\custom.xml]</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">C:\\radiantone\\vds\\bin\\advanced>zookeeperupdateUtil.bat -f\r\nC:\\radiantone\\vds\\vds_server\\datasources\\custom.xml\r\n\r\nUsing RLI home : C:\\radiantone\\vds\r\nUsing Java home : C:\\radiantone\\vds\\jdk\\jre\r\nRadiant home Product env var : C:\\radiantone\\vds\r\nupdating zookeeper with local file content\r\n[C:\\radiantone\\vds\\vds_server\\datasources\\custom.xml]</code></pre></div>\n<p>The utility does not require the RadiantOne service on the node to be running, but does require\r\nZooKeeper on the node to be running.</p>\n<h2 id=\"recovering-from-an-entire-cluster-failure\">Recovering from an Entire Cluster Failure</h2>\n<h3 id=\"using-a-disaster-recoverybackup-site\">Using a Disaster Recovery/Backup Site</h3>\n<p>This option assumes you have maintained a cluster in a DR site that can be used to repair your primary cluster using the steps below. The overall objective is to temporarily add a new node to the DR cluster and then decouple it from the cluster so it becomes the leader node for your primary cluster.</p>\n<ol>\n<li>Install RadiantOne on a new machine and have it join the existing DR cluster. For detailed steps on adding a node to an existing cluster, please see the RadiantOne Installation Guide. For a list of cluster configuration required to add a new node, see <a href=\"#adding-nodes\">Adding Nodes</a>. Once the new node is installed, it automatically inherits from the existing configuration and data (Universal Directory stores and persistent cache).</li>\n<li>Stop all RadiantOne service and Jetty. ZooKeeper should be running on all nodes.</li>\n<li>On the node that is to be used for restoring your primary cluster, run the following command to decouple it from the DR cluster (using cluster.bat on Windows, cluster.sh on Linux).</li>\n</ol>\n\n          <codeblockcopytag><br><RLI_HOME>/bin/advanced/cluster.bat detach</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;br>&lt;RLI_HOME>/bin/advanced/cluster.bat detach</code></pre></div>\n<p>The rest of the steps are broken into two sections. One set of steps are performed on the DR Cluster and the other set of steps are performed on the node you decoupled from the DR cluster noted as the New Primary Cluster Node.</p>\n<p>Steps Associated with the Disaster Recovery Cluster/Site</p>\n<ol>\n<li>Edit the &#x3C;RLI_HOME>\\vds_server\\conf\\cloud.properties file on each of the DR cluster nodes and verify that the zk.servers value correctly lists only the nodes currently in the DR cluster and ZooKeeper client port. If the zk.servers value is incorrect, run the following command (using cluster.bat on Windows, cluster.sh on Linux):</li>\n</ol>\n\n          <codeblockcopytag><RLI_HOME>/bin/advanced/cluster.bat update-zk-client-conf</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;RLI_HOME>/bin/advanced/cluster.bat update-zk-client-conf</code></pre></div>\n<ol start=\"2\">\n<li>To update the vdsha and replicationjournal data sources (that still reference the removed cluster node), on one of the DR cluster nodes, run the following command (using</li>\n</ol>\n<p>cluster.bat on Windows, cluster.sh on Linux):</p>\n\n          <codeblockcopytag><RLI_HOME>/bin/advanced/cluster.bat reset-cluster-datasource</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;RLI_HOME>/bin/advanced/cluster.bat reset-cluster-datasource</code></pre></div>\n<p>At this point, the DR cluster should be back to normal.</p>\n<p><strong>Steps Associated with the New Primary Cluster Node</strong></p>\n<ol>\n<li>Edit the &#x3C;RLI_HOME>\\vds_server\\conf\\cloud.properties file on the detached node and verify that the zk.servers value correctly lists only this detached node and ZooKeeper client port. If the zk.servers value is incorrect, run the following command (using cluster.bat on Windows, cluster.sh on Linux):</li>\n</ol>\n\n          <codeblockcopytag><RLI_HOME>/bin/advanced/cluster.bat update-zk-client-conf</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;RLI_HOME>/bin/advanced/cluster.bat update-zk-client-conf</code></pre></div>\n<ol start=\"2\">\n<li>To update the vdsha and replicationjournal data sources (that still reference the other cluster nodes), run the following command (using cluster.bat on Windows, cluster.sh on Linux):</li>\n</ol>\n\n          <codeblockcopytag><RLI_HOME>/bin/advanced/cluster.bat reset-cluster-datasource</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;RLI_HOME>/bin/advanced/cluster.bat reset-cluster-datasource</code></pre></div>\n<ol start=\"3\">\n<li>To update the cluster name on the removed node, run the following command (using cluster.bat on Windows, cluster.sh on Linux):</li>\n</ol>\n\n          <codeblockcopytag><RLI_HOME>/bin/advanced/cluster.sh rename-cluster-zk <vds_instance_name>\r\n<new_cluster_name>\r\nvds_server is the default instance name.</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;RLI_HOME>/bin/advanced/cluster.sh rename-cluster-zk &lt;vds_instance_name>\r\n&lt;new_cluster_name>\r\nvds_server is the default instance name.</code></pre></div>\n<ol start=\"4\">\n<li>Start the RadiantOne service and Jetty on this node.</li>\n<li>Install RadiantOne on a new machine and have it join the existing cluster. For detailed steps on adding a node to an existing cluster, please see the RadiantOne Installation Guide. Once the new node is installed, it automatically inherits from the existing configuration and data (RadiantOne Universal Directory stores and persistent cache).</li>\n<li>Repeat step 5 to add another core cluster node. The cluster should have at least three core nodes if a local ZooKeeper ensemble is used. If an external ZooKeeper ensemble is used, the cluster should have at least two RadiantOne core nodes.</li>\n</ol>\n<h3 id=\"restoring-cluster-from-backup-configuration\">Restoring Cluster from Backup Configuration</h3>\n<p>If there is no disaster recovery site to leverage for restoring a cluster, you can attempt to restore\r\nfrom backup files.</p>\n<h4 id=\"restoring-configuration\">Restoring Configuration</h4>\n<p>You can restore your RadiantOne configuration in cases where you need to revert back to a\r\nprevious time, or in case of corruption to critical files required for the service to function. The information in this section assumes you are restoring the configuration on the same machine from which the <a href=\"#backing-up-configuration\">export</a> was performed.</p>\n<p>To restore the configuration, you can use an <a href=\"#backing-up-configuration\">exported file</a> that was generated with the RadiantOne migration utility. Use the migration utility with the import option, reference the backup file and use the backup-restore argument.</p>\n<p>The example below assumes the file containing the backup of the RadiantOne configuration is C:\\tmp\\backupMay.zip and the RadiantOne Migration Utility has been installed at\r\nC:\\MigrationUtility\\radiantone-migration-tool-2.0.0:</p>\n\n          <codeblockcopytag>C:\\MigrationUtility\\radiantone-migration-tool-2.0.0\\migrate.bat import C:\\tmp\\backupMay.zip backup-restore</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">C:\\MigrationUtility\\radiantone-migration-tool-2.0.0\\migrate.bat import C:\\tmp\\backupMay.zip backup-restore</code></pre></div>\n<p>The backup-restore mode restores the following:</p>\n<ul>\n<li>vds_server.conf (in ZooKeeper)</li>\n<li>data sources (in ZooKeeper)</li>\n<li>client truststore (in ZooKeeper)</li>\n<li>RadiantOne instances (if multiple instances were used)</li>\n<li>.orx and .dvx files</li>\n<li>JDBC drivers (jdbcxml.xml)</li>\n<li>naming contexts (in ZooKeeper) – only the definition of the names, not the dependent</li>\n</ul>\n<p>files (e.g. underlying data sources, .dvx files...etc.)</p>\n<ul>\n<li>RadiantOne LDAP Schema files</li>\n<li>Monitoring configuration</li>\n<li>RadiantOne Universal Directory (HDAP) stores (not persistent cache)</li>\n<li>Custom project (restored only if the target RadiantOne version is the same as the version of the export). A backup copy of the custom folder is made in</li>\n</ul>\n<p>&#x3C;RLI_HOME>/&#x3C;instance_name>/custom.yyyyMMdd-HHmmss/</p>\n<p>When the RadiantOne configuration is <a href=\"#backing-up-configuration\">exported</a>, a migration plan is generated. This migration plan contains the list of configuration (to be restored) and is named migration_plan.json. If you want to modify the migration plan prior to importing, use the following command to extract the migration plan from the zip file. In the example shown below, C:/import is the location where the backupMay.zip file has been copied to.</p>\n\n          <codeblockcopytag>C:\\MigrationUtility\\radiantone-migration-tool-2.0.0\\migrate.bat generate-migration-plan C:\\import\\backupMay.zip</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">C:\\MigrationUtility\\radiantone-migration-tool-2.0.0\\migrate.bat generate-migration-plan C:\\import\\backupMay.zip</code></pre></div>\n<p>This command creates migration_plan.json which contains the list of configurations that were exported from the source environment. Edit this file in your chosen text editor. Use the value: KEEP to indicate the resource should not be included in the restore. Use the value: MIGRATE to indicate the resource should be included in the restore. Do not change anything else in the file. When you are ready to import the configuration, run the following command. If you extracted and edited the migration_plan.json, it is used during the import instead of the one from the .zip file.</p>\n\n          <codeblockcopytag>C:\\MigrationUtility\\radiantone-migration-tool-2.0.0\\migrate.bat import C:\\import\\backupMay.zip\r\nbackup-restore</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">C:\\MigrationUtility\\radiantone-migration-tool-2.0.0\\migrate.bat import C:\\import\\backupMay.zip\r\nbackup-restore</code></pre></div>\n<h4 id=\"restoring-radiantone-universal-directory-hdap-stores\">Restoring RadiantOne Universal Directory (HDAP) Stores</h4>\n<p>RadiantOne Universal Directory stores can be restored from the Main Control Panel, or from command line.</p>\n<h5 id=\"from-main-control-panel\">From Main Control Panel</h5>\n<p>To restore a RadiantOne Universal Directory (HDAP) store, on the current RadiantOne leader node, go to the Main Control Panel > Directory Namespace Tab and select the RadiantOne\r\nUniversal Directory (HDAP) store node. On the right side, click the Restore button on the Properties tab. Click Yes to confirm the restore operation and then select the date\r\ncorresponding to the backup image to restore from.</p>\n<h5 id=\"from-command-line\">From Command Line</h5>\n<p>The tool used for restoring RadiantOne Universal Directory (HDAP) stores from command line is named vdsconfig.bat (Windows) or vdsconfig.sh (Linux) and is located in &#x3C;RLI_HOME>/bin. This utility should be used on the RadiantOne leader node. To verify the leader node, go to the Main Control Panel > Dashboard tab and look for the node that has a yellow triangle next to the name.</p>\n<p>The restore-hdapstore command restores a RadiantOne Universal Directory (HDAP) store back to the state of a given backup image. To restore from the most recent backup image do not\r\npass a backupid in the command. To restore from a specific point in time, pass the applicable backupid in the command. Use the - list argument to obtain a list of possible backup ids for the given naming context.</p>\n<p><strong>Usage</strong></p>\n\n          <codeblockcopytag>restore-hdapstore -namingcontext <namingcontext> [-backupdir <backupdir>] [-backupid] <backupid>] [-instance <instance>] [-list]</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">restore-hdapstore -namingcontext &lt;namingcontext> [-backupdir &lt;backupdir>] [-backupid] &lt;backupid>] [-instance &lt;instance>] [-list]</code></pre></div>\n<p><strong>Command Arguments</strong></p>\n<ul>\n<li>namingcontext <code class=\"language-text\">&lt;namingcontext></code></li>\n</ul>\n<p><br> [required] The name of the naming context.</p>\n<ul>\n<li>backupdir <code class=\"language-text\">&lt;backupdir></code></li>\n</ul>\n<p><br> The full path to the directory containing the backup files. Do not specify this option if you use the - backupid option.</p>\n<ul>\n<li>backupid <backupid></li>\n</ul>\n<p><br>The ID of an existing backup image. If this is not specified, the restore attempts to use the latest backup image found. Use the -list argument to obtain a list of possible backup ids for the given naming context.</p>\n<ul>\n<li>instance <instance></li>\n</ul>\n<p><br>The name of the RadiantOne instance. If this is not specified, the default instance named\r\nvds_server is used.</p>\n<ul>\n<li>list</li>\n</ul>\n<p><br> Option used to print out the list of backup ids for the given naming context. Use this option first to get the list of backup ids as you must pass the backupid when you restore if you want to restore to a specific point in time.</p>\n<p><strong>Examples</strong></p>\n\n          <codeblockcopytag>C:\\radiantone\\vds\\bin>vdsconfig.bat restore-hdapstore -namingcontext o=newstore -backupzip\r\nC:\\install\\o_newstore-backup\\ 2017 - 03 - 28_12- 17 - 53.zip</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">C:\\radiantone\\vds\\bin>vdsconfig.bat restore-hdapstore -namingcontext o=newstore -backupzip\r\nC:\\install\\o_newstore-backup\\ 2017 - 03 - 28_12- 17 - 53.zip</code></pre></div>\n<p>The following example shows two separate commands starting with listing the backup images and then passing a backup ID to use to restore.</p>\n\n          <codeblockcopytag>C:\\radiantone\\vds\\bin>vdsconfig.bat restore-hdapstore -namingcontext o=companydirectory -list\r\nUsing RLI home : C:\\radiantone\\vds\r\nUsing Java home : C:\\radiantone\\vds\\jdk\\jre\r\n0 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\r\n- Curator connection state change: CONNECTED\r\n8 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\r\n- VDS-ZK connection state changed: CONNECTED\r\n9 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManager - ZooManager\r\nconnection state changed: CONNECTED\r\nCurrent backups for 'o=companydirectory':\r\nBackup Id Date of Backup\r\n-------------------------------------------\r\n1440023312307 08/19/2015 15:28:\r\n1440023472460 08/19/2015 15:31:\r\n1440023524906 08/19/2015 15:32:\r\n1440088234257 08/20/2015 09:30:\r\n\r\nC:\\radiantone\\vds\\bin>vdsconfig.bat restore-hdapstore -namingcontext o=companydirectory\r\n\r\n- backupid 1440023312307\r\nUsing RLI home : C:\\radiantone\\vds\r\nUsing Java home : C:\\radiantone\\vds\\jdk\\jre\r\n0 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\r\n- Curator connection state change: CONNECTED\r\n9 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\r\n- VDS-ZK connection state changed: CONNECTED\r\n9 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManager - ZooManager\r\nconnection state changed: CONNECTED\r\nThe naming context has been successfully restored from its backup.</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">C:\\radiantone\\vds\\bin>vdsconfig.bat restore-hdapstore -namingcontext o=companydirectory -list\r\nUsing RLI home : C:\\radiantone\\vds\r\nUsing Java home : C:\\radiantone\\vds\\jdk\\jre\r\n0 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\r\n- Curator connection state change: CONNECTED\r\n8 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\r\n- VDS-ZK connection state changed: CONNECTED\r\n9 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManager - ZooManager\r\nconnection state changed: CONNECTED\r\nCurrent backups for 'o=companydirectory':\r\nBackup Id Date of Backup\r\n-------------------------------------------\r\n1440023312307 08/19/2015 15:28:\r\n1440023472460 08/19/2015 15:31:\r\n1440023524906 08/19/2015 15:32:\r\n1440088234257 08/20/2015 09:30:\r\n\r\nC:\\radiantone\\vds\\bin>vdsconfig.bat restore-hdapstore -namingcontext o=companydirectory\r\n\r\n- backupid 1440023312307\r\nUsing RLI home : C:\\radiantone\\vds\r\nUsing Java home : C:\\radiantone\\vds\\jdk\\jre\r\n0 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\r\n- Curator connection state change: CONNECTED\r\n9 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\r\n- VDS-ZK connection state changed: CONNECTED\r\n9 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManager - ZooManager\r\nconnection state changed: CONNECTED\r\nThe naming context has been successfully restored from its backup.</code></pre></div>\n<h4 id=\"restoring-persistent-cache\">Restoring Persistent Cache</h4>\n<p>Persistent cache can be restored (from a backup image), re-initialized (from the current image in the backends), or updated based on changes accumulated by the connectors (if real-time, connector-based refresh is deployed).</p>\n<p>Depending on how long the entire cluster has been down, it might be more efficient to re- initialize the persistent cache as opposed to having RadiantOne update the cache gradually based on the backlog of changes captured by the connectors once they are back online.</p>\n<p>If the cluster has not been down for very long it might be fine to have RadiantOne update the\r\ncache based on notification of the backlog of changes captured by the connectors. Once the connectors are started, they pick up changes from where they last left off and the persistent cache is refreshed with the changes that happened in the backends while the entire cluster was down.</p>\n<p>You can also restore the persistent cache to a previous image based on a backup. If the data hasn’t changed in the backends since the last backup was taken, the persistent cache can be\r\nrestored instead of re-initialized. This is faster than re-initializing and doesn’t require heavy load\r\non the backends.</p>\n<h5 id=\"restore-a-persistent-cache-to-a-previous-image\">Restore a Persistent Cache to a Previous Image</h5>\n<p>Before running the restore command, copy the saved backup folder to the machine where you are restoring the image:</p>\n<p>For example, if a naming context representing a persistent cache is named dc=sun, the storage\r\nname folder is dc_sun. In the example used below, this folder is copied to\r\n&#x3C;RLI_HOME>/vds_server/data/oldbackup.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 502px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ca51852ddc391256e4e6f1a67f1c1e30/6f76c/Image2.3.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 19.631901840490798%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAABrmEBv//EABgQAQADAQAAAAAAAAAAAAAAAAIAAxMU/9oACAEBAAEFAr3m91OhT//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABcQAQEBAQAAAAAAAAAAAAAAAAEAMRH/2gAIAQEABj8C4BYWF//EABkQAQACAwAAAAAAAAAAAAAAAAEAEUHB4f/aAAgBAQABPyFyUKzDkxt0z//aAAwDAQACAAMAAAAQfC//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxBX/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAECAQE/EAMsL//EABsQAQABBQEAAAAAAAAAAAAAAAEAESExYdHB/9oACAEBAAE/EEjAub7G1ce3YNBb27P/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"An image showing \"\n        title=\"An image showing \"\n        src=\"/static/ca51852ddc391256e4e6f1a67f1c1e30/6f76c/Image2.3.jpg\"\n        srcset=\"/static/ca51852ddc391256e4e6f1a67f1c1e30/d2f63/Image2.3.jpg 163w,\n/static/ca51852ddc391256e4e6f1a67f1c1e30/c989d/Image2.3.jpg 325w,\n/static/ca51852ddc391256e4e6f1a67f1c1e30/6f76c/Image2.3.jpg 502w\"\n        sizes=\"(max-width: 502px) 100vw, 502px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Figure 2. 3 : Example Storage of Persistent Cache</p>\n<p>The tool used for restoring persistent cache from command line is named vdsconfig.bat (Windows) or vdsconfig.sh (Linux) and is located in &#x3C;RLI_HOME>/bin. This utility should be\r\nused on the RadiantOne leader node. To verify the leader node, go to the Main Control Panel > Dashboard tab and look for the node that has a yellow triangle next to the name.</p>\n<p>The restore-hdapstore command restores a persistent cache branch back to the state of a given backup image. To restore from the most recent backup image do not pass a backupid in the command. Just pass the location to the backup directory containing the files (in the -backupdir argument). To restore from a specific point in time, pass the applicable backupid in the command. Use the -list argument to obtain a list of possible backup ids for the given naming context.</p>\n<p><strong>Usage</strong></p>\n\n          <codeblockcopytag>restore-hdapstore -namingcontext <namingcontext> [-backupdir <backupdir>] [-backupid] <backupid>] [-instance <instance>] [-list]</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">restore-hdapstore -namingcontext &lt;namingcontext> [-backupdir &lt;backupdir>] [-backupid] &lt;backupid>] [-instance &lt;instance>] [-list]</code></pre></div>\n<p>Command Arguments</p>\n<ul>\n<li>namingcontext <code class=\"language-text\">&lt;namingcontext></code></li>\n</ul>\n<p><br>[required] The name of the naming context.</p>\n<ul>\n<li>backupdir <code class=\"language-text\">&lt;backupdir></code></li>\n</ul>\n<p><br>The full path to the directory containing the backup files. Do not specify this option if you use the - backupid option.</p>\n<ul>\n<li>backupid <code class=\"language-text\">&lt;backupid></code></li>\n</ul>\n<p><br>The ID of an existing backup image. If this is not specified, the restore attempts to use the latest backup image found. Use the -list argument to obtain a list of possible backup ids for the given naming context.</p>\n<ul>\n<li>instance <instance></li>\n</ul>\n<p><br>The name of the RadiantOne instance. If this is not specified, the default instance named vds_server is used.</p>\n<ul>\n<li>list</li>\n</ul>\n<p><br>Option used to print out the list of backup ids for the given naming context. Use this option first to get the list of backup ids as you must pass the backupid when you restore if you want to restore to a specific point in time.</p>\n<p>Example</p>\n\n          <codeblockcopytag>C:\\radiantone\\vds\\bin>vdsconfig.bat restore-hdapstore -namingcontext dc=sun -backupdir“C:\\radiantone\\vds\\vds_server\\data\\oldbackup\\dc_sun\\ 2015 - 12 - 21_14- 41 - 02” -instance vds_server\r\n\r\nUsing RLI home : C:\\radiantone\\vds\r\nUsing Java home : C:\\radiantone\\vds\\jdk\\jre\r\n0 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\r\n- Curator connection state change: CONNECTED\r\n9 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\r\n- VDS-ZK connection state changed: CONNECTED\r\n9 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManager - ZooManager\r\nconnection state changed: CONNECTED\r\nThe naming context has been successfully restored from its backup</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">C:\\radiantone\\vds\\bin>vdsconfig.bat restore-hdapstore -namingcontext dc=sun -backupdir“C:\\radiantone\\vds\\vds_server\\data\\oldbackup\\dc_sun\\ 2015 - 12 - 21_14- 41 - 02” -instance vds_server\r\n\r\nUsing RLI home : C:\\radiantone\\vds\r\nUsing Java home : C:\\radiantone\\vds\\jdk\\jre\r\n0 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\r\n- Curator connection state change: CONNECTED\r\n9 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\r\n- VDS-ZK connection state changed: CONNECTED\r\n9 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManager - ZooManager\r\nconnection state changed: CONNECTED\r\nThe naming context has been successfully restored from its backup</code></pre></div>\n<h5 id=\"reinitialize-persistent-cache\">Reinitialize Persistent Cache</h5>\n<p>To reinitialize a persistent cache:</p>\n<ol>\n<li>On the RadiantOne leader node, go to the Main Control Panel > Directory Namespace tab.</li>\n<li>Navigate below the Cache node and select the persistent cache branch.</li>\n<li>On the right side, Refresh Settings tab, click on the Initialize button.</li>\n<li>Select to Create a new LDIF file.</li>\n<li>Click OK. A task is launched to re-initialize the persistent cache. Tasks can be monitored on from the Server Control Panel > Tasks tab associated with the RadiantOne leader node.</li>\n</ol>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{"id":"chapter-2-cluster-management"},"children":[{"type":"text","value":"Chapter 2: Cluster Management"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"expert-mode"},"children":[{"type":"text","value":"Expert Mode"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Some settings in RadiantOne are accessible only in Expert Mode. To switch to Expert Mode, click the Logged in as, (username) drop-down menu and select Expert Mode."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 180px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/04c63498215abb0e4f65eab4839e042b/4ec73/Image2.1.jpg","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 87.11656441717791%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAEEBQL/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAv/aAAwDAQACEAMQAAABvRe6TntEJFSD/8QAGRAAAgMBAAAAAAAAAAAAAAAAABMREiBB/9oACAEBAAEFAqQLEnc//8QAGBEAAgMAAAAAAAAAAAAAAAAAABIBAhD/2gAIAQMBAT8BWBa7/8QAGBEAAgMAAAAAAAAAAAAAAAAAAhEAEFH/2gAIAQIBAT8BZRnt/wD/xAAXEAADAQAAAAAAAAAAAAAAAAAQESAx/9oACAEBAAY/AkNv/8QAHhAAAgEDBQAAAAAAAAAAAAAAAAERMUFxECGBkfD/2gAIAQEAAT8hoM10Q9JgGohKxAt1ZnBcVNP/2gAMAwEAAgADAAAAEFfYAP/EABgRAAIDAAAAAAAAAAAAAAAAAAABEFFh/9oACAEDAQE/EL0ZT//EABkRAAEFAAAAAAAAAAAAAAAAAAEAEEGh8P/aAAgBAgEBPxAxGloH/8QAHhABAAIBBAMAAAAAAAAAAAAAAQARIRBBUXExgbH/2gAIAQEAAT8QULPs2+1L3KNvEWdroYI0ilsG/GfUZg7CUcY6r//Z'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"An image showing ","title":"An image showing ","src":"/static/04c63498215abb0e4f65eab4839e042b/4ec73/Image2.1.jpg","srcSet":["/static/04c63498215abb0e4f65eab4839e042b/d2f63/Image2.1.jpg 163w","/static/04c63498215abb0e4f65eab4839e042b/4ec73/Image2.1.jpg 180w"],"sizes":"(max-width: 180px) 100vw, 180px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Figure 2. 1 : Accessing Expert Mode"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"**Note - The Main Control Panel saves the last mode (Expert or Standard) it was in when you log out and returns to this mode automatically when you log back"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"in. The mode is saved on a per-role basis.**"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"adding-nodes"},"children":[{"type":"text","value":"Adding Nodes"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To install nodes to an existing cluster, you need the following details:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The server name of an existing core RadiantOne cluster node."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The server names and ports of the ZooKeeper ensemble."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The cluster name."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The ZooKeeper login and password."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"A valid RadiantOne license key. Keys can be enforced at the cluster level or the node"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"level. Please check with your Radiant Logic representative to verify your license key type."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For exact installation steps, please see the RadiantOne Installation Guide."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"removing-nodes"},"children":[{"type":"text","value":"Removing Nodes"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If ZooKeeper is deployed in an external ensemble, make sure all nodes are running."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If ZooKeeper is deployed local, on the same machines as the RadiantOne nodes, make sure it is running on all nodes. If ZooKeeper cannot be started on the RadiantOne node that needs\r\nremoved, follow the steps in "},{"type":"element","tagName":"a","properties":{"href":"#node-andor-services-cannot-be-restarted"},"children":[{"type":"text","value":"Node and/or Services Cannot Be Restarted"}]},{"type":"text","value":" instead of the steps in this section."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Make sure all other RadiantOne services are stopped on all nodes."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To remove a node from a cluster:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"On the node that is to be removed from your cluster, run the following command (using  cluster.bat on Windows, cluster.sh on Linux):"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":" <RLI_HOME>/bin/advanced/cluster.bat detach\r\n2. Edit the <RLI_HOME>\\vds_server\\conf\\cloud.properties file on each remaining cluster node and verify that the zk.servers value correctly lists the cluster nodes and ZooKeeper client port. If the zk.servers value is incorrect, run the following command (using cluster.bat on Windows, cluster.sh on Linux):\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"<RLI_HOME>/bin/advanced/cluster.bat update-zk-client-conf\r\n3. To update the vdsha and replicationjournal data sources (that still reference the removed RadiantOne node), on one of the remaining cluster nodes, run the following command (using cluster.bat on Windows, cluster.sh on Linux):     "},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"<RLI_HOME>/bin/advanced/cluster.bat reset-cluster-datasource"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To update a specific data source, like vdsha, use the following command instead of the one mentioned above (vds_server is the instance name and vdsha is the data source name in this example):\r\n<RLI_HOME>/bin/advanced/cluster.bat reset-cluster-datasource vds_server vdsha"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":4},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"To update the vdsha and replicationjournal data sources (that still reference the other cluster nodes), on the removed node, run the following command (using cluster.bat on Windows, cluster.sh on Linux):\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"<RLI_HOME>/bin/advanced/cluster.bat reset-cluster-datasource"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"To update the cluster name on the removed node, run the following command (using\r\ncluster.bat on Windows, cluster.sh on Linux):\r\n<RLI_HOME>/bin/advanced/cluster.sh rename-cluster-zk <vds_instance_name>\r\n<new_cluster_name>\r\nvds_server is the default instance name."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Restart the RadiantOne service and Control Panel (Jetty) on all cluster nodes and the node that was removed from the cluster."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"At this point, you have a two-node cluster and one node by itself, which could be the start of a new cluster."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"renaming-clusters"},"children":[{"type":"text","value":"Renaming Clusters"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Renaming a cluster is a delicate operation that should not be used frequently and is not recommended for deployed architectures involved in inter-cluster replication since the cluster name is key for the replication logic."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To rename a cluster, perform the following steps (using cluster.bat on Windows, cluster.sh on\r\nLinux):"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Stop all RadiantOne services except ZooKeeper."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"On any RadiantOne node, run:\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"<RLI_HOME>/bin/advanced/cluster.sh rename-cluster-zk <vds_instance_name>\r\n<old_cluster_name> <new_cluster_name>\r\nThis moves the Zookeeper data from /radiantone/"},{"type":"element","tagName":"version","properties":{},"children":[{"type":"text","value":"/<old_cluster_name> to\r\n/radiantone/"},{"type":"element","tagName":"version","properties":{},"children":[{"type":"text","value":"/<new_cluster_name>"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"On each RadiantOne node, run:\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"<RLI_HOME>/bin/advanced/cluster.sh rename-cluster-local <vds_instance_name>\r\n<new_cluster_name>"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Start the Radiantone services on all nodes."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"updating-zookeeper-admin-credentials"},"children":[{"type":"text","value":"Updating ZooKeeper Admin Credentials"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"During RadiantOne installation, the ZooKeeper admin username and password are defined. An example is shown below."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 529px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/bae1d812fad0ad7321c200869ee21aee/62e42/Image2.2.jpg","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 63.80368098159509%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB1pdSoWAn/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAIBAxMREv/aAAgBAQABBQLFTFDBCCx/BFvT/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAECIv/aAAgBAwEBPwFqTB//xAAXEQEAAwAAAAAAAAAAAAAAAAAAAREi/9oACAECAQE/Ablp/8QAFxABAQEBAAAAAAAAAAAAAAAAAOEQMf/aAAgBAQAGPwJV3j//xAAaEAADAQADAAAAAAAAAAAAAAAAARFhQZGx/9oACAEBAAE/Ia8PsyYxYeogTlpJfZ//2gAMAwEAAgADAAAAECcP/8QAGBEBAQADAAAAAAAAAAAAAAAAAQARQaH/2gAIAQMBAT8QEZSBa5f/xAAXEQEBAQEAAAAAAAAAAAAAAAABABFh/9oACAECAQE/EB3Bnu//xAAaEAACAwEBAAAAAAAAAAAAAAABEQAhMZHR/9oACAEBAAE/EAoTTl4Tb3RHujk5ZEIGvLVDmQEVH//Z'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"An image showing ","title":"An image showing ","src":"/static/bae1d812fad0ad7321c200869ee21aee/62e42/Image2.2.jpg","srcSet":["/static/bae1d812fad0ad7321c200869ee21aee/d2f63/Image2.2.jpg 163w","/static/bae1d812fad0ad7321c200869ee21aee/c989d/Image2.2.jpg 325w","/static/bae1d812fad0ad7321c200869ee21aee/62e42/Image2.2.jpg 529w"],"sizes":"(max-width: 529px) 100vw, 529px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Figure 2.2: Setting Zookeeper Admin Credentials During Install"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Updating the ZooKeeper admin credentials that were defined during installation is a very\r\ndelicate operation. All ZooKeepers in the cluster must be functioning properly and allow\r\nread/write operations (they can’t be in read-only mode). All other RadiantOne services on all\r\ncluster nodes must be stopped, meaning that client requests cannot be processed during the\r\ntime the ZooKeeper admin credentials are being updated."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To update the ZooKeeper admin username and/or password follow the steps below. These\r\nsteps are the same whether ZooKeeper is running in an external ensemble or on the same local\r\nRadiantOne nodes unless otherwise mentioned."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"On any RadiantOne node, run <RLI_HOME>/bin/advanced/cluster.bat list (use cluster.sh on Linux) from command line. Ensure the cluster is in a healthy state with all RadiantOne and ZooKeeper services up and running."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Run <RLI_HOME>/bin/advanced/stop_servers.bat (use stop_servers.sh on Linux) on all RadiantOne cluster nodes. This ensures all RadiantOne services are stopped."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If you are using an internal/local ZooKeeper, run <RLI_HOME>/bin/runZookeeper.bat (use runZookeeper.sh on Linux) on all RadiantOne cluster nodes. ZooKeeper on all nodes must be running. If you are using an external ZooKeeper ensemble, all servers should be running already, so you can skip this step."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"On any RadiantOne node in the cluster, run <RLI_HOME>/bin/advanced/cluster.bat change-zk-server-credentials <instance_name> <new_adminuser> <new_password> where <instance_name> is vds_server, <new_adminuser> is the new ZooKeeper admin user. To keep the same admin user, enter the value of the current admin user and <new_password> is the new password for the ZooKeeper admin user. An example is shown below:"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"<RLI_HOME>/bin/advanced/cluster.bat change-zk-server-credentials vds_server admin newpassword"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":5},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"A warning appears, enter Y to continue."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"WARN ClusterCommands:485 - !!! WARNING !!!\n\nWARN ClusterCommands:486 - This is a very sensitive operation.\n\nWARN ClusterCommands:487 - Please make sure that all the other RadiantOne programs and\nservices are stopped on all the nodes of the cluster.\n\nWARN ClusterCommands:489 - Continue (y/n)?"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"WARN ClusterCommands:485 - "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"!"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"!"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"!"}]},{"type":"text","value":" WARNING "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"!"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"!"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"!"}]},{"type":"text","value":"\n\nWARN ClusterCommands:486 - This is a very sensitive operation.\n\nWARN ClusterCommands:487 - Please "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"make"}]},{"type":"text","value":" sure that all the other RadiantOne programs and\nservices are stopped on all the nodes of the cluster.\n\nWARN ClusterCommands:489 - Continue "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"y/n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"?"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"**Note – if you want to bypass the warning, use the true flag as follows:"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"<RLI_HOME>/bin/advanced/cluster.bat change-zk-server-credentials <instance_name> <new_adminuser> <new_password> true"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":6},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"After the command executes, the following warning is displayed."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"WARN ClusterCommands:552 - Please update the client credentials and restart ZooKeeper on\nall the nodes."}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"WARN ClusterCommands:552 - Please update the client credentials and restart ZooKeeper on\nall the nodes."}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":7},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"On each remaining RadiantOne cluster node, run <RLI_HOME>/bin/advanced/cluster.bat change-zk-client-credentials "},{"type":"element","tagName":"code","properties":{"className":["language-<instance_name"]},"children":[{"type":"text","value":" <new_adminuser"}]},{"type":"text","value":" where <instance_name> is vds_server, <new_adminuser> is the ZooKeeper admin user and <new_password> is the new password for the ZooKeeper admin user. An example is shown below:\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"<RLI_HOME>/bin/advanced/cluster.bat change-zk-client-credentials vds_server admin\r\nnewpassword"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If you are using an internal/local ZooKeeper, restart ZooKeeper, one at a time, on all RadiantOne cluster nodes. You can use <RLI_HOME>/bin/stopZookeeper.bat (use    stopZookeeper.sh on Linux) and then <RLI_HOME>/bin/runZookeeper.bat (use runZookeeper.sh on Linux) to restart ZooKeeper. Ensure the ZooKeeper you restarted is back up prior to restarting it on another node. If you are using an external ZooKeeper ensemble, restart each ZooKeeper service, one at a time, on all nodes. Typically the ZooKeeper services in an external ensemble run as Windows Service/Linux Daemons, so restart using the native OS utilities."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Start the RadiantOne service on all cluster nodes."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"To ensure all servers in the cluster are running and accessible, run\r\n<RLI_HOME>/bin/advanced/cluster.bat list (use cluster.sh on Linux) from command line."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the command returns with errors, resolve them prior to allowing clients to access\r\nRadiantOne again."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"updating-radiantone-super-user-credentials"},"children":[{"type":"text","value":"Updating RadiantOne Super User Credentials"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The directory administrator (e.g. cn=directory manager) password is set during the install of\r\nRadiantOne and can be changed from Main Control Panel > Settings > Server Front End > Administration. Click “Change the password” link in the Directory Manager Settings section.\r\nEnter the new value and click on the Save button in the upper right corner."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"style":"color:red"},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"IMPORTANT NOTES – if you change the password and you are currently logged into the Control Panel as the super user, you must close the Control Panel and re-open it logging in with the new password."}]}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To change the directory manager’s password from the Instance Manager command line utility, you can use the following command:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"element","tagName":"rli_home","properties":{},"children":[{"type":"text","value":"/bin/instancemanager -u -n vds_server -p 2389 -w newpassword"}]}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<RLI_HOME>/bin/instancemanager -u -n vds_server -p 2389 -w newpassword"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The -p option is required when updating the password."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The RadiantOne service must be stopped when running this command. For more details on the Instance Manager utility, please see the RadiantOne Deployment and Tuning Guide."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can also change the directory administrator’s password via LDAP. The DN representing the directory administrator is: cn=Directory Manager,ou=RootUsers,cn=config. The example below\r\nis using an LDIF file and the ldapmodify command to modify the password:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"dn: cn=Directory Manager,ou=RootUsers,cn=config\nchangetype: modify\nreplace: userPassword\nuserPassword: newpassword"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"dn: cn=Directory Manager,ou=RootUsers,cn=config\nchangetype: modify\nreplace: userPassword\nuserPassword: newpassword"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"An example of the syntax used in the command is shown below, assuming the LDIF file described above is named ChangePassword.ldif."}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"ldapmodify.exe -D \"cn=Directory Manager,ou=RootUsers,cn=config\" -w password -h localhost -\np 2389 -f c:\\radiantone\\ChangePassword.ldif"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ldapmodify.exe -D \"cn=Directory Manager,ou=RootUsers,cn=config\" -w password -h localhost -\np 2389 -f c:\\radiantone\\ChangePassword.ldif"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Note – the RadiantOne service may be running when this command is executed."}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"maintaining-connections-to-backend-systems"},"children":[{"type":"text","value":"Maintaining Connections to Backend Systems"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once the connections are established between RadiantOne and the underlying systems, the only changes required are when those connections need to be updated. For example, if\r\nRadiantOne needs to point to a different server/port or use a different service account user/password then you must update the connection strings that are stored in the RadiantOne\r\ndata sources."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The connection string information can be changed from the Main Control Panel > Settings Tab > Server Backend section. You can also update connection strings from command line using\r\nthe vdsconfig utility. For details on the vdsconfig utility, please see the RadiantOne Command Line Configuration Guide."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"backing-up-configuration"},"children":[{"type":"text","value":"Backing up Configuration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If you are running RadiantOne on a virtual machine and would like to take periodic snapshots, ensure all RadiantOne components are stopped (<RLI_HOME>/bin/advanced/stop_servers)\r\nprior to taking the snapshot."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You should periodically use the RadiantOne Migration Utility with the export option to save a copy of the RadiantOne configuration."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The example below assumes the file containing the backup of the RadiantOne configuration is C:\\tmp\\backupMay.zip and the RadiantOne Migration Utility has been installed at\r\nC:\\MigrationUtility\\radiantone-migration-tool-2.0.0:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"C:\\MigrationUtility\\radiantone-migration-tool-2.0.0\\migrate.bat export C:\\tmp\\backupMay.zip"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"C:\\MigrationUtility\\radiantone-migration-tool-2.0.0\\migrate.bat export C:\\tmp\\backupMay.zip"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Copy the exported file to a safe location where you maintain backups. If you need to "},{"type":"element","tagName":"a","properties":{"href":"#restoring-cluster-from-backup-configuration"},"children":[{"type":"text","value":"restore your RadiantOne configuration"}]},{"type":"text","value":", you can use this backup file."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Note – it is also recommended to occasionally save a backup of your entire <RLI_HOME> folder to a safe location."}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"rebuilding-jar-files"},"children":[{"type":"text","value":"Rebuilding Jar Files"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Jar files can be rebuilt from command line. An example is shown below. Restart the RadiantOne service after jars are rebuilt."}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"C:\\radiantone\\vds\\vds_server\\custom>c:\\radiantone\\vds\\ant\\bin\\ant.bat buildjars\n\nBuildfile: build.xml\n\ncompile:\n\n[javac] Compiling 28 source files to C:\\radiantone\\vds\\vds_server\\custom\\classes\n\n[propertyfile] Updating property file: C:\\radiantone\\vds\\vds_server\\custom\\build.txt\n\nbuildjars:\n\n[jar] Building jar: C:\\radiantone\\vds\\vds_server\\custom\\lib\\customobjects.jar\n\n[jar] Building jar: C:\\radiantone\\vds\\vds_server\\custom\\lib\\intercept.jar\n\n[jar] Building jar: C:\\radiantone\\vds\\vds_server\\custom\\lib\\fidsync.jar\n\n[jar] Warning: skipping jar archive C:\\radiantone\\vds\\vds_server\\custom\\lib\\sync.jar because\nno files were included.\n\n[jar] Building jar: C:\\radiantone\\vds\\vds_server\\custom\\lib\\sync.jar\n\n[jar] Building jar: C:\\radiantone\\vds\\vds_server\\custom\\lib\\changeEventConvertors.jar\n\n##### BUILD SUCCESSFUL\n\nTotal time: 5 seconds"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"C:\\radiantone\\vds\\vds_server\\custom>c:\\radiantone\\vds\\ant\\bin\\ant.bat buildjars\n\nBuildfile: build.xml\n\ncompile:\n\n[javac] Compiling 28 source files to C:\\radiantone\\vds\\vds_server\\custom\\classes\n\n[propertyfile] Updating property file: C:\\radiantone\\vds\\vds_server\\custom\\build.txt\n\nbuildjars:\n\n[jar] Building jar: C:\\radiantone\\vds\\vds_server\\custom\\lib\\customobjects.jar\n\n[jar] Building jar: C:\\radiantone\\vds\\vds_server\\custom\\lib\\intercept.jar\n\n[jar] Building jar: C:\\radiantone\\vds\\vds_server\\custom\\lib\\fidsync.jar\n\n[jar] Warning: skipping jar archive C:\\radiantone\\vds\\vds_server\\custom\\lib\\sync.jar because\nno files were included.\n\n[jar] Building jar: C:\\radiantone\\vds\\vds_server\\custom\\lib\\sync.jar\n\n[jar] Building jar: C:\\radiantone\\vds\\vds_server\\custom\\lib\\changeEventConvertors.jar\n\n##### BUILD SUCCESSFUL\n\nTotal time: 5 seconds"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"recovering-a-failed-node"},"children":[{"type":"text","value":"Recovering a Failed Node"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"node-and-services-can-be-restarted"},"children":[{"type":"text","value":"Node and Services Can Be Restarted"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the node and services (e.g. ZooKeeper, RadiantOne, Jetty) can be restarted, once it is back online, the ZooKeeper from the failed node synchronizes all current configuration changes with the ensemble. The RadiantOne service on the failed node picks up changes to Universal Directory (HDAP) stores and persistent cache from the leader node."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"node-andor-services-cannot-be-restarted"},"children":[{"type":"text","value":"Node and/or Services Cannot Be Restarted"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the failed node cannot be restarted, or the required services on the node cannot be restarted, the failed node should be removed and a new cluster node should be created following the steps below. If ZooKeeper is local on the RadiantOne node to be removed, make sure the\r\nZooKeeper service is stopped."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"At this point, the RadiantOne service on the failed node is still registered in the cluster. Get the Cloud ID and ZooKeeper ID of the failed node by running <RLI_HOME>/bin/advanced/cluster.bat list on a healthy cluster node. Take note of the Cloud ID and ZooKeeper Server ID (e.g. 1, 2, 3) of the failed node. Below is an example:"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"| Hostname | Cloud ID | VDS status | ZooKeeper Server ID | ZooKeeper UP?\n\n| DOC-E1WIN1 | 8773eaa7-3de0- 4421 - 96ad-7de4c1b56c1c | ON | #1 | ON |\n\n| DOC-E1WIN2* | 4a506e15-b726- 4551 - 82a9-42759f00981c | ON | #2** | ON |\n\n| DOC-E1WIN3 | 2ded0740-3aeb- 4430 - bcf9-788ce666cc38 | ON | #3 |\nOFF |"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"| Hostname | Cloud ID | VDS status | ZooKeeper Server ID | ZooKeeper UP?\n\n| DOC-E1WIN1 | 8773eaa7-3de0- 4421 - 96ad-7de4c1b56c1c | ON | #1 | ON |\n\n| DOC-E1WIN2* | 4a506e15-b726- 4551 - 82a9-42759f00981c | ON | #2** | ON |\n\n| DOC-E1WIN3 | 2ded0740-3aeb- 4430 - bcf9-788ce666cc38 | ON | #3 |\nOFF |"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":2},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"To remove reference to the failed node, on one healthy node of the cluster, run the following command (using cluster.bat on Windows, cluster.sh on Linux):"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"<RLI_HOME>/bin/advanced/cluster.bat zk-leave vds_server "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<ZooKeeper Server ID of the failed node>"}]},{"type":"text","value":"\r\n3. On one healthy node of the cluster, run the following command (using cluster.bat on Windows, cluster.sh on Linux): <RLI_HOME>/bin/advanced/cluster.bat unregister vds_server < Cloud ID of the failed node >"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":4},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Edit the <RLI_HOME>\\vds_server\\conf\\cloud.properties file on each remaining cluster node and verify that the zk.servers value correctly lists the cluster nodes and ZooKeeper client port. If the zk.servers value is incorrect, run the following command (using cluster.bat on Windows, cluster.sh on Linux): "},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"<RLI_HOME>/bin/advanced/cluster.bat update-zk-client-conf"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"On one of the remaining cluster nodes, manually update the vdsha and replicationjournal (if applicable) data sources to remove reference to the failed node. Data sources can be    updated from the Main Control Panel > Settings tab > Server Backend section > LDAP data sources, or from command line using the vdsconfig utility. For details on using the command line options, please see the RadiantOne Command Line Configuration Guide."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Install RadiantOne on a new machine and have it join the existing cluster. For detailed steps on adding a node to an existing cluster, please see the RadiantOne Installation  Guide. Once the new node is installed, it automatically inherits from the existing configuration and data (Universal Directory stores and persistent cache)."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"manually-synchronizing-files-to-zookeeper"},"children":[{"type":"text","value":"Manually Synchronizing Files to ZooKeeper"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If ZooKeeper is running, all configuration changes made from the Main Control Panel or from the command line utility (vdsconfig) are updated on both the file system and in ZooKeeper (to be shared across all cluster nodes)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When RadiantOne configuration files are modified externally, directly on the file system, they are not automatically updated in ZooKeeper. In fact, when files are modified externally, they are overridden by ZooKeeper when the RadiantOne service starts or restarts."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Any manual, external changes made to files in the following directories require a manual sync\r\nprocess to ZooKeeper:\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"<RLI_HOME>/vds_server/datasources\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"<RLI_HOME>/vds/config/log2db"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The utility to synchronize files to ZooKeeper is:\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"<RLI_HOME>\\bin\\advanced\\zooKeeperUpdateUtil.bat"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Pass the file name to synchronize to ZooKeeper using the -f property. Below is an example of\r\nsynchronizing the custom.xml file."}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"C:\\radiantone\\vds\\bin\\advanced>zookeeperupdateUtil.bat -f\nC:\\radiantone\\vds\\vds_server\\datasources\\custom.xml\n\nUsing RLI home : C:\\radiantone\\vds\nUsing Java home : C:\\radiantone\\vds\\jdk\\jre\nRadiant home Product env var : C:\\radiantone\\vds\nupdating zookeeper with local file content\n[C:\\radiantone\\vds\\vds_server\\datasources\\custom.xml]"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"C:\\radiantone\\vds\\bin\\advanced>zookeeperupdateUtil.bat -f\nC:\\radiantone\\vds\\vds_server\\datasources\\custom.xml\n\nUsing RLI home : C:\\radiantone\\vds\nUsing Java home : C:\\radiantone\\vds\\jdk\\jre\nRadiant home Product env var : C:\\radiantone\\vds\nupdating zookeeper with local file content\n[C:\\radiantone\\vds\\vds_server\\datasources\\custom.xml]"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The utility does not require the RadiantOne service on the node to be running, but does require\r\nZooKeeper on the node to be running."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"recovering-from-an-entire-cluster-failure"},"children":[{"type":"text","value":"Recovering from an Entire Cluster Failure"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"using-a-disaster-recoverybackup-site"},"children":[{"type":"text","value":"Using a Disaster Recovery/Backup Site"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This option assumes you have maintained a cluster in a DR site that can be used to repair your primary cluster using the steps below. The overall objective is to temporarily add a new node to the DR cluster and then decouple it from the cluster so it becomes the leader node for your primary cluster."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Install RadiantOne on a new machine and have it join the existing DR cluster. For detailed steps on adding a node to an existing cluster, please see the RadiantOne Installation Guide. For a list of cluster configuration required to add a new node, see "},{"type":"element","tagName":"a","properties":{"href":"#adding-nodes"},"children":[{"type":"text","value":"Adding Nodes"}]},{"type":"text","value":". Once the new node is installed, it automatically inherits from the existing configuration and data (Universal Directory stores and persistent cache)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Stop all RadiantOne service and Jetty. ZooKeeper should be running on all nodes."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"On the node that is to be used for restoring your primary cluster, run the following command to decouple it from the DR cluster (using cluster.bat on Windows, cluster.sh on Linux)."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"element","tagName":"rli_home","properties":{},"children":[{"type":"text","value":"/bin/advanced/cluster.bat detach"}]}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<br><RLI_HOME>/bin/advanced/cluster.bat detach"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The rest of the steps are broken into two sections. One set of steps are performed on the DR Cluster and the other set of steps are performed on the node you decoupled from the DR cluster noted as the New Primary Cluster Node."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Steps Associated with the Disaster Recovery Cluster/Site"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Edit the <RLI_HOME>\\vds_server\\conf\\cloud.properties file on each of the DR cluster nodes and verify that the zk.servers value correctly lists only the nodes currently in the DR cluster and ZooKeeper client port. If the zk.servers value is incorrect, run the following command (using cluster.bat on Windows, cluster.sh on Linux):"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"element","tagName":"rli_home","properties":{},"children":[{"type":"text","value":"/bin/advanced/cluster.bat update-zk-client-conf"}]}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<RLI_HOME>/bin/advanced/cluster.bat update-zk-client-conf"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":2},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"To update the vdsha and replicationjournal data sources (that still reference the removed cluster node), on one of the DR cluster nodes, run the following command (using"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"cluster.bat on Windows, cluster.sh on Linux):"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"element","tagName":"rli_home","properties":{},"children":[{"type":"text","value":"/bin/advanced/cluster.bat reset-cluster-datasource"}]}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<RLI_HOME>/bin/advanced/cluster.bat reset-cluster-datasource"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"At this point, the DR cluster should be back to normal."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Steps Associated with the New Primary Cluster Node"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Edit the <RLI_HOME>\\vds_server\\conf\\cloud.properties file on the detached node and verify that the zk.servers value correctly lists only this detached node and ZooKeeper client port. If the zk.servers value is incorrect, run the following command (using cluster.bat on Windows, cluster.sh on Linux):"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"element","tagName":"rli_home","properties":{},"children":[{"type":"text","value":"/bin/advanced/cluster.bat update-zk-client-conf"}]}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<RLI_HOME>/bin/advanced/cluster.bat update-zk-client-conf"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":2},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"To update the vdsha and replicationjournal data sources (that still reference the other cluster nodes), run the following command (using cluster.bat on Windows, cluster.sh on Linux):"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"element","tagName":"rli_home","properties":{},"children":[{"type":"text","value":"/bin/advanced/cluster.bat reset-cluster-datasource"}]}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<RLI_HOME>/bin/advanced/cluster.bat reset-cluster-datasource"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":3},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"To update the cluster name on the removed node, run the following command (using cluster.bat on Windows, cluster.sh on Linux):"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"element","tagName":"rli_home","properties":{},"children":[{"type":"text","value":"/bin/advanced/cluster.sh rename-cluster-zk "},{"type":"element","tagName":"vds_instance_name","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"new_cluster_name","properties":{},"children":[{"type":"text","value":"\nvds_server is the default instance name."}]}]}]}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<RLI_HOME>/bin/advanced/cluster.sh rename-cluster-zk <vds_instance_name>\n<new_cluster_name>\nvds_server is the default instance name."}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":4},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Start the RadiantOne service and Jetty on this node."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Install RadiantOne on a new machine and have it join the existing cluster. For detailed steps on adding a node to an existing cluster, please see the RadiantOne Installation Guide. Once the new node is installed, it automatically inherits from the existing configuration and data (RadiantOne Universal Directory stores and persistent cache)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Repeat step 5 to add another core cluster node. The cluster should have at least three core nodes if a local ZooKeeper ensemble is used. If an external ZooKeeper ensemble is used, the cluster should have at least two RadiantOne core nodes."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"restoring-cluster-from-backup-configuration"},"children":[{"type":"text","value":"Restoring Cluster from Backup Configuration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If there is no disaster recovery site to leverage for restoring a cluster, you can attempt to restore\r\nfrom backup files."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"restoring-configuration"},"children":[{"type":"text","value":"Restoring Configuration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can restore your RadiantOne configuration in cases where you need to revert back to a\r\nprevious time, or in case of corruption to critical files required for the service to function. The information in this section assumes you are restoring the configuration on the same machine from which the "},{"type":"element","tagName":"a","properties":{"href":"#backing-up-configuration"},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" was performed."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To restore the configuration, you can use an "},{"type":"element","tagName":"a","properties":{"href":"#backing-up-configuration"},"children":[{"type":"text","value":"exported file"}]},{"type":"text","value":" that was generated with the RadiantOne migration utility. Use the migration utility with the import option, reference the backup file and use the backup-restore argument."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The example below assumes the file containing the backup of the RadiantOne configuration is C:\\tmp\\backupMay.zip and the RadiantOne Migration Utility has been installed at\r\nC:\\MigrationUtility\\radiantone-migration-tool-2.0.0:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"C:\\MigrationUtility\\radiantone-migration-tool-2.0.0\\migrate.bat import C:\\tmp\\backupMay.zip backup-restore"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"C:\\MigrationUtility\\radiantone-migration-tool-2.0.0\\migrate.bat import C:\\tmp\\backupMay.zip backup-restore"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The backup-restore mode restores the following:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"vds_server.conf (in ZooKeeper)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"data sources (in ZooKeeper)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"client truststore (in ZooKeeper)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RadiantOne instances (if multiple instances were used)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":".orx and .dvx files"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"JDBC drivers (jdbcxml.xml)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"naming contexts (in ZooKeeper) – only the definition of the names, not the dependent"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"files (e.g. underlying data sources, .dvx files...etc.)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RadiantOne LDAP Schema files"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Monitoring configuration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RadiantOne Universal Directory (HDAP) stores (not persistent cache)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Custom project (restored only if the target RadiantOne version is the same as the version of the export). A backup copy of the custom folder is made in"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"<RLI_HOME>/<instance_name>/custom.yyyyMMdd-HHmmss/"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When the RadiantOne configuration is "},{"type":"element","tagName":"a","properties":{"href":"#backing-up-configuration"},"children":[{"type":"text","value":"exported"}]},{"type":"text","value":", a migration plan is generated. This migration plan contains the list of configuration (to be restored) and is named migration_plan.json. If you want to modify the migration plan prior to importing, use the following command to extract the migration plan from the zip file. In the example shown below, C:/import is the location where the backupMay.zip file has been copied to."}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"C:\\MigrationUtility\\radiantone-migration-tool-2.0.0\\migrate.bat generate-migration-plan C:\\import\\backupMay.zip"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"C:\\MigrationUtility\\radiantone-migration-tool-2.0.0\\migrate.bat generate-migration-plan C:\\import\\backupMay.zip"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This command creates migration_plan.json which contains the list of configurations that were exported from the source environment. Edit this file in your chosen text editor. Use the value: KEEP to indicate the resource should not be included in the restore. Use the value: MIGRATE to indicate the resource should be included in the restore. Do not change anything else in the file. When you are ready to import the configuration, run the following command. If you extracted and edited the migration_plan.json, it is used during the import instead of the one from the .zip file."}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"C:\\MigrationUtility\\radiantone-migration-tool-2.0.0\\migrate.bat import C:\\import\\backupMay.zip\nbackup-restore"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"C:\\MigrationUtility\\radiantone-migration-tool-2.0.0\\migrate.bat import C:\\import\\backupMay.zip\nbackup-restore"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"restoring-radiantone-universal-directory-hdap-stores"},"children":[{"type":"text","value":"Restoring RadiantOne Universal Directory (HDAP) Stores"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"RadiantOne Universal Directory stores can be restored from the Main Control Panel, or from command line."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{"id":"from-main-control-panel"},"children":[{"type":"text","value":"From Main Control Panel"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To restore a RadiantOne Universal Directory (HDAP) store, on the current RadiantOne leader node, go to the Main Control Panel > Directory Namespace Tab and select the RadiantOne\r\nUniversal Directory (HDAP) store node. On the right side, click the Restore button on the Properties tab. Click Yes to confirm the restore operation and then select the date\r\ncorresponding to the backup image to restore from."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{"id":"from-command-line"},"children":[{"type":"text","value":"From Command Line"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The tool used for restoring RadiantOne Universal Directory (HDAP) stores from command line is named vdsconfig.bat (Windows) or vdsconfig.sh (Linux) and is located in <RLI_HOME>/bin. This utility should be used on the RadiantOne leader node. To verify the leader node, go to the Main Control Panel > Dashboard tab and look for the node that has a yellow triangle next to the name."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The restore-hdapstore command restores a RadiantOne Universal Directory (HDAP) store back to the state of a given backup image. To restore from the most recent backup image do not\r\npass a backupid in the command. To restore from a specific point in time, pass the applicable backupid in the command. Use the - list argument to obtain a list of possible backup ids for the given naming context."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Usage"}]}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"restore-hdapstore -namingcontext "},{"type":"element","tagName":"namingcontext","properties":{},"children":[{"type":"text","value":" [-backupdir "},{"type":"element","tagName":"backupdir","properties":{},"children":[{"type":"text","value":"] [-backupid] "},{"type":"element","tagName":"backupid","properties":{},"children":[{"type":"text","value":"] [-instance "},{"type":"element","tagName":"instance","properties":{},"children":[{"type":"text","value":"] [-list]"}]}]}]}]}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"restore-hdapstore -namingcontext <namingcontext> [-backupdir <backupdir>] [-backupid] <backupid>] [-instance <instance>] [-list]"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Command Arguments"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"namingcontext "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<namingcontext>"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":" [required] The name of the naming context."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"backupdir "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<backupdir>"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":" The full path to the directory containing the backup files. Do not specify this option if you use the - backupid option."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"backupid "},{"type":"element","tagName":"backupid","properties":{},"children":[]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"The ID of an existing backup image. If this is not specified, the restore attempts to use the latest backup image found. Use the -list argument to obtain a list of possible backup ids for the given naming context."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"instance "},{"type":"element","tagName":"instance","properties":{},"children":[]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"The name of the RadiantOne instance. If this is not specified, the default instance named\r\nvds_server is used."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"list"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":" Option used to print out the list of backup ids for the given naming context. Use this option first to get the list of backup ids as you must pass the backupid when you restore if you want to restore to a specific point in time."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Examples"}]}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"C:\\radiantone\\vds\\bin>vdsconfig.bat restore-hdapstore -namingcontext o=newstore -backupzip\nC:\\install\\o_newstore-backup\\ 2017 - 03 - 28_12- 17 - 53.zip"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"C:\\radiantone\\vds\\bin>vdsconfig.bat restore-hdapstore -namingcontext o=newstore -backupzip\nC:\\install\\o_newstore-backup\\ 2017 - 03 - 28_12- 17 - 53.zip"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The following example shows two separate commands starting with listing the backup images and then passing a backup ID to use to restore."}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"C:\\radiantone\\vds\\bin>vdsconfig.bat restore-hdapstore -namingcontext o=companydirectory -list\nUsing RLI home : C:\\radiantone\\vds\nUsing Java home : C:\\radiantone\\vds\\jdk\\jre\n0 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\n- Curator connection state change: CONNECTED\n8 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\n- VDS-ZK connection state changed: CONNECTED\n9 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManager - ZooManager\nconnection state changed: CONNECTED\nCurrent backups for 'o=companydirectory':\nBackup Id Date of Backup\n-------------------------------------------\n1440023312307 08/19/2015 15:28:\n1440023472460 08/19/2015 15:31:\n1440023524906 08/19/2015 15:32:\n1440088234257 08/20/2015 09:30:\n\nC:\\radiantone\\vds\\bin>vdsconfig.bat restore-hdapstore -namingcontext o=companydirectory\n\n- backupid 1440023312307\nUsing RLI home : C:\\radiantone\\vds\nUsing Java home : C:\\radiantone\\vds\\jdk\\jre\n0 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\n- Curator connection state change: CONNECTED\n9 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\n- VDS-ZK connection state changed: CONNECTED\n9 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManager - ZooManager\nconnection state changed: CONNECTED\nThe naming context has been successfully restored from its backup."}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"C:\\radiantone\\vds\\bin>vdsconfig.bat restore-hdapstore -namingcontext o=companydirectory -list\nUsing RLI home : C:\\radiantone\\vds\nUsing Java home : C:\\radiantone\\vds\\jdk\\jre\n0 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\n- Curator connection state change: CONNECTED\n8 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\n- VDS-ZK connection state changed: CONNECTED\n9 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManager - ZooManager\nconnection state changed: CONNECTED\nCurrent backups for 'o=companydirectory':\nBackup Id Date of Backup\n-------------------------------------------\n1440023312307 08/19/2015 15:28:\n1440023472460 08/19/2015 15:31:\n1440023524906 08/19/2015 15:32:\n1440088234257 08/20/2015 09:30:\n\nC:\\radiantone\\vds\\bin>vdsconfig.bat restore-hdapstore -namingcontext o=companydirectory\n\n- backupid 1440023312307\nUsing RLI home : C:\\radiantone\\vds\nUsing Java home : C:\\radiantone\\vds\\jdk\\jre\n0 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\n- Curator connection state change: CONNECTED\n9 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\n- VDS-ZK connection state changed: CONNECTED\n9 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManager - ZooManager\nconnection state changed: CONNECTED\nThe naming context has been successfully restored from its backup."}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"restoring-persistent-cache"},"children":[{"type":"text","value":"Restoring Persistent Cache"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Persistent cache can be restored (from a backup image), re-initialized (from the current image in the backends), or updated based on changes accumulated by the connectors (if real-time, connector-based refresh is deployed)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Depending on how long the entire cluster has been down, it might be more efficient to re- initialize the persistent cache as opposed to having RadiantOne update the cache gradually based on the backlog of changes captured by the connectors once they are back online."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the cluster has not been down for very long it might be fine to have RadiantOne update the\r\ncache based on notification of the backlog of changes captured by the connectors. Once the connectors are started, they pick up changes from where they last left off and the persistent cache is refreshed with the changes that happened in the backends while the entire cluster was down."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can also restore the persistent cache to a previous image based on a backup. If the data hasn’t changed in the backends since the last backup was taken, the persistent cache can be\r\nrestored instead of re-initialized. This is faster than re-initializing and doesn’t require heavy load\r\non the backends."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{"id":"restore-a-persistent-cache-to-a-previous-image"},"children":[{"type":"text","value":"Restore a Persistent Cache to a Previous Image"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Before running the restore command, copy the saved backup folder to the machine where you are restoring the image:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For example, if a naming context representing a persistent cache is named dc=sun, the storage\r\nname folder is dc_sun. In the example used below, this folder is copied to\r\n<RLI_HOME>/vds_server/data/oldbackup."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 502px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/ca51852ddc391256e4e6f1a67f1c1e30/6f76c/Image2.3.jpg","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 19.631901840490798%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAABrmEBv//EABgQAQADAQAAAAAAAAAAAAAAAAIAAxMU/9oACAEBAAEFAr3m91OhT//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABcQAQEBAQAAAAAAAAAAAAAAAAEAMRH/2gAIAQEABj8C4BYWF//EABkQAQACAwAAAAAAAAAAAAAAAAEAEUHB4f/aAAgBAQABPyFyUKzDkxt0z//aAAwDAQACAAMAAAAQfC//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxBX/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAECAQE/EAMsL//EABsQAQABBQEAAAAAAAAAAAAAAAEAESExYdHB/9oACAEBAAE/EEjAub7G1ce3YNBb27P/2Q=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"An image showing ","title":"An image showing ","src":"/static/ca51852ddc391256e4e6f1a67f1c1e30/6f76c/Image2.3.jpg","srcSet":["/static/ca51852ddc391256e4e6f1a67f1c1e30/d2f63/Image2.3.jpg 163w","/static/ca51852ddc391256e4e6f1a67f1c1e30/c989d/Image2.3.jpg 325w","/static/ca51852ddc391256e4e6f1a67f1c1e30/6f76c/Image2.3.jpg 502w"],"sizes":"(max-width: 502px) 100vw, 502px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Figure 2. 3 : Example Storage of Persistent Cache"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The tool used for restoring persistent cache from command line is named vdsconfig.bat (Windows) or vdsconfig.sh (Linux) and is located in <RLI_HOME>/bin. This utility should be\r\nused on the RadiantOne leader node. To verify the leader node, go to the Main Control Panel > Dashboard tab and look for the node that has a yellow triangle next to the name."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The restore-hdapstore command restores a persistent cache branch back to the state of a given backup image. To restore from the most recent backup image do not pass a backupid in the command. Just pass the location to the backup directory containing the files (in the -backupdir argument). To restore from a specific point in time, pass the applicable backupid in the command. Use the -list argument to obtain a list of possible backup ids for the given naming context."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Usage"}]}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"restore-hdapstore -namingcontext "},{"type":"element","tagName":"namingcontext","properties":{},"children":[{"type":"text","value":" [-backupdir "},{"type":"element","tagName":"backupdir","properties":{},"children":[{"type":"text","value":"] [-backupid] "},{"type":"element","tagName":"backupid","properties":{},"children":[{"type":"text","value":"] [-instance "},{"type":"element","tagName":"instance","properties":{},"children":[{"type":"text","value":"] [-list]"}]}]}]}]}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"restore-hdapstore -namingcontext <namingcontext> [-backupdir <backupdir>] [-backupid] <backupid>] [-instance <instance>] [-list]"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Command Arguments"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"namingcontext "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<namingcontext>"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"[required] The name of the naming context."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"backupdir "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<backupdir>"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"The full path to the directory containing the backup files. Do not specify this option if you use the - backupid option."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"backupid "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<backupid>"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"The ID of an existing backup image. If this is not specified, the restore attempts to use the latest backup image found. Use the -list argument to obtain a list of possible backup ids for the given naming context."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"instance "},{"type":"element","tagName":"instance","properties":{},"children":[]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"The name of the RadiantOne instance. If this is not specified, the default instance named vds_server is used."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"list"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"Option used to print out the list of backup ids for the given naming context. Use this option first to get the list of backup ids as you must pass the backupid when you restore if you want to restore to a specific point in time."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Example"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"C:\\radiantone\\vds\\bin>vdsconfig.bat restore-hdapstore -namingcontext dc=sun -backupdir“C:\\radiantone\\vds\\vds_server\\data\\oldbackup\\dc_sun\\ 2015 - 12 - 21_14- 41 - 02” -instance vds_server\n\nUsing RLI home : C:\\radiantone\\vds\nUsing Java home : C:\\radiantone\\vds\\jdk\\jre\n0 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\n- Curator connection state change: CONNECTED\n9 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\n- VDS-ZK connection state changed: CONNECTED\n9 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManager - ZooManager\nconnection state changed: CONNECTED\nThe naming context has been successfully restored from its backup"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"C:\\radiantone\\vds\\bin>vdsconfig.bat restore-hdapstore -namingcontext dc=sun -backupdir“C:\\radiantone\\vds\\vds_server\\data\\oldbackup\\dc_sun\\ 2015 - 12 - 21_14- 41 - 02” -instance vds_server\n\nUsing RLI home : C:\\radiantone\\vds\nUsing Java home : C:\\radiantone\\vds\\jdk\\jre\n0 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\n- Curator connection state change: CONNECTED\n9 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManagerConnectionStateListener\n- VDS-ZK connection state changed: CONNECTED\n9 [ConnectionStateManager-0] WARN com.rli.zookeeper.ZooManager - ZooManager\nconnection state changed: CONNECTED\nThe naming context has been successfully restored from its backup"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{"id":"reinitialize-persistent-cache"},"children":[{"type":"text","value":"Reinitialize Persistent Cache"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To reinitialize a persistent cache:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"On the RadiantOne leader node, go to the Main Control Panel > Directory Namespace tab."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Navigate below the Cache node and select the persistent cache branch."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"On the right side, Refresh Settings tab, click on the Initialize button."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Select to Create a new LDIF file."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Click OK. A task is launched to re-initialize the persistent cache. Tasks can be monitored on from the Server Control Panel > Tasks tab associated with the RadiantOne leader node."}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"fileAbsolutePath":"C:/Ensemble/Projects/RadiantLogic/radiantlogic-v8-developer-site-ssh-2/developer-site/.cache/gatsby-source-git/main/documentation/operations-guide/02-cluster-management.md","frontmatter":{"title":"Operations Guide"},"headings":[{"id":"chapter-2-cluster-management","value":"Chapter 2: Cluster Management","depth":1},{"id":"expert-mode","value":"Expert Mode","depth":2},{"id":"adding-nodes","value":"Adding Nodes","depth":2},{"id":"removing-nodes","value":"Removing Nodes","depth":2},{"id":"renaming-clusters","value":"Renaming Clusters","depth":2},{"id":"updating-zookeeper-admin-credentials","value":"Updating ZooKeeper Admin Credentials","depth":3},{"id":"updating-radiantone-super-user-credentials","value":"Updating RadiantOne Super User Credentials","depth":2},{"id":"maintaining-connections-to-backend-systems","value":"Maintaining Connections to Backend Systems","depth":2},{"id":"backing-up-configuration","value":"Backing up Configuration","depth":2},{"id":"rebuilding-jar-files","value":"Rebuilding Jar Files","depth":2},{"id":"recovering-a-failed-node","value":"Recovering a Failed Node","depth":2},{"id":"node-and-services-can-be-restarted","value":"Node and Services Can Be Restarted","depth":3},{"id":"node-andor-services-cannot-be-restarted","value":"Node and/or Services Cannot Be Restarted","depth":3},{"id":"manually-synchronizing-files-to-zookeeper","value":"Manually Synchronizing Files to ZooKeeper","depth":2},{"id":"recovering-from-an-entire-cluster-failure","value":"Recovering from an Entire Cluster Failure","depth":2},{"id":"using-a-disaster-recoverybackup-site","value":"Using a Disaster Recovery/Backup Site","depth":3},{"id":"restoring-cluster-from-backup-configuration","value":"Restoring Cluster from Backup Configuration","depth":3},{"id":"restoring-configuration","value":"Restoring Configuration","depth":4},{"id":"restoring-radiantone-universal-directory-hdap-stores","value":"Restoring RadiantOne Universal Directory (HDAP) Stores","depth":4},{"id":"from-main-control-panel","value":"From Main Control Panel","depth":5},{"id":"from-command-line","value":"From Command Line","depth":5},{"id":"restoring-persistent-cache","value":"Restoring Persistent Cache","depth":4},{"id":"restore-a-persistent-cache-to-a-previous-image","value":"Restore a Persistent Cache to a Previous Image","depth":5},{"id":"reinitialize-persistent-cache","value":"Reinitialize Persistent Cache","depth":5}]},"toc":{"html":"<ul>\n<li><a href=\"01-overview.md\">Overview</a></li>\n<li><a href=\"02-cluster-management.md\">Cluster Management</a></li>\n<li><a href=\"03-radiantone-universal-directory-hdap-store-management.md\">RadiantOne Universal Directory (HDAP) Store Management</a></li>\n<li><a href=\"04-persistent-cache-management.md\">Persistent Cache Management</a></li>\n<li><a href=\"05-inter-cluster-management.md\">Inter-cluster Management</a></li>\n<li><a href=\"06-patching-production-environment.md\">Patching Production Environment</a></li>\n</ul>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"01-overview.md"},"children":[{"type":"text","value":"Overview"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"02-cluster-management.md"},"children":[{"type":"text","value":"Cluster Management"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"03-radiantone-universal-directory-hdap-store-management.md"},"children":[{"type":"text","value":"RadiantOne Universal Directory (HDAP) Store Management"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"04-persistent-cache-management.md"},"children":[{"type":"text","value":"Persistent Cache Management"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"05-inter-cluster-management.md"},"children":[{"type":"text","value":"Inter-cluster Management"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"06-patching-production-environment.md"},"children":[{"type":"text","value":"Patching Production Environment"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"fileAbsolutePath":"C:/Ensemble/Projects/RadiantLogic/radiantlogic-v8-developer-site-ssh-2/developer-site/.cache/gatsby-source-git/main/documentation/operations-guide/TOC.md","frontmatter":{"title":"Operations Guide"}},"rootToc":{"fileAbsolutePath":"C:/Ensemble/Projects/RadiantLogic/radiantlogic-v8-developer-site-ssh-2/developer-site/.cache/gatsby-source-git/main/home-pages/TOC.md","frontmatter":{"title":"Homepages TOC"},"htmlAst":{"type":"root","children":[{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"homepage1.md"},"children":[{"type":"text","value":"Homepage 1"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"homepage2.md"},"children":[{"type":"text","value":"Homepage 2"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}}}},"pageContext":{"slug":"operations-guide/02-cluster-management","dir":"documentation/operations-guide/02-cluster-management.md","absolutePath":"C:/Ensemble/Projects/RadiantLogic/radiantlogic-v8-developer-site-ssh-2/developer-site/.cache/gatsby-source-git/main/documentation/operations-guide/02-cluster-management.md","tocRegex":"/(main)/(documentation/)(operations-guide/)?(02-cluster-management.md/)?(TOC.md)/ig","rootTocRegex":".*/(gatsby-source-git)\\/(main)\\/(home-pages)\\/(TOC.md)/ig"}},"staticQueryHashes":["1597948176","3667468360","63159454"]}