{"componentChunkName":"component---src-templates-base-page-js","path":"/v7.4/ldif-utility-guide/03-determining-if-persistent-cache-is-out-of-sync/","result":{"data":{"pageContent":{"html":"<h1 id=\"determining-if-persistent-cache-is-out-of-sync\">Determining if Persistent Cache is Out of Sync</h1>\n<p>To determine if a persistent cache image is out of sync from the backends, you can compare two LDIF files using the ldif-utils utility located at &#x3C;RLI_HOME>/bin/advanced. The usage is shown below.</p>\n<p><code class=\"language-text\">ldif-utils -c &lt;ldif1> &lt;ldif2> [-i &lt;ignoredAttributes>] [-g true/false] [-w &lt;ldif> (to write LDIF difference)]</code></p>\n<p>Certain attributes are ignored in the comparison by default (as they are specific to RadiantOne FID and generally not applicable). The default ignored attributes are: createtimestamp, ds-sync-generation-id, vdssynchist, entryuuid, modifiersname, cachecreatetimestamp, ds-sync-hist, ds-sync-state, creatorsname, cachemodifytimestamp, vdssynccursor, modifytimestamp, cachecreatorsname, cachemodifiersname, uuid, and vdssyncstate. If you would like to add attributes to be ignored, use the -i flag. If you would like the comparison to stop as soon as there are differences found, use -g false (-g true means the comparison continues even when differences are found). If you would like to generate a report that lists the differences between the two LDIFs, use the -w flag, including the file path.</p>\n<p>An example of how to use this utility is described below.</p>\n<ol>\n<li>\n<p>Generate an LDIF file from the persistent cache contents. An easy way to do this is with the 3rd party ldapsearch command line utility (not included with RadiantOne). An example command accessing a branch in RadiantOne FID that is in persistent cache (o=aggregatedview) is shown below. The output is a file named cache.ldif.</p>\n<p><code class=\"language-text\">C:\\ ldaputility>ldapsearch -h localhost -p 2389 -D \"cn=directory manager\" -w password -b \"o=aggregatedview\" (objectclass=*) > C:\\radiantone\\vds\\bin\\advanced\\cache.ldif</code></p>\n</li>\n<li>\n<p>Generate an LDIF file from the view of the backend (not in the cache). An easy way to do this is with the 3rd party ldapsearch command line utility (not included with RadiantOne). An example command accessing a branch in RadiantOne FID and bypassing the cache by prefixing the dn with “action=ignorecache” is shown below. The output is a file named nocache.ldif.</p>\n<p><code class=\"language-text\">C:\\ldaputility>ldapsearch -h localhost -p 2389 -D \"cn=directory manager\" -w password -b \"action=ignorecache,o= aggregatedview \" (objectclass=*) > C:\\radiantone\\vds\\bin\\advanced\\nocache.ldif </code></p>\n</li>\n<li>\n<p>Now, the LDIF files must be sorted. Use the -s flag with ldif-utils to sort the files. Examples are shown below.</p>\n<p><code class=\"language-text\">C:\\radiantone\\vds\\bin\\advanced>ldif-utils.bat -s cache.ldif</code>\r\n<br> <code class=\"language-text\">Using RLI home : C:\\radiantone\\vds</code>\r\n<br> <code class=\"language-text\">Using Java home : C:\\radiantone\\vds\\jdk\\jre</code>\r\n<br> <code class=\"language-text\">Start sorting...</code>\r\n<br> <code class=\"language-text\">Done total entry sorted: 13 Done in 80ms </code>\r\n<br> <code class=\"language-text\">C:\\radiantone\\vds\\bin\\advanced>ldif-utils.bat -s nocache.ldif</code>\r\n<br> <code class=\"language-text\">Using RLI home : C:\\radiantone\\vds</code>\r\n<br> <code class=\"language-text\">Using Java home : C:\\radiantone\\vds\\jdk\\jre</code>\r\n<br> <code class=\"language-text\">Start sorting...</code>\r\n<br> <code class=\"language-text\">Done total entry sorted: 13</code>\r\n<br> <code class=\"language-text\">Done in 79ms </code></p>\n</li>\n<li>\n<p>After sorting, you will have <filename>.ldif.sorted for each file. E.g. cache.ldif.sorted and nocache.ldif.sorted. These are the files to compare. Below is an example of the command to issue to compare the LDIF files:</p>\n</li>\n</ol>\n<p><code class=\"language-text\">C:\\radiantone\\vds\\bin\\advanced>ldif-utils.bat -c cache.ldif.sorted nocache.ldif.sorted -i userPassword -g true -w c:/radiantone/vds/vds_server/ldif/export/LDIFReport.ldif</code>\r\n<br> <code class=\"language-text\">Using RLI home : C:\\radiantone\\vds</code>\r\n<br> <code class=\"language-text\">Using Java home : C:\\radiantone\\vds\\jdk\\jre</code>\r\n<br> <code class=\"language-text\">Start comparison...</code>\r\n<br> <code class=\"language-text\">Ldif comparison done on 13 entries - result=true</code>\r\n<br> <code class=\"language-text\">Done in 57ms </code></p>\n<p>The example result shown above (result=true) indicates that the two LDIF files are equal and hence the persistent cache is in sync with the backend data sources. If the two LDIF files were not equal (result=false), the result would indicate the DN for the entries that are different. Below is an example of a result when one entry between the two compared files is different:</p>\n<p>Start comparison...\r\n!= Difference found on uid=<a href=\"mailto:logan_oliver@radiant.com\">logan_oliver@radiant.com</a>,o=adaggregation\r\nLdif comparison done on 13 entries - result=false\r\nDone in 55ms</p>\n<p>If there are many differences found between the persistent cache image and the backend data sources, it is generally best to reinitialize the persistent cache. If there are not many differences, it can be helpful to go through the RadiantOne FID log files and the connector log files (if real-time refresh is used) in addition to checking the cn=cacherefreshlog naming context in RadiantOne FID to see if you can determine the cause of the persistent cache not being updated.</p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{"id":"determining-if-persistent-cache-is-out-of-sync"},"children":[{"type":"text","value":"Determining if Persistent Cache is Out of Sync"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To determine if a persistent cache image is out of sync from the backends, you can compare two LDIF files using the ldif-utils utility located at <RLI_HOME>/bin/advanced. The usage is shown below."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ldif-utils -c <ldif1> <ldif2> [-i <ignoredAttributes>] [-g true/false] [-w <ldif> (to write LDIF difference)]"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Certain attributes are ignored in the comparison by default (as they are specific to RadiantOne FID and generally not applicable). The default ignored attributes are: createtimestamp, ds-sync-generation-id, vdssynchist, entryuuid, modifiersname, cachecreatetimestamp, ds-sync-hist, ds-sync-state, creatorsname, cachemodifytimestamp, vdssynccursor, modifytimestamp, cachecreatorsname, cachemodifiersname, uuid, and vdssyncstate. If you would like to add attributes to be ignored, use the -i flag. If you would like the comparison to stop as soon as there are differences found, use -g false (-g true means the comparison continues even when differences are found). If you would like to generate a report that lists the differences between the two LDIFs, use the -w flag, including the file path."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"An example of how to use this utility is described below."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Generate an LDIF file from the persistent cache contents. An easy way to do this is with the 3rd party ldapsearch command line utility (not included with RadiantOne). An example command accessing a branch in RadiantOne FID that is in persistent cache (o=aggregatedview) is shown below. The output is a file named cache.ldif."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"C:\\ ldaputility>ldapsearch -h localhost -p 2389 -D \"cn=directory manager\" -w password -b \"o=aggregatedview\" (objectclass=*) > C:\\radiantone\\vds\\bin\\advanced\\cache.ldif"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Generate an LDIF file from the view of the backend (not in the cache). An easy way to do this is with the 3rd party ldapsearch command line utility (not included with RadiantOne). An example command accessing a branch in RadiantOne FID and bypassing the cache by prefixing the dn with “action=ignorecache” is shown below. The output is a file named nocache.ldif."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"C:\\ldaputility>ldapsearch -h localhost -p 2389 -D \"cn=directory manager\" -w password -b \"action=ignorecache,o= aggregatedview \" (objectclass=*) > C:\\radiantone\\vds\\bin\\advanced\\nocache.ldif "}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now, the LDIF files must be sorted. Use the -s flag with ldif-utils to sort the files. Examples are shown below."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"C:\\radiantone\\vds\\bin\\advanced>ldif-utils.bat -s cache.ldif"}]},{"type":"text","value":"\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Using RLI home : C:\\radiantone\\vds"}]},{"type":"text","value":"\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Using Java home : C:\\radiantone\\vds\\jdk\\jre"}]},{"type":"text","value":"\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Start sorting..."}]},{"type":"text","value":"\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Done total entry sorted: 13 Done in 80ms "}]},{"type":"text","value":"\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"C:\\radiantone\\vds\\bin\\advanced>ldif-utils.bat -s nocache.ldif"}]},{"type":"text","value":"\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Using RLI home : C:\\radiantone\\vds"}]},{"type":"text","value":"\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Using Java home : C:\\radiantone\\vds\\jdk\\jre"}]},{"type":"text","value":"\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Start sorting..."}]},{"type":"text","value":"\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Done total entry sorted: 13"}]},{"type":"text","value":"\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Done in 79ms "}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"After sorting, you will have "},{"type":"element","tagName":"filename","properties":{},"children":[{"type":"text","value":".ldif.sorted for each file. E.g. cache.ldif.sorted and nocache.ldif.sorted. These are the files to compare. Below is an example of the command to issue to compare the LDIF files:"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"C:\\radiantone\\vds\\bin\\advanced>ldif-utils.bat -c cache.ldif.sorted nocache.ldif.sorted -i userPassword -g true -w c:/radiantone/vds/vds_server/ldif/export/LDIFReport.ldif"}]},{"type":"text","value":"\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Using RLI home : C:\\radiantone\\vds"}]},{"type":"text","value":"\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Using Java home : C:\\radiantone\\vds\\jdk\\jre"}]},{"type":"text","value":"\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Start comparison..."}]},{"type":"text","value":"\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Ldif comparison done on 13 entries - result=true"}]},{"type":"text","value":"\r\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Done in 57ms "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The example result shown above (result=true) indicates that the two LDIF files are equal and hence the persistent cache is in sync with the backend data sources. If the two LDIF files were not equal (result=false), the result would indicate the DN for the entries that are different. Below is an example of a result when one entry between the two compared files is different:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Start comparison...\r\n!= Difference found on uid="},{"type":"element","tagName":"a","properties":{"href":"mailto:logan_oliver@radiant.com"},"children":[{"type":"text","value":"logan_oliver@radiant.com"}]},{"type":"text","value":",o=adaggregation\r\nLdif comparison done on 13 entries - result=false\r\nDone in 55ms"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If there are many differences found between the persistent cache image and the backend data sources, it is generally best to reinitialize the persistent cache. If there are not many differences, it can be helpful to go through the RadiantOne FID log files and the connector log files (if real-time refresh is used) in addition to checking the cn=cacherefreshlog naming context in RadiantOne FID to see if you can determine the cause of the persistent cache not being updated."}]}],"data":{"quirksMode":false}},"fileAbsolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/v7.4/documentation/ldif-utility-guide/03-determining-if-persistent-cache-is-out-of-sync.md","frontmatter":{"title":"LDIF Utility Guide"},"headings":[{"id":"determining-if-persistent-cache-is-out-of-sync","value":"Determining if Persistent Cache is Out of Sync","depth":1}]},"toc":{"html":"<ul>\n<li><a href=\"01-overview.md\">Overview</a></li>\n<li><a href=\"02-data-statistics.md\">Data Statistics</a></li>\n<li><a href=\"03-determining-if-persistent-cache-is-out-of-sync.md\">Determining if Persistent Cahce is Out of Sync</a></li>\n<li><a href=\"04-testing-attribute-uniqueness.md\">Testing Attribute Uniqueness</a></li>\n<li><a href=\"05-importing-changes-from-an-ldif-file.md\">Importing Changes from an LDIF File</a></li>\n<li><a href=\"06-exporting-entries-from-an-ldap-directory.md\">Exporting Entries from an LDAP Directory to an LDIF File</a></li>\n</ul>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"01-overview.md"},"children":[{"type":"text","value":"Overview"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"02-data-statistics.md"},"children":[{"type":"text","value":"Data Statistics"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"03-determining-if-persistent-cache-is-out-of-sync.md"},"children":[{"type":"text","value":"Determining if Persistent Cahce is Out of Sync"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"04-testing-attribute-uniqueness.md"},"children":[{"type":"text","value":"Testing Attribute Uniqueness"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"05-importing-changes-from-an-ldif-file.md"},"children":[{"type":"text","value":"Importing Changes from an LDIF File"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"06-exporting-entries-from-an-ldap-directory.md"},"children":[{"type":"text","value":"Exporting Entries from an LDAP Directory to an LDIF File"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"fileAbsolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/v7.4/documentation/ldif-utility-guide/TOC.md","frontmatter":{"title":"LDIF Utility Guide"}},"rootToc":{"fileAbsolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/v7.4/home-pages/TOC.md","frontmatter":{"title":"Homepages TOC"},"htmlAst":{"type":"root","children":[{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/"},"children":[{"type":"text","value":"Knowledge"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"developer"},"children":[{"type":"text","value":"Developer"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}}}},"pageContext":{"slug":"ldif-utility-guide/03-determining-if-persistent-cache-is-out-of-sync","dir":"documentation/ldif-utility-guide/03-determining-if-persistent-cache-is-out-of-sync.md","absolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/v7.4/documentation/ldif-utility-guide/03-determining-if-persistent-cache-is-out-of-sync.md","tocRegex":"/(v7.4)/(documentation/)(ldif-utility-guide/)?(03-determining-if-persistent-cache-is-out-of-sync.md/)?(TOC.md)/ig","rootTocRegex":".*/(gatsby-source-git)\\/(v7.4)\\/(home-pages)\\/(TOC.md)/ig"}},"staticQueryHashes":["2295405308","63159454","808649686"],"slicesMap":{}}