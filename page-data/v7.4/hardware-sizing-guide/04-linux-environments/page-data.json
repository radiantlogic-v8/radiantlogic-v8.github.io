{"componentChunkName":"component---src-templates-base-page-js","path":"/v7.4/hardware-sizing-guide/04-linux-environments/","result":{"data":{"pageContent":{"html":"<h1 id=\"linux-environments\">Linux Environments</h1>\n<p>This section covers memory map areas, user limits, and swap space.</p>\n<h2 id=\"linux-memory-map-areas\">Linux Memory Map Areas</h2>\n<p>Check the value for the number of discrete mapped memory areas with the following command:</p>\n<p>sysctl vm.max_map_count</p>\n<p>The default value is 65536.</p>\n<p>For most deployments, the default is too low. It is recommended to increase it to 262144 in /etc/sysctl.conf file. This file contains the maximum number of memory map areas a process may have.</p>\n<h2 id=\"linux-user-limits\">Linux User Limits</h2>\n<p>For Linux, the number of file descriptors should be set to at least 65536. Check the amount with:</p>\n<p><code class=\"language-text\">$ ulimit -n</code></p>\n<p>Confirm that ulimit -v and -u return unlimited to prevent problems with the amount of virtual\r\naddress space that can be allocated.</p>\n<p>Also, set shell limits for the Max Number of Processes. These steps are described below.</p>\n<ol>\n<li>As root, open the system's /etc/security/limits.conf file.</li>\n<li>Add two lines that set the hard and soft limits for the number of processes (nproc) for the Directory Server user. The soft limit sets how many processes the user has available by default; the user can manually adjust that setting until they hit the hard limit.</li>\n</ol>\n<p><code class=\"language-text\">user soft nproc 2047</code></p>\n<p><code class=\"language-text\">user hard nproc 16384</code></p>\n<blockquote>\n<p>[!warning]\r\nDo not set the hard limit for the Directory Server user equal to (or higher than) the maximum number of file descriptors assigned to the system itself in /proc/sys/fs/file-max. If the hard limit is too high and the user users all of those file descriptors, then the entire system runs out of file descriptors.</p>\n</blockquote>\n<h2 id=\"linux-swap-space\">Linux Swap Space</h2>\n<p>Swap space in Linux is used when the amount of physical memory (RAM) is full. If the system needs more memory resources and the RAM is full, inactive pages in memory are moved to the swap space. While swap space can help machines with a small amount of RAM, it should not be considered a replacement for more RAM. Swap space is located on hard drives, which have a slower access time than physical memory. This means RadiantOne performance is impacted if swap space starts to be used.</p>\n<p>The setting that controls how often the swap file is used is called swappiness. A swappiness setting of zero means that the disk will be avoided unless absolutely necessary (you run out of memory). Swap should be disabled if possible (/etc/fstab) or configured to prevent swapping under normal usage (set vm.swappiness to a value &#x3C;=20 which is the percentage of RAM left before the system starts to swap). Reboot your system for the change to take effect.</p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{"id":"linux-environments"},"children":[{"type":"text","value":"Linux Environments"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This section covers memory map areas, user limits, and swap space."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"linux-memory-map-areas"},"children":[{"type":"text","value":"Linux Memory Map Areas"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Check the value for the number of discrete mapped memory areas with the following command:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"sysctl vm.max_map_count"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The default value is 65536."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For most deployments, the default is too low. It is recommended to increase it to 262144 in /etc/sysctl.conf file. This file contains the maximum number of memory map areas a process may have."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"linux-user-limits"},"children":[{"type":"text","value":"Linux User Limits"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For Linux, the number of file descriptors should be set to at least 65536. Check the amount with:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"$ ulimit -n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Confirm that ulimit -v and -u return unlimited to prevent problems with the amount of virtual\r\naddress space that can be allocated."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Also, set shell limits for the Max Number of Processes. These steps are described below."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"As root, open the system's /etc/security/limits.conf file."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Add two lines that set the hard and soft limits for the number of processes (nproc) for the Directory Server user. The soft limit sets how many processes the user has available by default; the user can manually adjust that setting until they hit the hard limit."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"user soft nproc 2047"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"user hard nproc 16384"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"[!warning]\r\nDo not set the hard limit for the Directory Server user equal to (or higher than) the maximum number of file descriptors assigned to the system itself in /proc/sys/fs/file-max. If the hard limit is too high and the user users all of those file descriptors, then the entire system runs out of file descriptors."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"linux-swap-space"},"children":[{"type":"text","value":"Linux Swap Space"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Swap space in Linux is used when the amount of physical memory (RAM) is full. If the system needs more memory resources and the RAM is full, inactive pages in memory are moved to the swap space. While swap space can help machines with a small amount of RAM, it should not be considered a replacement for more RAM. Swap space is located on hard drives, which have a slower access time than physical memory. This means RadiantOne performance is impacted if swap space starts to be used."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The setting that controls how often the swap file is used is called swappiness. A swappiness setting of zero means that the disk will be avoided unless absolutely necessary (you run out of memory). Swap should be disabled if possible (/etc/fstab) or configured to prevent swapping under normal usage (set vm.swappiness to a value <=20 which is the percentage of RAM left before the system starts to swap). Reboot your system for the change to take effect."}]}],"data":{"quirksMode":false}},"fileAbsolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/v7.4/documentation/hardware-sizing-guide/04-linux-environments.md","frontmatter":{"title":"Hardware Sizing Guide"},"headings":[{"id":"linux-environments","value":"Linux Environments","depth":1},{"id":"linux-memory-map-areas","value":"Linux Memory Map Areas","depth":2},{"id":"linux-user-limits","value":"Linux User Limits","depth":2},{"id":"linux-swap-space","value":"Linux Swap Space","depth":2}]},"toc":{"html":"<ul>\n<li><a href=\"01-introduction.md\">Introduction</a></li>\n<li><a href=\"02-virtual-machine-settings.md\">Virtual Machine Settings</a></li>\n<li><a href=\"03-disk-speed-space.md\">Disk Speed and Space</a></li>\n<li><a href=\"04-linux-environments.md\">Linux Environments</a></li>\n<li><a href=\"05-network-capacity.md\">Network Capacity</a></li>\n<li><a href=\"06-memory.md\">Memory</a></li>\n</ul>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"01-introduction.md"},"children":[{"type":"text","value":"Introduction"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"02-virtual-machine-settings.md"},"children":[{"type":"text","value":"Virtual Machine Settings"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"03-disk-speed-space.md"},"children":[{"type":"text","value":"Disk Speed and Space"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"04-linux-environments.md"},"children":[{"type":"text","value":"Linux Environments"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"05-network-capacity.md"},"children":[{"type":"text","value":"Network Capacity"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"06-memory.md"},"children":[{"type":"text","value":"Memory"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"fileAbsolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/v7.4/documentation/hardware-sizing-guide/TOC.md","frontmatter":{"title":"Hardware Sizing Guide"}},"rootToc":{"fileAbsolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/v7.4/home-pages/TOC.md","frontmatter":{"title":"Homepages TOC"},"htmlAst":{"type":"root","children":[{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/"},"children":[{"type":"text","value":"Knowledge"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"developer"},"children":[{"type":"text","value":"Developer"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}}}},"pageContext":{"slug":"hardware-sizing-guide/04-linux-environments","dir":"documentation/hardware-sizing-guide/04-linux-environments.md","absolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/v7.4/documentation/hardware-sizing-guide/04-linux-environments.md","tocRegex":"/(v7.4)/(documentation/)(hardware-sizing-guide/)?(04-linux-environments.md/)?(TOC.md)/ig","rootTocRegex":".*/(gatsby-source-git)\\/(v7.4)\\/(home-pages)\\/(TOC.md)/ig"}},"staticQueryHashes":["2295405308","63159454","808649686"],"slicesMap":{}}