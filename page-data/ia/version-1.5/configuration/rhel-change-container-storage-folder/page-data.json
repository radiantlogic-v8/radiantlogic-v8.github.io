{"componentChunkName":"component---src-templates-base-page-js","path":"/ia/version-1.5/configuration/rhel-change-container-storage-folder/","result":{"data":{"pageContent":{"html":"<h1 id=\"rhel-change-container-storage-location\">RHEL change container storage location</h1>\n<p>The storage location where images are stored for standard users images are typically in <code class=\"language-text\">$HOME/.local/share/containers/storage/</code>.<br>\nIn some cases it can be useful to change this location.</p>\n<blockquote>\n<p>[!warning]<br>\nIf you change the <code class=\"language-text\">graphroot</code> location, you must ensure that SELinux labeling is correct for the new location. See <a href=\"#selinux-configuration\">here</a> for an example.</p>\n</blockquote>\n<h2 id=\"update-the-location\">Update the location</h2>\n<p>To override the location of the folder containing the images create and edit the following file:</p>\n\n          <codeblockcopytag>nano ~/.config/containers/storage.conf </codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">nano</span> ~/.config/containers/storage.conf </code></pre></div>\n<p>Copy/Paste the following adapting the <code class=\"language-text\">graphroot</code> parameter to point to the desired folder. In the below example the images will be stored in <code class=\"language-text\">/share/containers/storage</code>.</p>\n\n          <codeblockcopytag>[storage]\n  graphroot = &quot;/share/containers/storage&quot;</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token punctuation\">[</span>storage<span class=\"token punctuation\">]</span>\n  graphroot <span class=\"token operator\">=</span> <span class=\"token string\">\"/share/containers/storage\"</span></code></pre></div>\n<p>Modification of theses parameters requires a reset of the podman service. Run the following command as root:</p>\n\n          <codeblockcopytag>podman system reset</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">podman</span> system reset</code></pre></div>\n<p>To validate the change please run the following command:</p>\n\n          <codeblockcopytag>podman info | grep &quot;graphRoot:&quot;</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">podman</span> info <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token string\">\"graphRoot:\"</span></code></pre></div>\n<h2 id=\"selinux-configuration\">SELinux configuration</h2>\n<p>As mentioned when updating the location it is necessary to ensure that the SELinux labeling is correct for the updated location.</p>\n<blockquote>\n<p>The following commands are provided as an example.</p>\n</blockquote>\n<p>All following commands are to be executed as root.</p>\n<p>First, clean-up and re-create the necessary folder structure. In the following commands the <code class=\"language-text\">graphroot</code> path is configured to be <code class=\"language-text\">/share/containers/storage</code>. Please adapt to your context.</p>\n\n          <codeblockcopytag>sudo rm -rf /share/containers/\nmkdir -p /share/containers</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">sudo</span> <span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> /share/containers/\n<span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> /share/containers</code></pre></div>\n<p>Second, update the ownership of the folder to correspond to the user running podman. In the following case the local user is <code class=\"language-text\">radiantlogic</code>.</p>\n\n          <codeblockcopytag>chown radiantlogic:radiantlogic /share/containers\nchmod go-rwx /share/containers</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">chown</span> radiantlogic:radiantlogic /share/containers\n<span class=\"token function\">chmod</span> go-rwx /share/containers</code></pre></div>\n<p>Third, update the SELinx configuration</p>\n\n          <codeblockcopytag>semanage fcontext -a -s unconfined_u -t container_ro_file_t &quot;/share/containers/storage/overlay(/.*)?&quot;\nsemanage fcontext -a -s unconfined_u -t container_ro_file_t &quot;/share/containers/storage/overlay-images(/.*)?&quot;\nsemanage fcontext -a -s unconfined_u -t container_ro_file_t &quot;/share/containers/storage/overlay-layers(/.*)?&quot;\nsemanage fcontext -a -s unconfined_u -t container_ro_file_t &quot;/share/containers/storage/overlay2(/.*)?&quot;\nsemanage fcontext -a -s unconfined_u -t container_ro_file_t &quot;/share/containers/storage/overlay2-images(/.*)?&quot;\nsemanage fcontext -a -s unconfined_u -t container_ro_file_t &quot;/share/containers/storage/overlay2-layers(/.*)?&quot;\nsemanage fcontext -a -s unconfined_u -t container_file_t &quot;/share/containers/storage/volumes/[^/]*/.*&quot;\nrestorecon -R -v /share/containers\nsudo semanage fcontext -a -e /var/lib/containers /share/containers\nrestorecon -R -v /share/containers</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">semanage fcontext <span class=\"token parameter variable\">-a</span> <span class=\"token parameter variable\">-s</span> unconfined_u <span class=\"token parameter variable\">-t</span> container_ro_file_t <span class=\"token string\">\"/share/containers/storage/overlay(/.*)?\"</span>\nsemanage fcontext <span class=\"token parameter variable\">-a</span> <span class=\"token parameter variable\">-s</span> unconfined_u <span class=\"token parameter variable\">-t</span> container_ro_file_t <span class=\"token string\">\"/share/containers/storage/overlay-images(/.*)?\"</span>\nsemanage fcontext <span class=\"token parameter variable\">-a</span> <span class=\"token parameter variable\">-s</span> unconfined_u <span class=\"token parameter variable\">-t</span> container_ro_file_t <span class=\"token string\">\"/share/containers/storage/overlay-layers(/.*)?\"</span>\nsemanage fcontext <span class=\"token parameter variable\">-a</span> <span class=\"token parameter variable\">-s</span> unconfined_u <span class=\"token parameter variable\">-t</span> container_ro_file_t <span class=\"token string\">\"/share/containers/storage/overlay2(/.*)?\"</span>\nsemanage fcontext <span class=\"token parameter variable\">-a</span> <span class=\"token parameter variable\">-s</span> unconfined_u <span class=\"token parameter variable\">-t</span> container_ro_file_t <span class=\"token string\">\"/share/containers/storage/overlay2-images(/.*)?\"</span>\nsemanage fcontext <span class=\"token parameter variable\">-a</span> <span class=\"token parameter variable\">-s</span> unconfined_u <span class=\"token parameter variable\">-t</span> container_ro_file_t <span class=\"token string\">\"/share/containers/storage/overlay2-layers(/.*)?\"</span>\nsemanage fcontext <span class=\"token parameter variable\">-a</span> <span class=\"token parameter variable\">-s</span> unconfined_u <span class=\"token parameter variable\">-t</span> container_file_t <span class=\"token string\">\"/share/containers/storage/volumes/[^/]*/.*\"</span>\nrestorecon <span class=\"token parameter variable\">-R</span> <span class=\"token parameter variable\">-v</span> /share/containers\n<span class=\"token function\">sudo</span> semanage fcontext <span class=\"token parameter variable\">-a</span> <span class=\"token parameter variable\">-e</span> /var/lib/containers /share/containers\nrestorecon <span class=\"token parameter variable\">-R</span> <span class=\"token parameter variable\">-v</span> /share/containers</code></pre></div>\n<p>Finally, reset podman for the changes to apply:</p>\n\n          <codeblockcopytag>podman system reset</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">podman</span> system reset</code></pre></div>\n<p>To validate the changes you can use the following commands to read the policies:</p>\n\n          <codeblockcopytag>sudo semanage fcontext -l</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">sudo</span> semanage fcontext <span class=\"token parameter variable\">-l</span></code></pre></div>\n<p>or to limit on the desired folder:</p>\n\n          <codeblockcopytag>sudo semanage fcontext -l | grep /share/containers</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">sudo</span> semanage fcontext <span class=\"token parameter variable\">-l</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> /share/containers</code></pre></div>\n<p>To clean up old policies, the following command can be used as root. Theses commands delete the policies for a given path.</p>\n\n          <codeblockcopytag>sudo semanage fcontext -D &quot;/share/containers/storage/overlay(/.*)?&quot;</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">sudo</span> semanage fcontext <span class=\"token parameter variable\">-D</span> <span class=\"token string\">\"/share/containers/storage/overlay(/.*)?\"</span></code></pre></div>\n<h2 id=\"more-information\">More information</h2>\n<p>For more information please refer to <a href=\"https://docs.oracle.com/en/operating-systems/oracle-linux/podman/podman-ConfiguringStorageforPodman.html#podman-containers-mounts\">https://docs.oracle.com/en/operating-systems/oracle-linux/podman/podman-ConfiguringStorageforPodman.html#podman-containers-mounts</a>.</p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{"id":"rhel-change-container-storage-location"},"children":[{"type":"text","value":"RHEL change container storage location"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The storage location where images are stored for standard users images are typically in "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"$HOME/.local/share/containers/storage/"}]},{"type":"text","value":"."},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\nIn some cases it can be useful to change this location."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"[!warning]"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\nIf you change the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"graphroot"}]},{"type":"text","value":" location, you must ensure that SELinux labeling is correct for the new location. See "},{"type":"element","tagName":"a","properties":{"href":"#selinux-configuration"},"children":[{"type":"text","value":"here"}]},{"type":"text","value":" for an example."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"update-the-location"},"children":[{"type":"text","value":"Update the location"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To override the location of the folder containing the images create and edit the following file:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"nano ~/.config/containers/storage.conf "}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"nano"}]},{"type":"text","value":" ~/.config/containers/storage.conf "}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Copy/Paste the following adapting the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"graphroot"}]},{"type":"text","value":" parameter to point to the desired folder. In the below example the images will be stored in "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/share/containers/storage"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"[storage]\n  graphroot = \"/share/containers/storage\""}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":"storage"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n  graphroot "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/share/containers/storage\""}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Modification of theses parameters requires a reset of the podman service. Run the following command as root:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"podman system reset"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"podman"}]},{"type":"text","value":" system reset"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To validate the change please run the following command:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"podman info | grep \"graphRoot:\""}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"podman"}]},{"type":"text","value":" info "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"grep"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"graphRoot:\""}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"selinux-configuration"},"children":[{"type":"text","value":"SELinux configuration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As mentioned when updating the location it is necessary to ensure that the SELinux labeling is correct for the updated location."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The following commands are provided as an example."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"All following commands are to be executed as root."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"First, clean-up and re-create the necessary folder structure. In the following commands the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"graphroot"}]},{"type":"text","value":" path is configured to be "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/share/containers/storage"}]},{"type":"text","value":". Please adapt to your context."}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"sudo rm -rf /share/containers/\nmkdir -p /share/containers"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-rf"}]},{"type":"text","value":" /share/containers/\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"mkdir"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-p"}]},{"type":"text","value":" /share/containers"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Second, update the ownership of the folder to correspond to the user running podman. In the following case the local user is "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"radiantlogic"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"chown radiantlogic:radiantlogic /share/containers\nchmod go-rwx /share/containers"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"chown"}]},{"type":"text","value":" radiantlogic:radiantlogic /share/containers\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"chmod"}]},{"type":"text","value":" go-rwx /share/containers"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Third, update the SELinx configuration"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"semanage fcontext -a -s unconfined_u -t container_ro_file_t \"/share/containers/storage/overlay(/.*)?\"\nsemanage fcontext -a -s unconfined_u -t container_ro_file_t \"/share/containers/storage/overlay-images(/.*)?\"\nsemanage fcontext -a -s unconfined_u -t container_ro_file_t \"/share/containers/storage/overlay-layers(/.*)?\"\nsemanage fcontext -a -s unconfined_u -t container_ro_file_t \"/share/containers/storage/overlay2(/.*)?\"\nsemanage fcontext -a -s unconfined_u -t container_ro_file_t \"/share/containers/storage/overlay2-images(/.*)?\"\nsemanage fcontext -a -s unconfined_u -t container_ro_file_t \"/share/containers/storage/overlay2-layers(/.*)?\"\nsemanage fcontext -a -s unconfined_u -t container_file_t \"/share/containers/storage/volumes/[^/]*/.*\"\nrestorecon -R -v /share/containers\nsudo semanage fcontext -a -e /var/lib/containers /share/containers\nrestorecon -R -v /share/containers"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"semanage fcontext "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-a"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-s"}]},{"type":"text","value":" unconfined_u "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-t"}]},{"type":"text","value":" container_ro_file_t "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/share/containers/storage/overlay(/.*)?\""}]},{"type":"text","value":"\nsemanage fcontext "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-a"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-s"}]},{"type":"text","value":" unconfined_u "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-t"}]},{"type":"text","value":" container_ro_file_t "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/share/containers/storage/overlay-images(/.*)?\""}]},{"type":"text","value":"\nsemanage fcontext "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-a"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-s"}]},{"type":"text","value":" unconfined_u "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-t"}]},{"type":"text","value":" container_ro_file_t "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/share/containers/storage/overlay-layers(/.*)?\""}]},{"type":"text","value":"\nsemanage fcontext "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-a"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-s"}]},{"type":"text","value":" unconfined_u "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-t"}]},{"type":"text","value":" container_ro_file_t "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/share/containers/storage/overlay2(/.*)?\""}]},{"type":"text","value":"\nsemanage fcontext "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-a"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-s"}]},{"type":"text","value":" unconfined_u "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-t"}]},{"type":"text","value":" container_ro_file_t "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/share/containers/storage/overlay2-images(/.*)?\""}]},{"type":"text","value":"\nsemanage fcontext "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-a"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-s"}]},{"type":"text","value":" unconfined_u "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-t"}]},{"type":"text","value":" container_ro_file_t "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/share/containers/storage/overlay2-layers(/.*)?\""}]},{"type":"text","value":"\nsemanage fcontext "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-a"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-s"}]},{"type":"text","value":" unconfined_u "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-t"}]},{"type":"text","value":" container_file_t "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/share/containers/storage/volumes/[^/]*/.*\""}]},{"type":"text","value":"\nrestorecon "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-R"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-v"}]},{"type":"text","value":" /share/containers\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" semanage fcontext "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-a"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-e"}]},{"type":"text","value":" /var/lib/containers /share/containers\nrestorecon "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-R"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-v"}]},{"type":"text","value":" /share/containers"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Finally, reset podman for the changes to apply:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"podman system reset"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"podman"}]},{"type":"text","value":" system reset"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To validate the changes you can use the following commands to read the policies:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"sudo semanage fcontext -l"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" semanage fcontext "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-l"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"or to limit on the desired folder:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"sudo semanage fcontext -l | grep /share/containers"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" semanage fcontext "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-l"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"grep"}]},{"type":"text","value":" /share/containers"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To clean up old policies, the following command can be used as root. Theses commands delete the policies for a given path."}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"sudo semanage fcontext -D \"/share/containers/storage/overlay(/.*)?\""}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" semanage fcontext "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-D"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/share/containers/storage/overlay(/.*)?\""}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"more-information"},"children":[{"type":"text","value":"More information"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For more information please refer to "},{"type":"element","tagName":"a","properties":{"href":"https://docs.oracle.com/en/operating-systems/oracle-linux/podman/podman-ConfiguringStorageforPodman.html#podman-containers-mounts"},"children":[{"type":"text","value":"https://docs.oracle.com/en/operating-systems/oracle-linux/podman/podman-ConfiguringStorageforPodman.html#podman-containers-mounts"}]},{"type":"text","value":"."}]}],"data":{"quirksMode":false}},"fileAbsolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/ia/version-1.5/documentation/configuration/rhel-change-container-storage-folder.md","frontmatter":{"title":"RHEL change container storage location"},"headings":[{"id":"rhel-change-container-storage-location","value":"RHEL change container storage location","depth":1},{"id":"update-the-location","value":"Update the location","depth":2},{"id":"selinux-configuration","value":"SELinux configuration","depth":2},{"id":"more-information","value":"More information","depth":2}]},"toc":{"html":"<ul>\n<li><a href=\"config-ui.md\">Configuration UI</a></li>\n<li><a href=\"ssl-configuration.md\">SSL configuration</a></li>\n<li><a href=\"authentication-configuration.md\">Authentication Configuration</a></li>\n<li><a href=\"powershell-extraction.md\">Powershell extraction configuration</a></li>\n<li><a href=\"rhel-change-container-storage-folder.md\">Change container storage location in RHEL</a></li>\n</ul>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"config-ui.md"},"children":[{"type":"text","value":"Configuration UI"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"ssl-configuration.md"},"children":[{"type":"text","value":"SSL configuration"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"authentication-configuration.md"},"children":[{"type":"text","value":"Authentication Configuration"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"powershell-extraction.md"},"children":[{"type":"text","value":"Powershell extraction configuration"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"rhel-change-container-storage-folder.md"},"children":[{"type":"text","value":"Change container storage location in RHEL"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"fileAbsolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/ia/version-1.5/documentation/configuration/TOC.md","frontmatter":{"title":"Configuration"}}},"pageContext":{"urlPrefix":"ia/version-1.5","absolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/ia/version-1.5/documentation/configuration/rhel-change-container-storage-folder.md","tocRegex":"/(ia/)(version-1.5/)?(documentation/)?(configuration/)?(rhel-change-container-storage-folder.md/)?(TOC.md)/ig","versions":[{"name":"version-1.5","displayName":"v1.5"},{"name":"version-1.4","displayName":"v1.4"},{"name":"version-1.2","displayName":"v1.2"}],"currentRepo":{"name":"ia","displayName":"Identity Analytics","description":"This guide provides a high-level overview of Identity Analytics. This documentation includes the user guides, integration guides for Identity Analytics along with the different modules included.","links":[{"text":"SEE SELF-MANAGED GUIDES","href":"/ia/version-1.5/#2"}],"remote":"https://github.com/radiantlogic-v8/documentation-ia-selfmanaged.git","patterns":["home-pages/**","documentation/**"],"deployBranches":[{"name":"version-1.5","displayName":"v1.5"},{"name":"version-1.4","displayName":"v1.4"},{"name":"version-1.2","displayName":"v1.2"}]},"currentRepoWebLink":"https://github.com/radiantlogic-v8/documentation-ia-selfmanaged","currentVersion":{"name":"version-1.5","displayName":"v1.5"},"title":"RHEL change container storage location","description":"RHEL change the location of the storage folder for containers","tocForCurrentSection":{"textElement":"Configuration","href":null,"children":[{"textElement":"Authentication configuration","href":"configuration/authentication-configuration","children":[]},{"textElement":"Config ui","href":"configuration/config-ui","children":[]},{"textElement":"Data sources","href":null,"children":[{"textElement":"Data sources supported","href":"configuration/data-sources/data-sources-supported","children":[]},{"textElement":"Data sources","href":"configuration/data-sources/data-sources","children":[]},{"textElement":"Schemas","href":"configuration/data-sources/schemas","children":[]}]},{"textElement":"Directory stores","href":null,"children":[{"textElement":"Directory stores","href":"configuration/directory-stores/directory-stores","children":[]},{"textElement":"Managing directory schema","href":"configuration/directory-stores/managing-directory-schema","children":[]},{"textElement":"Managing directory stores","href":"configuration/directory-stores/managing-directory-stores","children":[]},{"textElement":"Managing properties","href":"configuration/directory-stores/managing-properties","children":[]},{"textElement":"Special attributes handling","href":"configuration/directory-stores/special-attributes-handling","children":[]},{"textElement":"Understanding operational attributes","href":"configuration/directory-stores/understanding-operational-attributes","children":[]}]},{"textElement":"Global identity builder","href":null,"children":[{"textElement":"Address group challenges","href":null,"children":[{"textElement":"Ldap dynamic groups","href":"configuration/global-identity-builder/address-group-challenges/ldap-dynamic-groups","children":[]},{"textElement":"Multiple containers","href":"configuration/global-identity-builder/address-group-challenges/multiple-containers","children":[]},{"textElement":"Nested groups","href":"configuration/global-identity-builder/address-group-challenges/nested-groups","children":[]}]},{"textElement":"Concepts","href":"configuration/global-identity-builder/concepts","children":[]},{"textElement":"Create projects","href":null,"children":[{"textElement":"Create project","href":"configuration/global-identity-builder/create-projects/create-project","children":[]},{"textElement":"Define attribute priority","href":"configuration/global-identity-builder/create-projects/define-attribute-priority","children":[]},{"textElement":"Define bind order","href":"configuration/global-identity-builder/create-projects/define-bind-order","children":[]},{"textElement":"Identity sources","href":"configuration/global-identity-builder/create-projects/identity-sources","children":[]},{"textElement":"Project properties","href":"configuration/global-identity-builder/create-projects/project-properties","children":[]},{"textElement":"Upload","href":"configuration/global-identity-builder/create-projects/upload","children":[]}]},{"textElement":"Global profile view","href":"configuration/global-identity-builder/global-profile-view","children":[]},{"textElement":"Identity administration","href":"configuration/global-identity-builder/identity-administration","children":[]},{"textElement":"Integrate configure data source","href":"configuration/global-identity-builder/integrate-configure-data-source","children":[]},{"textElement":"Introduction","href":"configuration/global-identity-builder/introduction","children":[]},{"textElement":"Link groups","href":null,"children":[{"textElement":"Computed group membership","href":"configuration/global-identity-builder/link-groups/computed-group-membership","children":[]},{"textElement":"Naming context","href":"configuration/global-identity-builder/link-groups/naming-context","children":[]},{"textElement":"Overview","href":"configuration/global-identity-builder/link-groups/overview","children":[]},{"textElement":"Remapped group membership","href":"configuration/global-identity-builder/link-groups/remapped-group-membership","children":[]}]},{"textElement":"Manage persistent cache","href":null,"children":[{"textElement":"Configuration","href":"configuration/global-identity-builder/manage-persistent-cache/configuration","children":[]},{"textElement":"Impact on global profile","href":"configuration/global-identity-builder/manage-persistent-cache/impact-on-global-profile","children":[]},{"textElement":"Overview","href":"configuration/global-identity-builder/manage-persistent-cache/overview","children":[]},{"textElement":"Re configuration","href":"configuration/global-identity-builder/manage-persistent-cache/re-configuration","children":[]}]}]},{"textElement":"Global settings","href":null,"children":[{"textElement":"Client protocols","href":"configuration/global-settings/client-protocols","children":[]},{"textElement":"Global interception","href":"configuration/global-settings/global-interception","children":[]},{"textElement":"Global settings","href":"configuration/global-settings/global-settings","children":[]},{"textElement":"Tasks","href":"configuration/global-settings/tasks","children":[]},{"textElement":"Token validators","href":"configuration/global-settings/token-validators","children":[]}]},{"textElement":"Hidden","href":null,"children":[{"textElement":"Braiwavefile","href":"configuration/hidden/braiwavefile","children":[]}]},{"textElement":"Identity views","href":null,"children":[{"textElement":"Directory namespace overview","href":"configuration/identity-views/directory-namespace-overview","children":[]},{"textElement":"Identity data analysis","href":"configuration/identity-views/identity-data-analysis","children":[]},{"textElement":"Intro view design","href":"configuration/identity-views/intro-view-design","children":[]},{"textElement":"Joins","href":"configuration/identity-views/joins","children":[]},{"textElement":"Ldap proxy views","href":"configuration/identity-views/ldap-proxy-views","children":[]},{"textElement":"Model driven views","href":"configuration/identity-views/model-driven-views","children":[]},{"textElement":"Special attributes","href":"configuration/identity-views/special-attributes","children":[]},{"textElement":"View interception","href":"configuration/identity-views/view-interception","children":[]}]},{"textElement":"Powershell extraction","href":"configuration/powershell-extraction","children":[]},{"textElement":"Rhel change container storage folder","href":"configuration/rhel-change-container-storage-folder","children":[]},{"textElement":"Security","href":null,"children":[{"textElement":"Access controls","href":"configuration/security/access-controls","children":[]},{"textElement":"Access tokens","href":"configuration/security/access-tokens","children":[]},{"textElement":"Attribute encryption","href":"configuration/security/attribute-encryption","children":[]},{"textElement":"Client cert truststore","href":"configuration/security/client-cert-truststore","children":[]},{"textElement":"External token validators","href":"configuration/security/external-token-validators","children":[]},{"textElement":"Password policies","href":"configuration/security/password-policies","children":[]},{"textElement":"Security","href":"configuration/security/security","children":[]}]},{"textElement":"Ssl configuration","href":"configuration/ssl-configuration","children":[]},{"textElement":"Synchronization","href":null,"children":[{"textElement":"Capture connectors","href":"configuration/synchronization/capture-connectors","children":[]},{"textElement":"Connector properties","href":"configuration/synchronization/connector-properties","children":[]},{"textElement":"Pipelines","href":"configuration/synchronization/pipelines","children":[]},{"textElement":"Synchronization concepts","href":"configuration/synchronization/synchronization-concepts","children":[]},{"textElement":"Transformations","href":"configuration/synchronization/transformations","children":[]},{"textElement":"Uploads","href":"configuration/synchronization/uploads","children":[]}]},{"textElement":"T O C","href":"configuration/TOC","children":[]}]}}},"staticQueryHashes":["63159454"],"slicesMap":{"footer":"footer","header":"header"}}