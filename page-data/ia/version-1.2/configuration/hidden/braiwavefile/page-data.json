{"componentChunkName":"component---src-templates-base-page-js","path":"/ia/version-1.2/configuration/hidden/braiwavefile/","result":{"data":{"pageContent":{"html":"<h2 id=\"global-parameters\">Global parameters</h2>\n\n          <codeblockcopytag>globals:\r\n  hostname: localhost\r\n  timezone: Europe/Paris\r\n  tls: false</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">globals</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">hostname</span><span class=\"token punctuation\">:</span> localhost\r\n  <span class=\"token key atrule\">timezone</span><span class=\"token punctuation\">:</span> Europe/Paris\r\n  <span class=\"token key atrule\">tls</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></code></pre></div>\n<p>Modifications to any of the attributes in the globals config section requires a full stop and start of the services.<br>\nTo do so:</p>\n<ul>\n<li><code class=\"language-text\">brainwave stop</code></li>\n<li><code class=\"language-text\">brainwave start</code></li>\n</ul>\n<h2 id=\"database-configuration\">Database configuration</h2>\n<h3 id=\"internal-database\">Internal Database</h3>\n<p>To deploy an internal PostgreSQL database as a containerized service, use this config in the <code class=\"language-text\">Brainwavefile</code></p>\n\n          <codeblockcopytag>database:\r\n  type: internal</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">database</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> internal</code></pre></div>\n<p>The internal database is already initialized with the 3 schemas ( igrc , activiti and auditlog ). So its ready to use out of the box.</p>\n<h4 id=\"connection\">Connection</h4>\n<p>To expose the postgresql port of the internal database, it is possible to set the option <code class=\"language-text\">expose_port</code> :</p>\n\n          <codeblockcopytag>database:\r\n  type: internal\r\n  expose_port: 5432</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">database</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> internal\r\n  <span class=\"token key atrule\">expose_port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5432</span></code></pre></div>\n<p>You can use any available port, and it will be redirected the internal PostgreSQL port. There is a single user in this database: <code class=\"language-text\">igrc</code></p>\n<p>To obtain the password that allows to connect using the user <code class=\"language-text\">igrc</code>, go to the config UI at <code class=\"language-text\">&lt;hostname>/config</code>. Search for the secret id <code class=\"language-text\">BW_DATABASE_INTERNAL_SECRET</code> in the Secrets Manager.</p>\n<p>Internal database name is <code class=\"language-text\">brainwave</code>.</p>\n<p>Alternatively, to access the internal database, when the <code class=\"language-text\">debug services</code> are activated. An instance of pgadmin is accesible at <code class=\"language-text\">&lt;hostname>/pgadmin</code> and the internal database will be pre-configured.</p>\n<h3 id=\"external-database\">External Database</h3>\n<p>To prepare an external PostgreSQL database:</p>\n<ul>\n<li>\n<p>Create 3 users: <code class=\"language-text\">igrc</code> , <code class=\"language-text\">activiti</code> and <code class=\"language-text\">auditlog</code></p>\n</li>\n<li>\n<p>Create 1 schema by user that matches the user name. Each user should own its corresponding schema</p>\n<ul>\n<li>the <code class=\"language-text\">igrc</code> user should own the <code class=\"language-text\">igrc</code> schema</li>\n<li>the <code class=\"language-text\">activiti</code> user should own the <code class=\"language-text\">activiti</code> schema</li>\n<li>the <code class=\"language-text\">auditlog</code> user should own the <code class=\"language-text\">auditlog</code> schema</li>\n</ul>\n</li>\n<li>\n<p>Declare the database information in the <code class=\"language-text\">Brainwavefile</code>. Here an example:</p>\n</li>\n</ul>\n\n          <codeblockcopytag>database:\r\n  type: external\r\n  hostname: myhostname\r\n  port: 5432\r\n  dbname: brainwave\r\n  driver: postgresql\r\n  ledger:\r\n    username: igrc\r\n    password: \\$(DB_LEDGER_SECRET)\r\n  workflow:\r\n    username: activiti\r\n    password: \\$(DB_WORKFLOW_SECRET)\r\n  auditlog:\r\n    username: auditlog\r\n    password: \\$(DB_AUDITLOG_SECRET)</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">database</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> external\r\n  <span class=\"token key atrule\">hostname</span><span class=\"token punctuation\">:</span> myhostname\r\n  <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5432</span>\r\n  <span class=\"token key atrule\">dbname</span><span class=\"token punctuation\">:</span> brainwave\r\n  <span class=\"token key atrule\">driver</span><span class=\"token punctuation\">:</span> postgresql\r\n  <span class=\"token key atrule\">ledger</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> igrc\r\n    <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> $(DB_LEDGER_SECRET)\r\n  <span class=\"token key atrule\">workflow</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> activiti\r\n    <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> $(DB_WORKFLOW_SECRET)\r\n  <span class=\"token key atrule\">auditlog</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> auditlog\r\n    <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> $(DB_AUDITLOG_SECRET)</code></pre></div>\n<blockquote>\n<p><strong>Warning</strong> hosting the database in the same machine than runs the Docker runtime is not supported.</p>\n</blockquote>\n<ul>\n<li>Visit the Configuration UI at <code class=\"language-text\">&lt;hostname>/config</code> , to provide the values for the secrets: <code class=\"language-text\">DB_LEDGER_SECRET</code> , <code class=\"language-text\">DB_WORKFLOW_SECRET</code> and <code class=\"language-text\">DB_AUDITLOG_SECRET</code> using the secrets manager</li>\n</ul>\n<h4 id=\"database-initialization\">Database initialization</h4>\n<p>There is an option to initialize the external database automatically. The option is called <code class=\"language-text\">auto_init</code> and its disabled by default. Add it to the Brainwavefile like this:</p>\n\n          <codeblockcopytag>database:\r\n  type: external\r\n  hostname: myhostname\r\n  port: 5432\r\n  dbname: brainwave\r\n  driver: postgresql\r\n  auto_init: true\r\n  ledger:\r\n    username: igrc\r\n    password: \\$(DB_LEDGER_SECRET)\r\n  workflow:\r\n    username: activiti\r\n    password: \\$(DB_WORKFLOW_SECRET)\r\n  auditlog:\r\n    username: auditlog\r\n    password: \\$(DB_AUDITLOG_SECRET)</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">database</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> external\r\n  <span class=\"token key atrule\">hostname</span><span class=\"token punctuation\">:</span> myhostname\r\n  <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5432</span>\r\n  <span class=\"token key atrule\">dbname</span><span class=\"token punctuation\">:</span> brainwave\r\n  <span class=\"token key atrule\">driver</span><span class=\"token punctuation\">:</span> postgresql\r\n  <span class=\"token key atrule\">auto_init</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\r\n  <span class=\"token key atrule\">ledger</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> igrc\r\n    <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> $(DB_LEDGER_SECRET)\r\n  <span class=\"token key atrule\">workflow</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> activiti\r\n    <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> $(DB_WORKFLOW_SECRET)\r\n  <span class=\"token key atrule\">auditlog</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> auditlog\r\n    <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> $(DB_AUDITLOG_SECRET)</code></pre></div>\n<blockquote>\n<p><strong>Warning</strong> this option is in beta mode, use for testing environments only</p>\n</blockquote>\n<h2 id=\"igrc-project-from-git\">IGRC Project from GIT</h2>\n<p>The igrc project that is deployed in both portal and batch containers is taken from a git repository.</p>\n<p>A full mirror of the git repository is cloned and maintained in a volume. This speeds up the process of taking the most recent version when restarting the portal or starting the batch.</p>\n<p>If the configuration of the IGRC project is not complete, the portal will not start. Go to <code class=\"language-text\">&lt;hostname>/config</code> to verify that the remote git is well configured and that the password is set in the <code class=\"language-text\">Secrets Manager</code>.</p>\n<p>Configuration looks like this:</p>\n\n          <codeblockcopytag>igrc_project:\r\n  git:\r\n    url: https://bitbucket.org/ericbacher/pkg_iap.git\r\n    username: myusername\r\n    password: \\$(IGRC_PROJECT_GIT_SECRET)\r\n    project_dir: projectname\r\n    branch: uat</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">igrc_project</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">git</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//bitbucket.org/ericbacher/pkg_iap.git\r\n    <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> myusername\r\n    <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> $(IGRC_PROJECT_GIT_SECRET)\r\n    <span class=\"token key atrule\">project_dir</span><span class=\"token punctuation\">:</span> projectname\r\n    <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> uat</code></pre></div>\n<blockquote>\n<p>Only the <strong>https</strong> protocol is supported</p>\n</blockquote>\n<p>For this example the clone command will look like</p>\n\n          <codeblockcopytag>git clone https://myusername:mypassword@bitbucket.org/ericbacher/pkg_iap.git</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git clone https://myusername:mypassword@bitbucket.org/ericbacher/pkg_iap.git</code></pre></div>\n<p>Make sure to provide a value for secret <code class=\"language-text\">IGRC_PROJECT_GIT_SECRET</code> using the <code class=\"language-text\">Secrets Manager</code>.</p>\n<p>The specified branch is polled regularly to check for new commits. See the <strong>Scheduling</strong> section for more information.</p>\n<p>Restarting the portal manually is also possible using the command:</p>\n\n          <codeblockcopytag>brainwave portal restart</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">brainwave portal restart</code></pre></div>\n<blockquote>\n<p>Note that restarting the portal both manually and scheduled results in a service interruption. Service interruption should be estimated to 40 minutes.</p>\n</blockquote>\n<h2 id=\"scheduling\">Scheduling</h2>\n<p>The scheduling section of the config allows to set the automated execution of 3 tasks:</p>\n<ul>\n<li>batch execution</li>\n<li>extraction executions</li>\n<li>portal monitoring</li>\n</ul>\n<p>Cron expressions are used to configure the frequency of each of the tasks. Refer to a tool like <a href=\"https://crontab.guru/\">crontab.guru</a> as a guide for cron expressions.</p>\n\n          <codeblockcopytag>scheduling:\r\n  igrc:\r\n    batch: &quot;0 1 * * *&quot;     ## every day at 1 am\r\n    extract: &quot;0 * * * *&quot;   ## every hour\r\n  monitoring:\r\n    portal: &quot;0 1 * * *&quot;    ## every day at 1 am</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">scheduling</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">igrc</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">batch</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"0 1 * * *\"</span>     <span class=\"token comment\">## every day at 1 am</span>\r\n    <span class=\"token key atrule\">extract</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"0 * * * *\"</span>   <span class=\"token comment\">## every hour</span>\r\n  <span class=\"token key atrule\">monitoring</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">portal</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"0 1 * * *\"</span>    <span class=\"token comment\">## every day at 1 am</span></code></pre></div>\n<h3 id=\"batch-scheduling\">Batch Scheduling</h3>\n<p>Any valid cron expression is supported. When the task is executed, a batch execution request is sent to the controller. The controller will register the request as coming from principal 'scheduler'.</p>\n<p>Scheduled batch requests will be visible from the controller UI.</p>\n<h3 id=\"extraction-scheduling\">Extraction Scheduling</h3>\n<p>Any valid cron expression is supported. When the task is executed, the controller will receive a request to check if any of the declared connectors requires an extraction.</p>\n<blockquote>\n<p>Remember that the scheduling of each connector is configured indidually.\r\nDuring the extraction scheduling, <strong>only</strong> the connectors that are scheduled will be executed.</p>\n</blockquote>\n<h3 id=\"portal-monitoring\">Portal Monitoring</h3>\n<p>The goal of this task is to monitor the IGRC project git repository to check for changes in the project. If changes are detected, the portal is restarted.</p>\n<p>Only simple cron expressions are supported here ( <code class=\"language-text\">,</code> <code class=\"language-text\">-</code> and <code class=\"language-text\">/</code> and any <code class=\"language-text\">non-standard</code> expressions are <strong>not</strong> supported ). When the action is executed , 2 tasks are triggered:</p>\n<ul>\n<li>Update the local mirror of the git repository that contains the project</li>\n<li>Check for changes and restart the portal if changes are found</li>\n</ul>\n<p>There is a <code class=\"language-text\">5</code> minutes delay between the 2 tasks.</p>\n<blockquote>\n<p>Note that when the portal is restarted , there will be a service interruption. Keep that in mind when configuring the scheduling of this task. Service interruption should be estimated to last 40 minutes</p>\n</blockquote>\n<h4 id=\"portal-unload-delay\">Portal Unload Delay</h4>\n<p>The portal can be requested to stop the webapps, this will happen either manually when using the command <code class=\"language-text\">brainwave stop</code> , either automatically as a result of the portal monitoring scheduling.</p>\n<p><code class=\"language-text\">Unload Delay</code> is the allowed time that the portal can take to stop all the services. After this delay, the portal can be <strong>killed</strong>.</p>\n<p>By default, the unload delay is set to <code class=\"language-text\">20 minutes</code> . This value is considered to be enough for <em>most</em> cases. However, in some projects that handle long and complicated workflows, the portal can take longer than that to stop properly. For this reason, it is possible to override the default value of the <code class=\"language-text\">Unload Delay</code>:</p>\n\n          <codeblockcopytag>scheduling:\r\n  igrc:\r\n    batch: &quot;0 1 * * *&quot;\r\n    extract: &quot;0 * * * *&quot;\r\n  monitoring:\r\n    portal: &quot;0 1 * * *&quot;\r\n      unload_delay: 1200000    ## value in milliseconds</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">scheduling</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">igrc</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">batch</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"0 1 * * *\"</span>\r\n    <span class=\"token key atrule\">extract</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"0 * * * *\"</span>\r\n  <span class=\"token key atrule\">monitoring</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">portal</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"0 1 * * *\"</span>\r\n      <span class=\"token key atrule\">unload_delay</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1200000</span>    <span class=\"token comment\">## value in milliseconds</span></code></pre></div>\n<blockquote>\n<p>Note that the value is in milliseconds</p>\n</blockquote>\n<h2 id=\"igrc-batch\">IGRC Batch</h2>\n<p>In this section we can configure the name of the IGRC technical configuration to be used when executing the batch</p>\n\n          <codeblockcopytag>igrc_batch:\r\n  technical_configuration:\r\n    name: default</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">igrc_batch</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">technical_configuration</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> default</code></pre></div>\n<h2 id=\"mail\">Mail</h2>\n<p>This section allows to configure the mail options that will end up in the <code class=\"language-text\">mail.properties</code> file for both portal and batch.</p>\n\n          <codeblockcopytag>mail:\r\n  smtp:\r\n    username: user\r\n    password: \\$(SMTP_SECRET)\r\n    port: 25\r\n    host: smtphostname\r\n  redirect_to: mail@domain</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">mail</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">smtp</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> user\r\n    <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> $(SMTP_SECRET)\r\n    <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">25</span>\r\n    <span class=\"token key atrule\">host</span><span class=\"token punctuation\">:</span> smtphostname\r\n  <span class=\"token key atrule\">redirect_to</span><span class=\"token punctuation\">:</span> mail@domain</code></pre></div>\n<h2 id=\"debug\">Debug</h2>\n<p>When the debug mode is activated, we deploy these services</p>\n<ul>\n<li>pgadmin ( available at <code class=\"language-text\">&lt;hostname>/pgadmin</code> )</li>\n<li>smtp4dev ( available at <code class=\"language-text\">&lt;hostname>/smtp4dev</code> )</li>\n</ul>\n\n          <codeblockcopytag>debug:\r\n  services:\r\n    enabled: false  ## true or false</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">debug</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">enabled</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>  <span class=\"token comment\">## true or false</span></code></pre></div>\n<p>Modifications to this flag requires a full stop and start of the services.</p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{"id":"global-parameters"},"children":[{"type":"text","value":"Global parameters"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"globals:\n  hostname: localhost\n  timezone: Europe/Paris\n  tls: false"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"globals"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"hostname"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" localhost\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"timezone"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" Europe/Paris\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"tls"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean","important"]},"children":[{"type":"text","value":"false"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Modifications to any of the attributes in the globals config section requires a full stop and start of the services."},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\nTo do so:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"brainwave stop"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"brainwave start"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"database-configuration"},"children":[{"type":"text","value":"Database configuration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"internal-database"},"children":[{"type":"text","value":"Internal Database"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To deploy an internal PostgreSQL database as a containerized service, use this config in the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Brainwavefile"}]}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"database:\n  type: internal"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"database"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"type"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" internal"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The internal database is already initialized with the 3 schemas ( igrc , activiti and auditlog ). So its ready to use out of the box."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"connection"},"children":[{"type":"text","value":"Connection"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To expose the postgresql port of the internal database, it is possible to set the option "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"expose_port"}]},{"type":"text","value":" :"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"database:\n  type: internal\n  expose_port: 5432"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"database"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"type"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" internal\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"expose_port"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"5432"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can use any available port, and it will be redirected the internal PostgreSQL port. There is a single user in this database: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"igrc"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To obtain the password that allows to connect using the user "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"igrc"}]},{"type":"text","value":", go to the config UI at "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<hostname>/config"}]},{"type":"text","value":". Search for the secret id "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"BW_DATABASE_INTERNAL_SECRET"}]},{"type":"text","value":" in the Secrets Manager."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Internal database name is "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"brainwave"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Alternatively, to access the internal database, when the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"debug services"}]},{"type":"text","value":" are activated. An instance of pgadmin is accesible at "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<hostname>/pgadmin"}]},{"type":"text","value":" and the internal database will be pre-configured."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"external-database"},"children":[{"type":"text","value":"External Database"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To prepare an external PostgreSQL database:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Create 3 users: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"igrc"}]},{"type":"text","value":" , "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"activiti"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"auditlog"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Create 1 schema by user that matches the user name. Each user should own its corresponding schema"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"igrc"}]},{"type":"text","value":" user should own the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"igrc"}]},{"type":"text","value":" schema"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"activiti"}]},{"type":"text","value":" user should own the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"activiti"}]},{"type":"text","value":" schema"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"auditlog"}]},{"type":"text","value":" user should own the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"auditlog"}]},{"type":"text","value":" schema"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Declare the database information in the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Brainwavefile"}]},{"type":"text","value":". Here an example:"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"database:\n  type: external\n  hostname: myhostname\n  port: 5432\n  dbname: brainwave\n  driver: postgresql\n  ledger:\n    username: igrc\n    password: \\$(DB_LEDGER_SECRET)\n  workflow:\n    username: activiti\n    password: \\$(DB_WORKFLOW_SECRET)\n  auditlog:\n    username: auditlog\n    password: \\$(DB_AUDITLOG_SECRET)"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"database"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"type"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" external\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"hostname"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" myhostname\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"port"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"5432"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"dbname"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" brainwave\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"driver"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" postgresql\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"ledger"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"username"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" igrc\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"password"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" $(DB_LEDGER_SECRET)\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"workflow"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"username"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" activiti\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"password"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" $(DB_WORKFLOW_SECRET)\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"auditlog"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"username"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" auditlog\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"password"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" $(DB_AUDITLOG_SECRET)"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Warning"}]},{"type":"text","value":" hosting the database in the same machine than runs the Docker runtime is not supported."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Visit the Configuration UI at "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<hostname>/config"}]},{"type":"text","value":" , to provide the values for the secrets: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"DB_LEDGER_SECRET"}]},{"type":"text","value":" , "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"DB_WORKFLOW_SECRET"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"DB_AUDITLOG_SECRET"}]},{"type":"text","value":" using the secrets manager"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"database-initialization"},"children":[{"type":"text","value":"Database initialization"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There is an option to initialize the external database automatically. The option is called "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"auto_init"}]},{"type":"text","value":" and its disabled by default. Add it to the Brainwavefile like this:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"database:\n  type: external\n  hostname: myhostname\n  port: 5432\n  dbname: brainwave\n  driver: postgresql\n  auto_init: true\n  ledger:\n    username: igrc\n    password: \\$(DB_LEDGER_SECRET)\n  workflow:\n    username: activiti\n    password: \\$(DB_WORKFLOW_SECRET)\n  auditlog:\n    username: auditlog\n    password: \\$(DB_AUDITLOG_SECRET)"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"database"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"type"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" external\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"hostname"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" myhostname\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"port"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"5432"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"dbname"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" brainwave\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"driver"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" postgresql\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"auto_init"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean","important"]},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"ledger"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"username"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" igrc\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"password"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" $(DB_LEDGER_SECRET)\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"workflow"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"username"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" activiti\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"password"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" $(DB_WORKFLOW_SECRET)\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"auditlog"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"username"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" auditlog\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"password"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" $(DB_AUDITLOG_SECRET)"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Warning"}]},{"type":"text","value":" this option is in beta mode, use for testing environments only"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"igrc-project-from-git"},"children":[{"type":"text","value":"IGRC Project from GIT"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The igrc project that is deployed in both portal and batch containers is taken from a git repository."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A full mirror of the git repository is cloned and maintained in a volume. This speeds up the process of taking the most recent version when restarting the portal or starting the batch."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the configuration of the IGRC project is not complete, the portal will not start. Go to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<hostname>/config"}]},{"type":"text","value":" to verify that the remote git is well configured and that the password is set in the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Secrets Manager"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Configuration looks like this:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"igrc_project:\n  git:\n    url: https://bitbucket.org/ericbacher/pkg_iap.git\n    username: myusername\n    password: \\$(IGRC_PROJECT_GIT_SECRET)\n    project_dir: projectname\n    branch: uat"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"igrc_project"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"git"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"url"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" https"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"//bitbucket.org/ericbacher/pkg_iap.git\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"username"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" myusername\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"password"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" $(IGRC_PROJECT_GIT_SECRET)\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"project_dir"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" projectname\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"branch"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" uat"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Only the "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"https"}]},{"type":"text","value":" protocol is supported"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For this example the clone command will look like"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"git clone https://myusername:mypassword@bitbucket.org/ericbacher/pkg_iap.git"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"git clone https://myusername:mypassword@bitbucket.org/ericbacher/pkg_iap.git"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Make sure to provide a value for secret "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"IGRC_PROJECT_GIT_SECRET"}]},{"type":"text","value":" using the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Secrets Manager"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The specified branch is polled regularly to check for new commits. See the "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Scheduling"}]},{"type":"text","value":" section for more information."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Restarting the portal manually is also possible using the command:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"brainwave portal restart"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"text","value":"brainwave portal restart"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that restarting the portal both manually and scheduled results in a service interruption. Service interruption should be estimated to 40 minutes."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"scheduling"},"children":[{"type":"text","value":"Scheduling"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The scheduling section of the config allows to set the automated execution of 3 tasks:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"batch execution"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"extraction executions"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"portal monitoring"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Cron expressions are used to configure the frequency of each of the tasks. Refer to a tool like "},{"type":"element","tagName":"a","properties":{"href":"https://crontab.guru/"},"children":[{"type":"text","value":"crontab.guru"}]},{"type":"text","value":" as a guide for cron expressions."}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"scheduling:\n  igrc:\n    batch: \"0 1 * * *\"     ## every day at 1 am\n    extract: \"0 * * * *\"   ## every hour\n  monitoring:\n    portal: \"0 1 * * *\"    ## every day at 1 am"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"scheduling"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"igrc"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"batch"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"0 1 * * *\""}]},{"type":"text","value":"     "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"## every day at 1 am"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"extract"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"0 * * * *\""}]},{"type":"text","value":"   "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"## every hour"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"monitoring"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"portal"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"0 1 * * *\""}]},{"type":"text","value":"    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"## every day at 1 am"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"batch-scheduling"},"children":[{"type":"text","value":"Batch Scheduling"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Any valid cron expression is supported. When the task is executed, a batch execution request is sent to the controller. The controller will register the request as coming from principal 'scheduler'."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Scheduled batch requests will be visible from the controller UI."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"extraction-scheduling"},"children":[{"type":"text","value":"Extraction Scheduling"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Any valid cron expression is supported. When the task is executed, the controller will receive a request to check if any of the declared connectors requires an extraction."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Remember that the scheduling of each connector is configured indidually.\r\nDuring the extraction scheduling, "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"only"}]},{"type":"text","value":" the connectors that are scheduled will be executed."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"portal-monitoring"},"children":[{"type":"text","value":"Portal Monitoring"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The goal of this task is to monitor the IGRC project git repository to check for changes in the project. If changes are detected, the portal is restarted."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Only simple cron expressions are supported here ( "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/"}]},{"type":"text","value":" and any "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"non-standard"}]},{"type":"text","value":" expressions are "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"not"}]},{"type":"text","value":" supported ). When the action is executed , 2 tasks are triggered:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Update the local mirror of the git repository that contains the project"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Check for changes and restart the portal if changes are found"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There is a "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"5"}]},{"type":"text","value":" minutes delay between the 2 tasks."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that when the portal is restarted , there will be a service interruption. Keep that in mind when configuring the scheduling of this task. Service interruption should be estimated to last 40 minutes"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"portal-unload-delay"},"children":[{"type":"text","value":"Portal Unload Delay"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The portal can be requested to stop the webapps, this will happen either manually when using the command "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"brainwave stop"}]},{"type":"text","value":" , either automatically as a result of the portal monitoring scheduling."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Unload Delay"}]},{"type":"text","value":" is the allowed time that the portal can take to stop all the services. After this delay, the portal can be "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"killed"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"By default, the unload delay is set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"20 minutes"}]},{"type":"text","value":" . This value is considered to be enough for "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"most"}]},{"type":"text","value":" cases. However, in some projects that handle long and complicated workflows, the portal can take longer than that to stop properly. For this reason, it is possible to override the default value of the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Unload Delay"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"scheduling:\n  igrc:\n    batch: \"0 1 * * *\"\n    extract: \"0 * * * *\"\n  monitoring:\n    portal: \"0 1 * * *\"\n      unload_delay: 1200000    ## value in milliseconds"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"scheduling"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"igrc"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"batch"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"0 1 * * *\""}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"extract"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"0 * * * *\""}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"monitoring"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"portal"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"0 1 * * *\""}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"unload_delay"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1200000"}]},{"type":"text","value":"    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"## value in milliseconds"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that the value is in milliseconds"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"igrc-batch"},"children":[{"type":"text","value":"IGRC Batch"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In this section we can configure the name of the IGRC technical configuration to be used when executing the batch"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"igrc_batch:\n  technical_configuration:\n    name: default"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"igrc_batch"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"technical_configuration"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"name"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" default"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"mail"},"children":[{"type":"text","value":"Mail"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This section allows to configure the mail options that will end up in the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"mail.properties"}]},{"type":"text","value":" file for both portal and batch."}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"mail:\n  smtp:\n    username: user\n    password: \\$(SMTP_SECRET)\n    port: 25\n    host: smtphostname\n  redirect_to: mail@domain"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"mail"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"smtp"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"username"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" user\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"password"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" $(SMTP_SECRET)\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"port"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"25"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"host"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" smtphostname\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"redirect_to"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" mail@domain"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"debug"},"children":[{"type":"text","value":"Debug"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When the debug mode is activated, we deploy these services"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"pgadmin ( available at "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<hostname>/pgadmin"}]},{"type":"text","value":" )"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"smtp4dev ( available at "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<hostname>/smtp4dev"}]},{"type":"text","value":" )"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"debug:\n  services:\n    enabled: false  ## true or false"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"debug"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"services"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"enabled"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean","important"]},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"## true or false"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Modifications to this flag requires a full stop and start of the services."}]}],"data":{"quirksMode":false}},"fileAbsolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/ia/version-1.2/documentation/configuration/hidden/braiwavefile.md","frontmatter":{"title":"Brainwavefile configuration"},"headings":[{"id":"global-parameters","value":"Global parameters","depth":2},{"id":"database-configuration","value":"Database configuration","depth":2},{"id":"internal-database","value":"Internal Database","depth":3},{"id":"connection","value":"Connection","depth":4},{"id":"external-database","value":"External Database","depth":3},{"id":"database-initialization","value":"Database initialization","depth":4},{"id":"igrc-project-from-git","value":"IGRC Project from GIT","depth":2},{"id":"scheduling","value":"Scheduling","depth":2},{"id":"batch-scheduling","value":"Batch Scheduling","depth":3},{"id":"extraction-scheduling","value":"Extraction Scheduling","depth":3},{"id":"portal-monitoring","value":"Portal Monitoring","depth":3},{"id":"portal-unload-delay","value":"Portal Unload Delay","depth":4},{"id":"igrc-batch","value":"IGRC Batch","depth":2},{"id":"mail","value":"Mail","depth":2},{"id":"debug","value":"Debug","depth":2}]},"toc":{"html":"<ul>\n<li><a href=\"config-ui.md\">Configuration UI</a></li>\n<li><a href=\"ssl-configuration.md\">SSL configuration</a></li>\n<li><a href=\"authentication-configuration.md\">Authentication Configuration</a></li>\n<li><a href=\"powershell-extraction.md\">Powershell extraction configuration</a></li>\n</ul>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"config-ui.md"},"children":[{"type":"text","value":"Configuration UI"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"ssl-configuration.md"},"children":[{"type":"text","value":"SSL configuration"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"authentication-configuration.md"},"children":[{"type":"text","value":"Authentication Configuration"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"powershell-extraction.md"},"children":[{"type":"text","value":"Powershell extraction configuration"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"fileAbsolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/ia/version-1.2/documentation/configuration/TOC.md","frontmatter":{"title":"Configuration"}}},"pageContext":{"urlPrefix":"ia/version-1.2","absolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/ia/version-1.2/documentation/configuration/hidden/braiwavefile.md","tocRegex":"/(ia/)(version-1.2/)?(documentation/)?(configuration/)?(hidden/)?(braiwavefile.md/)?(TOC.md)/ig","versions":[{"name":"version-1.5","displayName":"v1.5"},{"name":"version-1.4","displayName":"v1.4"},{"name":"version-1.2","displayName":"v1.2"}],"currentRepo":{"name":"ia","displayName":"Identity Analytics","description":"This guide provides a high-level overview of Identity Analytics. This documentation includes the user guides, integration guides for Identity Analytics along with the different modules included.","links":[{"text":"SEE SELF-MANAGED GUIDES","href":"/ia/version-1.4/#2"}],"remote":"https://github.com/radiantlogic-v8/documentation-ia-selfmanaged.git","patterns":["home-pages/**","documentation/**"],"deployBranches":[{"name":"version-1.5","displayName":"v1.5"},{"name":"version-1.4","displayName":"v1.4"},{"name":"version-1.2","displayName":"v1.2"}]},"currentRepoWebLink":"https://github.com/radiantlogic-v8/documentation-ia-selfmanaged","currentVersion":{"name":"version-1.2","displayName":"v1.2"},"title":"Brainwavefile configuration","description":null,"tocForCurrentSection":{"textElement":"Configuration","href":null,"children":[{"textElement":"Authentication configuration","href":"configuration/authentication-configuration","children":[]},{"textElement":"Config ui","href":"configuration/config-ui","children":[]},{"textElement":"Hidden","href":null,"children":[{"textElement":"Braiwavefile","href":"configuration/hidden/braiwavefile","children":[]}]},{"textElement":"Powershell extraction","href":"configuration/powershell-extraction","children":[]},{"textElement":"Ssl configuration","href":"configuration/ssl-configuration","children":[]},{"textElement":"T O C","href":"configuration/TOC","children":[]}]}}},"staticQueryHashes":["63159454"],"slicesMap":{"footer":"footer","header":"header"}}