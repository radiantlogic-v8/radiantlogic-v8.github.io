{"componentChunkName":"component---src-templates-base-page-js","path":"/ia/version-1.2/configuration/authentication-configuration/","result":{"data":{"pageContent":{"html":"<h1 id=\"authentication-and-authorization-configuration\">Authentication and authorization configuration</h1>\n<p>All resources provided by the current Identity analytics self-managed solution are protected by the Authentication and Authorization server.\r\nIt is implemented with <a href=\"https://www.keycloak.org\">RedHat Keycloak</a>. This chapter describes how to implement supported use cases. For detailed explanations about options, please refer to the <a href=\"https://www.keycloak.org/docs/latest/server_admin/index.html\">official documentation</a>.</p>\n<h2 id=\"supported-identity-providers\">Supported Identity Providers</h2>\n<p>The current Identity analytics self-managed solution supports:</p>\n<ul>\n<li><strong>Local Directory</strong>: this the default identity provider. Users, its credentials and groups/roles are stored in the Keycloak's internal repository.</li>\n<li><strong>User Federation with Active Directory</strong>: the user federation allows Keycloak to delegate authentication and authorization based on groups to Active Directory through LDAP(s) v3 protocol.</li>\n<li><strong>Identity Provider with Azure Active Directory</strong>: Azure AD will provide users authentication and authorization using OpenID Connect or SAML v2 protocol .</li>\n</ul>\n<h2 id=\"static-built-in-roles\">Static built-in roles</h2>\n<p>This package comes with default configuration (clients, roles, etc.). The roles provided by Identity analytics are:</p>\n<ul>\n<li><strong>user</strong>: standard user. It allows access to the Governance Portal user interface</li>\n<li><strong>designer</strong>: allows the design of Mashup Dashboards in the Governance Portal user interface</li>\n<li><strong>technicaladmin</strong>: allows the Technical Administration in the Governance Portal user interface and miscellaneous technical interfaces (configuration and controller UIs)</li>\n<li><strong>functionaladmin</strong>: allows the Functional Administration in the Governance Portal user interface</li>\n</ul>\n<p>All these roles are defined in the client <code class=\"language-text\">apisix</code> client of the <code class=\"language-text\">Brainwave</code> realm.</p>\n<blockquote>\n<p>[!warning] If you change the configuration of those roles or delete them, the Identity analytics self-managed solution will not work anymore.</p>\n</blockquote>\n<h2 id=\"keycloak-administration-console\">Keycloak Administration Console</h2>\n<p>You first need to get the initial password of user <code class=\"language-text\">setup</code>.<br>\nThere are 2 cases:</p>\n<ol>\n<li>Not mail setup has been done during install and before first start</li>\n<li>Email configuration has been setup and email has been assigned to <code class=\"language-text\">setup</code> user</li>\n</ol>\n<p>In the first case, the default password of <code class=\"language-text\">setup</code> user is <code class=\"language-text\">Brainwave@2023</code>. After successful login, you are invited to change it.</p>\n<blockquote>\n<p>The new password must match the initial Password Policy:</p>\n</blockquote>\n<ul>\n<li>History: 10</li>\n<li>Force change password after: 90 days</li>\n<li>Minimum length: 8</li>\n<li>Minimum upper case: 1</li>\n<li>Minimum lower case: 1</li>\n<li>Minimum digit: 1</li>\n<li>Minimum special: 1</li>\n<li>Username and email as password: forbidden</li>\n</ul>\n<p>In the second use case, the password is randomly generated during first startup.\r\nTo retrieve the password of <code class=\"language-text\">setup</code> user please follow steps.</p>\n<ul>\n<li>Go to https://{{HOSTNAME}}/config and login with <code class=\"language-text\">setup</code> account</li>\n<li>Click on <em>Forgot password</em> on login screen</li>\n<li>Enter the email of <code class=\"language-text\">setup</code> user</li>\n<li>Keycloak sends you an email with reset password link (that expires in 1 hour)</li>\n<li>With that link, you will be invited to set a new password compliant with the default password policy (see above)</li>\n</ul>\n<h2 id=\"self-service-user-administration\">Self-service user administration</h2>\n<p>Keycloak can notify end-users related to accounts and credentials lifecycle.<br>\nThe email configuration in Keycloak is managed by the Identity Analytics configuration UI (<code class=\"language-text\">https://{{HOSTNAME}}/config</code>)</p>\n<blockquote>\n<p>Any changes in Keycloak, will be erased at newt platform restart</p>\n</blockquote>\n<h2 id=\"local-directory-configuration\">Local Directory configuration</h2>\n<p>There is nothing to do to use of this directory. Simply, declare users inside the <code class=\"language-text\">Brainwave</code> realm using the <a href=\"https://www.keycloak.org/docs/latest/server_admin/index.html#using-the-admin-console\">administration console</a>.</p>\n<p>All users declared in this directory must authenticate with the email or username and local credentials.</p>\n<blockquote>\n<p>Note that you cannot declare a user (with same username or email) in this directory that already exists in User Federation or Identity Provider.</p>\n</blockquote>\n<p>To create a new user granted to this directory, follow the steps below.</p>\n<p>Once connected to the Keycloak Administration Console:</p>\n<ol>\n<li>Select the <code class=\"language-text\">Brainwave</code> realm from the dropdown box.</li>\n<li>Click on the <code class=\"language-text\">Users</code> menu.</li>\n<li>Then click on the button <code class=\"language-text\">Add user</code>.</li>\n<li>Enter values for the <code class=\"language-text\">username</code> (not updatable after creation) and <code class=\"language-text\">email</code> fields. They can have the same values or different values. It depends how your Identity Analytics iGRC project is configured (<strong>TODO</strong>: <code class=\"language-text\">make reference to something out of this chapter that explains portal view is configured. br_portal_identity?</code>). This is the login used by the end-user when accessing the user interfaces such as Governance Portal.</li>\n<li>Enter other fields like <code class=\"language-text\">First name</code> and <code class=\"language-text\">Last name</code>.</li>\n<li>Choose <code class=\"language-text\">Update Password</code> option in the select box <code class=\"language-text\">Required user actions</code> so that end-user must change the initial password during first connection.</li>\n<li>Click on the <code class=\"language-text\">Create</code> button.</li>\n<li>Once user successfully created, go the <code class=\"language-text\">Credentials</code> tab to setup initial password.</li>\n<li>Click on <code class=\"language-text\">Set password</code> button.</li>\n<li>Enter <code class=\"language-text\">Password</code> and <code class=\"language-text\">Password confirmation</code>.</li>\n<li>Set <code class=\"language-text\">Temporary</code> field to <code class=\"language-text\">On</code> so that end-user must enter its own password.</li>\n<li>Then click save.</li>\n<li>Click on <code class=\"language-text\">Role mapping</code> tab.</li>\n<li>Click on <code class=\"language-text\">Assign role</code> button.</li>\n<li>Click on <code class=\"language-text\">Filter by role</code> field and choose <code class=\"language-text\">Filter by clients</code>.</li>\n<li>In the field <code class=\"language-text\">Search by role name</code>, enter <code class=\"language-text\">apisix</code> to select Identity Analytics static built-in roles to assign.</li>\n<li>Check the roles to assign (ex. <code class=\"language-text\">user</code>)</li>\n<li>Then click on <code class=\"language-text\">Assign</code> button.</li>\n</ol>\n<h2 id=\"active-directory-user-federation\">Active Directory user federation</h2>\n<p>The user federation with Active Directory allows Keycloak to delegate authentication and authorization based on groups to Active Directory through LDAP(s) v3 protocol.</p>\n<p>The user federation is also known as external user storage. To support all the features of Keycloak, user information is stored locally except credentials. The User federation regularly synchronizes its local storage with Active Directory. See details on <a href=\"https://www.keycloak.org/docs/latest/server_admin/index.html#_user-storage-federation\">how it works</a>.</p>\n<p>This section explains how to configure Keycloak to look for users (identity with Active Directory credentials) and groups (for authorization based).</p>\n<h3 id=\"prerequisites\">Prerequisites</h3>\n<p>To enable Keycloak to query your Active Directory, you must declare a read-only service account granted to traverse the directory tree where your users and groups are located including referrals.</p>\n<blockquote>\n<p>Don't forget to allow the service account to follow referrals if you have multiple domains and forests.</p>\n</blockquote>\n<p>Enable Active Directory to support LDAP or LDAPs if not yet available</p>\n<p>Open route from the Identity analytics self-managed solution cluster to Active Directory on port LDAP port (default is 389) or LDAPs port (default 686).</p>\n<h3 id=\"user-federation-required-information\">User Federation required information</h3>\n<p>Get from your Active Directory administrator:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> <code class=\"language-text\">LDAP Host</code>: Domain Controller host name or IP</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> <code class=\"language-text\">Service Account Bind DN</code>: Service Account distinguished name.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> <code class=\"language-text\">Service Account Bind Credentials</code>: Service Account credentials.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> <code class=\"language-text\">Users DN</code>: distinguished name from which users are searched for. If users that you will grant to Identity analytics self-managed solution are located in distinct nodes, choose the root DN common to those nodes. It is not possible to enter more than one DN to search for users.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> <code class=\"language-text\">Username LDAP attribute</code>: name of the LDAP attribute which is mapped to Keycloak username. For instance <code class=\"language-text\">cn</code> or <code class=\"language-text\">sAMAccountName</code>.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> <code class=\"language-text\">User search scope</code>: possible values are <code class=\"language-text\">One Level</code> or <code class=\"language-text\">Subtree</code>. First option means that users are search at the <code class=\"language-text\">Users DN</code> level. Second options means that users are searched whatever the level from <code class=\"language-text\">Users DN</code>.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> <code class=\"language-text\">Groups DN</code>: distinguished name from which groups are searched for. If groups assigned to LDAP users are located in distinct nodes, choose the root DN common to those nodes. It is not possible to enter more than one DN to search for groups.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> <code class=\"language-text\">Group name LDAP attribute</code>: name of the LDAP attribute which is mapped to Keycloak username. For instance <code class=\"language-text\">cn</code> or <code class=\"language-text\">sAMAccountName</code>.</li>\n</ul>\n<h3 id=\"user-federation-authentication\">User Federation authentication</h3>\n<p>Once connected to the Keycloak Administration Console:</p>\n<ol>\n<li>\n<p>Select the <code class=\"language-text\">Brainwave</code> realm from the dropdown box.</p>\n</li>\n<li>\n<p>Select <code class=\"language-text\">User Federation</code> from the menu.</p>\n</li>\n<li>\n<p>Click on <code class=\"language-text\">Add new provider</code>dropdown list and choose <code class=\"language-text\">LDAP</code>.</p>\n</li>\n<li>\n<p>Enter <strong>General options</strong> and <strong>Connection settings</strong></p>\n<ul>\n<li><code class=\"language-text\">Console display name</code>: a name to identify your Active Directory users repository.</li>\n<li><code class=\"language-text\">Vendor</code>: choose <code class=\"language-text\">Active Directory</code></li>\n<li><code class=\"language-text\">Connection URL</code>: LDAP connection URL of ACtive Directory. It is prefixed by <code class=\"language-text\">ldap://</code> or <code class=\"language-text\">ldaps://</code> followed by the <code class=\"language-text\">LDAP Host</code>. See <a href=\"#user-federation-required-information\">gathered information</a>.</li>\n<li><code class=\"language-text\">Enable StartTLS</code>: if you choose LDAPS</li>\n<li><code class=\"language-text\">Use Truststore SPI</code>: choose option <code class=\"language-text\">Only for ldaps</code></li>\n<li><code class=\"language-text\">Connection timeout</code>: LDAP connection timeout in milliseconds. For instance, 1000.</li>\n<li><code class=\"language-text\">Bind type</code>: select <code class=\"language-text\">simple</code> to connect to Active Directory with LDAP service account and password.</li>\n<li><code class=\"language-text\">Bind DN</code>: service account distinguished name. See <a href=\"#user-federation-required-information\">gathered information</a>.</li>\n<li><code class=\"language-text\">Bind credentials</code>: service account credentials name. See <a href=\"#user-federation-required-information\">gathered information</a>.</li>\n</ul>\n</li>\n<li>\n<p>Enter <strong>LDAP searching and updating</strong> fields</p>\n<ul>\n<li><code class=\"language-text\">Edit mode</code>: choose the <code class=\"language-text\">READ_ONLY</code> value so that LDAP attributes are one-way synched to Keycloak.</li>\n<li><code class=\"language-text\">Users DN</code>: distinguished name from which users are searched for. See <a href=\"#user-federation-required-information\">gathered information</a>. For example,</li>\n<li><code class=\"language-text\">Username LDAP attribute</code>: choose the LDAP attribute in Active Directory that fills the Keycloak username. See <a href=\"#user-federation-required-information\">gathered information</a>. For example, the common name <code class=\"language-text\">cn</code>.</li>\n</ul>\n<blockquote>\n<p>[!warning]<br>\nIf you are using standard <em>iGRC project configuration</em>, <code class=\"language-text\">Username LDAP attribute</code> must be equal to <code class=\"language-text\">sAMAccountName</code> (same as <code class=\"language-text\">username</code> attribute mapper defined later in this section).</p>\n<p>If user dos not connect with <code class=\"language-text\">sAMAccountName</code> or <code class=\"language-text\">email</code>, then you must adapt the configuration <em>iGRC project configuration</em>, the provided iGRC view (<code class=\"language-text\">br_portal_identity</code>), for username to match the corresponding login in the right repository.</p>\n</blockquote>\n<ul>\n<li><code class=\"language-text\">Search scope</code>: recursive or one level user search. See <a href=\"#user-federation-required-information\">gathered information</a>. For example, <code class=\"language-text\">Subtree</code>.</li>\n<li><code class=\"language-text\">Read timeout</code>:</li>\n<li><code class=\"language-text\">Pagination</code>: set to <code class=\"language-text\">On</code> in case of large number of users.</li>\n</ul>\n</li>\n<li>\n<p>Enter <strong>Synchronization settings</strong> fields</p>\n<ul>\n<li><code class=\"language-text\">Import users</code>: set to <code class=\"language-text\">On</code>. Keycloak will import users at after configuration terminated.</li>\n<li><code class=\"language-text\">Batch size</code>: import <code class=\"language-text\">1000</code> users per transaction.</li>\n<li><code class=\"language-text\">Periodic full sync</code>: set to <code class=\"language-text\">On</code>. Execute a full synchronization from Active Directory to Keycloak.</li>\n<li><code class=\"language-text\">Full sync period</code>: full synchronization every <code class=\"language-text\">86400</code> seconds (24 hours).</li>\n<li><code class=\"language-text\">Periodic changed users sync</code>: set to <code class=\"language-text\">On</code>.</li>\n<li><code class=\"language-text\">Changed users sync period</code>: synchronize changes in Active Directory to Keycloak every <code class=\"language-text\">14400</code> seconds (4 hours).</li>\n</ul>\n</li>\n<li>\n<p>Enter <strong>Cache settings</strong> fields</p>\n<ul>\n<li><code class=\"language-text\">Cache policy</code>: MAX_LIFESPAN</li>\n<li><code class=\"language-text\">Max lifespan</code>: <code class=\"language-text\">3600</code> milliseconds</li>\n</ul>\n</li>\n<li>\n<p>Enter <strong>Advanced settings</strong> fields</p>\n<ul>\n<li><code class=\"language-text\">Trust email</code>: set to <code class=\"language-text\">On</code>. Active Directory is considered as authoritative source for email and verification is not required.</li>\n</ul>\n</li>\n<li>\n<p>Click <code class=\"language-text\">Save</code> button</p>\n</li>\n</ol>\n<h3 id=\"ldap-over-ssl\">LDAP over SSL</h3>\n<blockquote>\n<p>[!warning] This configuration is not yet supported.</p>\n</blockquote>\n<h3 id=\"user-federation-group-mapping\">User Federation group mapping</h3>\n<p>Once connected to the Keycloak Administration Console, do the following steps to map authorizations to Active Directory groups.</p>\n<p>When you created the User Federation in the previous section, Keycloak created default mappers.</p>\n<table>\n<thead>\n<tr>\n<th>Mapper Name</th>\n<th>Mapper Type</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>creation date</td>\n<td>user-attribute-ldap-mapper</td>\n</tr>\n<tr>\n<td>email</td>\n<td>user-attribute-ldap-mapper</td>\n</tr>\n<tr>\n<td>full name</td>\n<td>full-name-ldap-mapper</td>\n</tr>\n<tr>\n<td>groups</td>\n<td>group-ldap-mapper</td>\n</tr>\n<tr>\n<td>last name</td>\n<td>user-attribute-ldap-mapper</td>\n</tr>\n<tr>\n<td>modify date</td>\n<td>user-attribute-ldap-mapper</td>\n</tr>\n<tr>\n<td>MSAD account controls</td>\n<td>msad-user-account-control-mapper</td>\n</tr>\n<tr>\n<td>username</td>\n<td>user-attribute-ldap-mapper</td>\n</tr>\n</tbody>\n</table>\n<p>You will now check the configuration to create a new mapper for the Active Directory groups.</p>\n<ol>\n<li>Select the <code class=\"language-text\">Brainwave</code> realm from the dropdown box.</li>\n<li>Select <code class=\"language-text\">User Federation</code> from the menu.</li>\n<li>Click on the card with the <code class=\"language-text\">Console display name</code> you have chosen in the previous section.</li>\n<li>Click on <code class=\"language-text\">Add mapper</code> button.</li>\n<li>Enter the general mapper fields</li>\n</ol>\n<ul>\n<li><code class=\"language-text\">Name</code>: the mapper will be named <code class=\"language-text\">groups</code>.</li>\n<li><code class=\"language-text\">Mapper type</code>: the type to map LDAP group is <code class=\"language-text\">group-ldap-mapper</code>.</li>\n</ul>\n<ol start=\"6\">\n<li>Enter the <code class=\"language-text\">Group LDAP mapper</code> fields</li>\n</ol>\n<ul>\n<li><code class=\"language-text\">LDAP Groups DN</code>: distinguished name from which groups are searched for. See <a href=\"#user-federation-required-information\">gathered information</a>.</li>\n<li><code class=\"language-text\">Preserve Group Inheritance</code>: set to <code class=\"language-text\">Off</code>. It is mandatory to disable this option if you have multiple parent groups for a group. This is often the case with nested groups.</li>\n<li><code class=\"language-text\">User Groups Retrieve Strategy</code>: choose <code class=\"language-text\">GET_GROUPS_FROM_USER_MEMBEROF_ATTRIBUTE</code> option</li>\n<li><code class=\"language-text\">Drop non-existing groups during sync</code>: set to <code class=\"language-text\">On</code></li>\n</ul>\n<h3 id=\"synchronize-users-and-groups\">Synchronize Users and Groups</h3>\n<p>Once connected to the Keycloak Administration Console, do the following steps to synchronize Active Directory users and groups to Keycloak.</p>\n<ol>\n<li>Select the <code class=\"language-text\">Brainwave</code> realm from the dropdown box.</li>\n<li>Select <code class=\"language-text\">User Federation</code> from the menu.</li>\n<li>Click on the card with the <code class=\"language-text\">Console display name</code> you have chosen in the previous section.</li>\n<li>In the upper right dropdown list, select <code class=\"language-text\">Sync changed users</code> Action.</li>\n</ol>\n<blockquote>\n<p>When you finished the configuration above, the full synchronization is executed and may take long time depending on number of users and groups to synchronize.<br>\n<code class=\"language-text\">Remove imported</code> action with READ_ONLY edit mode (and with read-only service account) has no effect. Neither in Active Directory, neither in Keycloak. No users or groups are deleted from both sides even menu entry is enabled.</p>\n</blockquote>\n<h3 id=\"roles-group-mapping\">Roles group mapping</h3>\n<p>When the synchronization is finalized, you will be able to assign Identity analytics static built-ins roles (Keycloak <code class=\"language-text\">Client Role</code>) to Active Directory groups.</p>\n<h4 id=\"example\">Example</h4>\n<p>When an Active Directory user is member of an Active Directory group (for instance <code class=\"language-text\">BW_USERS</code>), the user will be granted to access (<code class=\"language-text\">user</code>) the Governance Portal user interface.</p>\n<p>Once connected to the Keycloak Administration Console, do the following steps to assign a set of roles when an Active Directory user is member of an Active Directory group.</p>\n<ol>\n<li>Select the <code class=\"language-text\">Brainwave</code> realm from the dropdown box.</li>\n<li>Select <code class=\"language-text\">Groups</code> from the menu.</li>\n<li>Select the Active Directory group (ex. <code class=\"language-text\">BW_USERS</code>)</li>\n<li>Click on <code class=\"language-text\">Role mapping</code> tab.</li>\n<li>Click on <code class=\"language-text\">Assign role</code> button.</li>\n<li>Click on <code class=\"language-text\">Filter by roles</code> field and choose <code class=\"language-text\">Filter by clients</code>.</li>\n<li>In the field <code class=\"language-text\">Search by role name</code>, enter <code class=\"language-text\">apisix</code> to select Identity Analytics static built-in roles to assign.</li>\n<li>Check the roles to assign (ex. <code class=\"language-text\">user</code>)</li>\n<li>Then click on <code class=\"language-text\">Assign</code> button.</li>\n</ol>\n<h2 id=\"azure-active-directory-identity-provider\">Azure Active Directory identity provider</h2>\n<p>This feature is based on <a href=\"https://www.keycloak.org/docs/latest/server_admin/index.html#_identity_broker\">Identity Broker</a> available in Keycloak.</p>\n<p>In Keycloak, you can integrate with two main types of Identity Provider, depending on the security protocol supported by Identity Provider</p>\n<ul>\n<li>SAML v2.</li>\n<li>OpenID Connect v1.0.</li>\n</ul>\n<h3 id=\"openid-connect-protocol\">OpenID Connect protocol</h3>\n<h4 id=\"oidc-prerequisites\">OIDC Prerequisites</h4>\n<p>Ask your Azure Active Directory Administrator to create a new <code class=\"language-text\">App Registration</code> with the following properties</p>\n<ul>\n<li><code class=\"language-text\">Redirect URI</code>: this is the address of Keycloak instance. This URI looks like <code class=\"language-text\">PROTOCOL</code>://<code class=\"language-text\">DNS_SERVICE_NAME</code>/auth/realms/brainwave/broker/<code class=\"language-text\">ALIAS</code>/endpoint where\n<ul>\n<li><code class=\"language-text\">PROTOCOL</code> is http or https depending on your deployment configuration</li>\n<li><code class=\"language-text\">DNS_SERVICE_NAME</code> is the DNS of the Identity analytics self-managed solution cluster</li>\n<li><code class=\"language-text\">ALIAS</code> is the unique identifier set in Keycloak to this identity provider (remember it for later configuration). We suggest to provide a string that represents the Identity Provider without space or special characters. For instance, <code class=\"language-text\">bw-aad-oidc</code> for Identity Analytics Azure Active Directory using OpenID Connect.</li>\n</ul>\n</li>\n<li><code class=\"language-text\">Token configuration</code>: ask for optional groups claim with properties\n<ul>\n<li>Add <code class=\"language-text\">Security groups</code>.</li>\n<li>Add <code class=\"language-text\">Group ID</code> in Access Token.</li>\n</ul>\n</li>\n</ul>\n<p>Authorizations in Azure Active Directory are supposed to be assigned using security groups. So ask your Azure Active Directory Administrator to create new groups that will be mapped later against static built-in roles</p>\n<ul>\n<li><code class=\"language-text\">Technical Administrator</code> group</li>\n<li><code class=\"language-text\">Functional Administrator</code> group</li>\n<li><code class=\"language-text\">Standard User</code> group</li>\n<li><code class=\"language-text\">Designer</code> group</li>\n</ul>\n<p>Finally the group <code class=\"language-text\">claims</code> should be configured in the <code class=\"language-text\">token configuration</code>. If necessary add a group claims and customize the token properties to <code class=\"language-text\">Group ID</code>.</p>\n<h4 id=\"configure-identity-provider-with-openid-connect\">Configure Identity Provider with OpenID Connect</h4>\n<p>When the administrator finalized the <code class=\"language-text\">App Registration</code> configuration and the groups creation in Azure Active Directory, gather the following information</p>\n<ul>\n<li><code class=\"language-text\">Application (Client) ID</code> <a id=\"oidc-aad-client-id\"></li>\n<li><code class=\"language-text\">Client Secret</code> <a id=\"oidc-aad-client-secret\"></li>\n<li>Group ID for each of Active Directory group</li>\n<li><code class=\"language-text\">OpenID Connect Metadata Document</code> <a id=\"oidc-aad-discovery-endpoint\"></li>\n</ul>\n<p>Once connected to the Keycloak Administration Console, do the following steps to configure the Identity Provider, either using OpenID connect or SAML protocol.</p>\n<ol>\n<li>\n<p>Select the <code class=\"language-text\">Brainwave</code> realm from the dropdown box.</p>\n</li>\n<li>\n<p>Select <code class=\"language-text\">Identity providers</code> from the menu.</p>\n</li>\n<li>\n<p>Click on <code class=\"language-text\">Add provider</code> button and select <code class=\"language-text\">OpenID Connect v1.0</code> option.</p>\n</li>\n<li>\n<p>Fill in <code class=\"language-text\">General options</code> section</p>\n<ul>\n<li><code class=\"language-text\">Alias</code>: this is the value you provided to your Azure Active Directory (see <code class=\"language-text\">Redirect URI</code>).</li>\n<li><code class=\"language-text\">Display name</code>: Enter the display name that will be displayed on login user interface.</li>\n</ul>\n</li>\n<li>\n<p>Fill in <code class=\"language-text\">OpenID Connect settings</code></p>\n<ul>\n<li><code class=\"language-text\">Discovery endpoint</code>: this value was provided by your Azure Active Directory (see <a href=\"#oidc-aad-discovery-endpoint\">OpenID Connect Metadata Document</a>). If the value is valid, you'll see a green checkbox at the end of the URL and the section <code class=\"language-text\">Show metadata</code> is filled with information downloaded from the Identity Provider.</li>\n<li><code class=\"language-text\">Client authentication</code>: choose <code class=\"language-text\">Client secret sent as post</code> option.</li>\n<li><code class=\"language-text\">Client ID</code>: this value was provided by your Azure Active Directory (see <a href=\"#oidc-aad-client-id\">Application (Client) ID</a>).</li>\n<li><code class=\"language-text\">Client Secret</code>: this value was provided by your Azure Active Directory (see <a href=\"#oidc-aad-client-secret\">Client Secret</a>).</li>\n</ul>\n</li>\n<li>\n<p>Click on <code class=\"language-text\">Add</code> button</p>\n</li>\n<li>\n<p>Open <code class=\"language-text\">Advanced</code> section to change some parameters</p>\n<ul>\n<li><code class=\"language-text\">Pass current locale</code>: set to <code class=\"language-text\">On</code></li>\n<li><code class=\"language-text\">Backchannel logout</code>: set to <code class=\"language-text\">On</code></li>\n</ul>\n</li>\n<li>\n<p>Change following <code class=\"language-text\">Advanced settings</code></p>\n<ul>\n<li><code class=\"language-text\">Trust Email</code>: set to <code class=\"language-text\">On</code>.</li>\n<li><code class=\"language-text\">Sync mode</code>: select <code class=\"language-text\">Force</code> option.</li>\n</ul>\n</li>\n<li>\n<p>Click on <code class=\"language-text\">Save</code> button</p>\n</li>\n<li>\n<p>Click on <code class=\"language-text\">Mappers</code> tab</p>\n</li>\n<li>\n<p>Click on <code class=\"language-text\">Add mapper</code> button. Create as many mappers as Azure Active Directory groups that match static built-in roles</p>\n<ul>\n<li>\n<p>Map <code class=\"language-text\">Technical Administrator</code> group to the role <code class=\"language-text\">technicaladmin</code>. Fill in the mapper form fields</p>\n<ul>\n<li><code class=\"language-text\">Name</code>: <code class=\"language-text\">Technical Administrator Group Mapper</code></li>\n<li><code class=\"language-text\">Sync mode override</code>: choose <code class=\"language-text\">Force</code> option to always update Keycloak during login</li>\n<li><code class=\"language-text\">Mapper type</code>: choose <code class=\"language-text\">Claim to Role</code> option</li>\n<li><code class=\"language-text\">Claim</code>: the claim that contains the Azure Active Directory groups is named <code class=\"language-text\">groups</code></li>\n<li><code class=\"language-text\">Claim Value</code>: this is the group ID of <code class=\"language-text\">Technical Administrator</code> group provided by your Azure Active Directory administrator</li>\n<li><code class=\"language-text\">Role</code>\n<ul>\n<li>Client role: <code class=\"language-text\">apisix</code></li>\n<li>Name: <code class=\"language-text\">technicaladmin</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Map <code class=\"language-text\">Functional Administrator</code> group to the role <code class=\"language-text\">functionaladmin</code>. Fill in the mapper form fields</p>\n<ul>\n<li><code class=\"language-text\">Name</code>: <code class=\"language-text\">Functional Administrator Group Mapper</code></li>\n<li><code class=\"language-text\">Sync mode override</code>: choose <code class=\"language-text\">Force</code> option to always update Keycloak during login</li>\n<li><code class=\"language-text\">Mapper type</code>: choose <code class=\"language-text\">Claim to Role</code> option</li>\n<li><code class=\"language-text\">Claim</code>: the claim that contains the Azure Active Directory groups is named <code class=\"language-text\">groups</code></li>\n<li><code class=\"language-text\">Claim Value</code>: this is the group ID of <code class=\"language-text\">Functional Administrator</code> group provided by your Azure Active Directory administrator</li>\n<li><code class=\"language-text\">Role</code>\n<ul>\n<li>Client role: <code class=\"language-text\">apisix</code></li>\n<li>Name: <code class=\"language-text\">functionaladmin</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Map <code class=\"language-text\">Standard User</code> group to the role <code class=\"language-text\">user</code>. Fill in the mapper form fields</p>\n<ul>\n<li><code class=\"language-text\">Name</code>: <code class=\"language-text\">Standard User Group Mapper</code></li>\n<li><code class=\"language-text\">Sync mode override</code>: choose <code class=\"language-text\">Force</code> option to always update Keycloak during login</li>\n<li><code class=\"language-text\">Mapper type</code>: choose <code class=\"language-text\">Claim to Role</code> option</li>\n<li><code class=\"language-text\">Claim</code>: the claim that contains the Azure Active Directory groups is named <code class=\"language-text\">groups</code></li>\n<li><code class=\"language-text\">Claim Value</code>: this is the group ID of <code class=\"language-text\">Standard User</code> group provided by your Azure Active Directory administrator</li>\n<li><code class=\"language-text\">Role</code>\n<ul>\n<li>Client role: <code class=\"language-text\">apisix</code></li>\n<li>Name: <code class=\"language-text\">user</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Map <code class=\"language-text\">Designer</code> group to the role <code class=\"language-text\">designer</code>. Fill in the mapper form fields</p>\n<ul>\n<li><code class=\"language-text\">Name</code>: <code class=\"language-text\">Designer Group Mapper</code></li>\n<li><code class=\"language-text\">Sync mode override</code>: choose <code class=\"language-text\">Force</code> option to always update Keycloak during login</li>\n<li><code class=\"language-text\">Mapper type</code>: choose <code class=\"language-text\">Claim to Role</code> option</li>\n<li><code class=\"language-text\">Claim</code>: the claim that contains the Azure Active Directory groups is named <code class=\"language-text\">groups</code></li>\n<li><code class=\"language-text\">Claim Value</code>: this is the group ID of <code class=\"language-text\">Designer</code> group provided by your Azure Active Directory administrator</li>\n<li><code class=\"language-text\">Role</code>\n<ul>\n<li>Client role: <code class=\"language-text\">apisix</code></li>\n<li>Name: <code class=\"language-text\">designer</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"saml-v20-protocol\">SAML v2.0 protocol</h3>\n<h4 id=\"prerequisites-1\">Prerequisites</h4>\n<p>Ask your Azure Active Directory Administrator to create a new <code class=\"language-text\">Enterprise Application</code> for SAML v2 authentication with the following properties:</p>\n<ul>\n<li><strong>Entity ID</strong>: <code class=\"language-text\">&lt;PROTOCOL>://&lt;DNS_SERVICE_NAME>/auth/realms/brainwave</code></li>\n<li><strong>Consumer Service URL (ACS)</strong>: <code class=\"language-text\">&lt;PROTOCOL>://&lt;DNS_SERVICE_NAME>/auth/realms/brainwave/broker/&lt;ALIAS>/endpoint</code> where\n<ul>\n<li><code class=\"language-text\">&lt;PROTOCOL></code> is http or https depending on your deployment configuration</li>\n<li><code class=\"language-text\">&lt;DNS_SERVICE_NAME></code> is the DNS of the Brainwave package cluster</li>\n<li><code class=\"language-text\">&lt;ALIAS></code> is the unique identifier set in Keycloak to this identity provider (remember it for later configuration). We suggest to provide a string that represents the Identity Provider without space nor special characters. For instance, <code class=\"language-text\">bw-aad-saml</code> for Brainwave Azure Active Directory using SAML.</li>\n</ul>\n</li>\n<li><strong>Claims</strong></li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>Claim name</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Unique User Identifier (Name ID)</td>\n<td>user.userprincipalname</td>\n</tr>\n<tr>\n<td>name</td>\n<td>user.userprincipalname</td>\n</tr>\n<tr>\n<td><a href=\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenanme\">http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenanme</a></td>\n<td>user.givenname</td>\n</tr>\n<tr>\n<td><a href=\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname\">http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname</a></td>\n<td>user.surname</td>\n</tr>\n<tr>\n<td><a href=\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\">http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name</a></td>\n<td>user.userprincaipalname</td>\n</tr>\n<tr>\n<td><a href=\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress\">http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress</a></td>\n<td>user.mail</td>\n</tr>\n<tr>\n<td><a href=\"http://schemas.microsoft.com/ws/2008/06/identity/claims/groups\">http://schemas.microsoft.com/ws/2008/06/identity/claims/groups</a></td>\n<td>user.groups [SecurityGroup]</td>\n</tr>\n</tbody>\n</table>\n<p>Authorizations in Azure Active Directory are supposed to be assigned using security groups. So ask your Azure Active Directory Administrator to create new groups that will be mapped later against static built-in roles.</p>\n<ul>\n<li><code class=\"language-text\">Technical Administrator</code> group.</li>\n<li><code class=\"language-text\">Functional Administrator</code> group.</li>\n<li><code class=\"language-text\">Standard User</code> group.</li>\n<li><code class=\"language-text\">Designer</code> group.</li>\n</ul>\n<p>Finally the group <code class=\"language-text\">claims</code> should be configured in the <code class=\"language-text\">token configuration</code>. If necessary add a group claims and customize the token properties to <code class=\"language-text\">Group ID</code>.</p>\n<h4 id=\"saml-v2-configuration\">SAML v2 configuration</h4>\n<p>When the administrator finalized the <code class=\"language-text\">Enterprise Application</code> configuration and the groups creation in Azure Active Directory, gather the following information</p>\n<ul>\n<li>List of group IDs for each of Active Directory group.</li>\n<li><code class=\"language-text\">App Federation Metadata Url</code> <a id=\"saml-aad-metadata-endpoint\">.</li>\n</ul>\n<p>Once connected to the Keycloak Administration Console, do the following steps to configure the Identity Provider, either using OpenID connect or SAML protocol.</p>\n<ol>\n<li>\n<p>Select the <code class=\"language-text\">Brainwave</code> realm from the dropdown box.</p>\n</li>\n<li>\n<p>Select <code class=\"language-text\">Identity providers</code> from the menu.</p>\n</li>\n<li>\n<p>Click on <code class=\"language-text\">Add provider</code> button and select <code class=\"language-text\">SAML v2.0</code> option.</p>\n</li>\n<li>\n<p>Fill in <code class=\"language-text\">General options</code> section</p>\n<ul>\n<li><code class=\"language-text\">Alias</code>: this is the value you provided to your Azure Active Directory (see <code class=\"language-text\">Consumer Service URL (ACS)</code>).</li>\n<li><code class=\"language-text\">Display name</code>: enter the display name that will be displayed on login user interface.</li>\n</ul>\n</li>\n<li>\n<p>Fill in <code class=\"language-text\">SAML Settings</code> section</p>\n<ul>\n<li><code class=\"language-text\">Service provider entity ID</code>: this is the value you provided to your Azure Active Directory (see <code class=\"language-text\">Entity ID</code>).</li>\n<li><code class=\"language-text\">Use entity description</code>: set to <code class=\"language-text\">On</code>.</li>\n<li><code class=\"language-text\">SAML entity descriptor</code>: enter the value provided by Azure Active Directory Administrator. See <a href=\"#saml-aad-metadata-endpoint\">App Federation Metadata Url</a>. If the value is valid, you'll see a green checkbox at the end of the URL and the section <code class=\"language-text\">Show metadata</code> is filled with information downloaded from the Identity Provider.</li>\n</ul>\n</li>\n<li>\n<p>Click on <code class=\"language-text\">Add</code> button.</p>\n</li>\n<li>\n<p>Change following <code class=\"language-text\">SAML settings</code></p>\n<ul>\n<li><code class=\"language-text\">Backchannel logout</code>: set to <code class=\"language-text\">On</code>.</li>\n<li><code class=\"language-text\">NameID policy format</code>: select <code class=\"language-text\">Unspecified</code> option.</li>\n<li><code class=\"language-text\">Allow create</code>: set to <code class=\"language-text\">On</code>.</li>\n<li><code class=\"language-text\">HTTP-POST binding response</code>: set to <code class=\"language-text\">On</code>.</li>\n<li><code class=\"language-text\">HTTP-POST binding for AuthnRequest</code>: set to <code class=\"language-text\">On</code>.</li>\n<li><code class=\"language-text\">Signature algorithm</code>: select <code class=\"language-text\">RSA_SHA256</code> option.</li>\n<li><code class=\"language-text\">SAML signature key name</code>: select <code class=\"language-text\">CERT_SUBJECT</code> option.</li>\n<li><code class=\"language-text\">HTTP-POST binding logout</code>: set to <code class=\"language-text\">On</code>.</li>\n<li><code class=\"language-text\">Want AuthnRequests signed</code>: set to <code class=\"language-text\">On</code>.</li>\n<li><code class=\"language-text\">Want Assertions signed</code>: set to <code class=\"language-text\">On</code>.</li>\n</ul>\n</li>\n<li>\n<p>Change following <code class=\"language-text\">Advanced settings</code></p>\n<ul>\n<li><code class=\"language-text\">Trust Email</code>: set to <code class=\"language-text\">On</code>.</li>\n<li><code class=\"language-text\">Sync mode</code>: select <code class=\"language-text\">Force</code> option.</li>\n</ul>\n</li>\n<li>\n<p>Click on <code class=\"language-text\">Save</code> button.</p>\n</li>\n<li>\n<p>Click on <code class=\"language-text\">Add mapper</code> button. Create as many mappers as Azure Active Directory groups that match static built-in roles</p>\n<ul>\n<li>\n<p>Map <code class=\"language-text\">Technical Administrator</code> group to the role <code class=\"language-text\">technicaladmin</code>. Fill in the mapper form fields</p>\n<ul>\n<li><code class=\"language-text\">Name</code>: <code class=\"language-text\">Technical Administrator Group Mapper</code></li>\n<li><code class=\"language-text\">Sync mode override</code>: choose <code class=\"language-text\">Force</code> option to always update Keycloak during login</li>\n<li><code class=\"language-text\">Mapper type</code>: choose <code class=\"language-text\">SAML Attribute to Role</code> option</li>\n<li><code class=\"language-text\">Attribute Name</code>: the claim that contains the Azure Active Directory groups is named <code class=\"language-text\">http://schemas.microsoft.com/ws/2008/06/identity/claims/groups</code></li>\n<li><code class=\"language-text\">Attribute Value</code>: this is the group ID of <code class=\"language-text\">Technical Administrator</code> group provided by your Azure Active Directory administrator</li>\n<li><code class=\"language-text\">Role</code>\n<ul>\n<li>Client role: <code class=\"language-text\">apisix</code></li>\n<li>Name: <code class=\"language-text\">technicaladmin</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Map <code class=\"language-text\">Functional Administrator</code> group to the role <code class=\"language-text\">functionaladmin</code>. Fill in the mapper form fields</p>\n<ul>\n<li><code class=\"language-text\">Name</code>: <code class=\"language-text\">Functional Administrator Group Mapper</code></li>\n<li><code class=\"language-text\">Sync mode override</code>: choose <code class=\"language-text\">Force</code> option to always update Keycloak during login</li>\n<li><code class=\"language-text\">Mapper type</code>: choose <code class=\"language-text\">Claim to Role</code> option</li>\n<li><code class=\"language-text\">Attribute Name</code>: the claim that contains the Azure Active Directory groups is named <code class=\"language-text\">http://schemas.microsoft.com/ws/2008/06/identity/claims/groups</code></li>\n<li><code class=\"language-text\">Attribute Value</code>: this is the group ID of <code class=\"language-text\">Functional Administrator</code> group provided by your Azure Active Directory administrator</li>\n<li><code class=\"language-text\">Role</code>\n<ul>\n<li>Client role: <code class=\"language-text\">apisix</code></li>\n<li>Name: <code class=\"language-text\">functionaladmin</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Map <code class=\"language-text\">Standard User</code> group to the role <code class=\"language-text\">user</code>. Fill in the mapper form fields</p>\n<ul>\n<li><code class=\"language-text\">Name</code>: <code class=\"language-text\">Standard User Group Mapper</code></li>\n<li><code class=\"language-text\">Sync mode override</code>: choose <code class=\"language-text\">Force</code> option to always update Keycloak during login</li>\n<li><code class=\"language-text\">Mapper type</code>: choose <code class=\"language-text\">Claim to Role</code> option</li>\n<li><code class=\"language-text\">Attribute Name</code>: the claim that contains the Azure Active Directory groups is named <code class=\"language-text\">http://schemas.microsoft.com/ws/2008/06/identity/claims/groups</code></li>\n<li><code class=\"language-text\">Attribute Value</code>: this is the group ID of <code class=\"language-text\">Standard User</code> group provided by your Azure Active Directory administrator</li>\n<li><code class=\"language-text\">Role</code>\n<ul>\n<li>Client role: <code class=\"language-text\">apisix</code></li>\n<li>Name: <code class=\"language-text\">user</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Map <code class=\"language-text\">Designer</code> group to the role <code class=\"language-text\">designer</code>. Fill in the mapper form fields</p>\n<ul>\n<li><code class=\"language-text\">Name</code>: <code class=\"language-text\">Designer Group Mapper</code></li>\n<li><code class=\"language-text\">Sync mode override</code>: choose <code class=\"language-text\">Force</code> option to always update Keycloak during login</li>\n<li><code class=\"language-text\">Mapper type</code>: choose <code class=\"language-text\">Claim to Role</code> option</li>\n<li><code class=\"language-text\">Attribute Name</code>: the claim that contains the Azure Active Directory groups is named <code class=\"language-text\">http://schemas.microsoft.com/ws/2008/06/identity/claims/groups</code></li>\n<li><code class=\"language-text\">Attribute Value</code>: this is the group ID of <code class=\"language-text\">Designer</code> group provided by your Azure Active Directory administrator</li>\n<li><code class=\"language-text\">Role</code>\n<ul>\n<li>Client role: <code class=\"language-text\">apisix</code></li>\n<li>Name: <code class=\"language-text\">designer</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Click on <code class=\"language-text\">Add mapper</code> button. Create mappers for last name, first name and email from Azure Active Directory to Keycloak user attributes</p>\n<ul>\n<li>\n<p>Map <code class=\"language-text\">givenname</code> SAML Attribute to the Keycloak user attribute. Fill in the mapper form fields</p>\n<ul>\n<li><code class=\"language-text\">Name</code>: <code class=\"language-text\">First name Attribute Mapper</code></li>\n<li><code class=\"language-text\">Sync mode override</code>: choose <code class=\"language-text\">Force</code> option to always update Keycloak during login</li>\n<li><code class=\"language-text\">Mapper type</code>: choose <code class=\"language-text\">Attribute Importer</code> option</li>\n<li><code class=\"language-text\">Attribute Name</code>: enter the claim name you supplied to your Azure Active Directory administrator (like <code class=\"language-text\">http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname</code>)</li>\n<li><code class=\"language-text\">Name Format</code>: select <code class=\"language-text\">ATTRIBUTE_FORMAT_URI</code> option</li>\n<li><code class=\"language-text\">User Attribute Name</code>: firstName</li>\n</ul>\n</li>\n<li>\n<p>Map <code class=\"language-text\">surname</code> SAML Attribute to the Keycloak user attribute. Fill in the mapper form fields</p>\n<ul>\n<li><code class=\"language-text\">Name</code>: <code class=\"language-text\">Last name Attribute Mapper</code></li>\n<li><code class=\"language-text\">Sync mode override</code>: choose <code class=\"language-text\">Force</code> option to always update Keycloak during login</li>\n<li><code class=\"language-text\">Mapper type</code>: choose <code class=\"language-text\">Attribute Importer</code> option</li>\n<li><code class=\"language-text\">Attribute Name</code>: enter the claim name you supplied to your Azure Active Directory administrator (like <code class=\"language-text\">http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname</code>)</li>\n<li><code class=\"language-text\">Name Format</code>: select <code class=\"language-text\">ATTRIBUTE_FORMAT_URI</code> option</li>\n<li><code class=\"language-text\">User Attribute Name</code>: lastName</li>\n</ul>\n</li>\n<li>\n<p>Map <code class=\"language-text\">emailaddress</code> SAML Attribute to the Keycloak user attribute. Fill in the mapper form fields</p>\n<ul>\n<li><code class=\"language-text\">Name</code>: <code class=\"language-text\">Email Attribute Mapper</code></li>\n<li><code class=\"language-text\">Sync mode override</code>: choose <code class=\"language-text\">Force</code> option to always update Keycloak during login</li>\n<li><code class=\"language-text\">Mapper type</code>: choose <code class=\"language-text\">Attribute Importer</code> option</li>\n<li><code class=\"language-text\">Attribute Name</code>: enter the claim name you supplied to your Azure Active Directory administrator (like <code class=\"language-text\">http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress</code>)</li>\n<li><code class=\"language-text\">Name Format</code>: select <code class=\"language-text\">ATTRIBUTE_FORMAT_URI</code> option</li>\n<li><code class=\"language-text\">User Attribute Name</code>: email</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"troubleshooting\">Troubleshooting</h3>\n<p>If the user has \"access denied\" message after successful IdP login, check the Keycloak user whether it has been granted the appropriate role. If not, verify:</p>\n<ul>\n<li>Keycloak Identity Provider <code class=\"language-text\">Mappers</code> configuration\n<ul>\n<li>Do you define one mapper per role?</li>\n<li>Is the Azure Group ID valid?</li>\n<li>Does the AAD user member of the expected group?</li>\n</ul>\n</li>\n<li>Azure Active Directory claims definition with your Administrator\n<ul>\n<li>Does the group claim correctly defined?</li>\n<li>Does the <code class=\"language-text\">Token Configuration</code> in AAD <code class=\"language-text\">App registration</code> contain the optional group claim named <code class=\"language-text\">groups</code>?</li>\n</ul>\n</li>\n</ul>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{"id":"authentication-and-authorization-configuration"},"children":[{"type":"text","value":"Authentication and authorization configuration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"All resources provided by the current Identity analytics self-managed solution are protected by the Authentication and Authorization server.\r\nIt is implemented with "},{"type":"element","tagName":"a","properties":{"href":"https://www.keycloak.org"},"children":[{"type":"text","value":"RedHat Keycloak"}]},{"type":"text","value":". This chapter describes how to implement supported use cases. For detailed explanations about options, please refer to the "},{"type":"element","tagName":"a","properties":{"href":"https://www.keycloak.org/docs/latest/server_admin/index.html"},"children":[{"type":"text","value":"official documentation"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"supported-identity-providers"},"children":[{"type":"text","value":"Supported Identity Providers"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The current Identity analytics self-managed solution supports:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Local Directory"}]},{"type":"text","value":": this the default identity provider. Users, its credentials and groups/roles are stored in the Keycloak's internal repository."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"User Federation with Active Directory"}]},{"type":"text","value":": the user federation allows Keycloak to delegate authentication and authorization based on groups to Active Directory through LDAP(s) v3 protocol."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Identity Provider with Azure Active Directory"}]},{"type":"text","value":": Azure AD will provide users authentication and authorization using OpenID Connect or SAML v2 protocol ."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"static-built-in-roles"},"children":[{"type":"text","value":"Static built-in roles"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This package comes with default configuration (clients, roles, etc.). The roles provided by Identity analytics are:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"user"}]},{"type":"text","value":": standard user. It allows access to the Governance Portal user interface"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"designer"}]},{"type":"text","value":": allows the design of Mashup Dashboards in the Governance Portal user interface"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"technicaladmin"}]},{"type":"text","value":": allows the Technical Administration in the Governance Portal user interface and miscellaneous technical interfaces (configuration and controller UIs)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"functionaladmin"}]},{"type":"text","value":": allows the Functional Administration in the Governance Portal user interface"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"All these roles are defined in the client "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"apisix"}]},{"type":"text","value":" client of the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Brainwave"}]},{"type":"text","value":" realm."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"[!warning] If you change the configuration of those roles or delete them, the Identity analytics self-managed solution will not work anymore."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"keycloak-administration-console"},"children":[{"type":"text","value":"Keycloak Administration Console"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You first need to get the initial password of user "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"setup"}]},{"type":"text","value":"."},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\nThere are 2 cases:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Not mail setup has been done during install and before first start"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Email configuration has been setup and email has been assigned to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"setup"}]},{"type":"text","value":" user"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In the first case, the default password of "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"setup"}]},{"type":"text","value":" user is "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Brainwave@2023"}]},{"type":"text","value":". After successful login, you are invited to change it."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The new password must match the initial Password Policy:"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"History: 10"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Force change password after: 90 days"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Minimum length: 8"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Minimum upper case: 1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Minimum lower case: 1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Minimum digit: 1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Minimum special: 1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Username and email as password: forbidden"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In the second use case, the password is randomly generated during first startup.\r\nTo retrieve the password of "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"setup"}]},{"type":"text","value":" user please follow steps."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Go to https://{{HOSTNAME}}/config and login with "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"setup"}]},{"type":"text","value":" account"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Click on "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Forgot password"}]},{"type":"text","value":" on login screen"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Enter the email of "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"setup"}]},{"type":"text","value":" user"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Keycloak sends you an email with reset password link (that expires in 1 hour)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"With that link, you will be invited to set a new password compliant with the default password policy (see above)"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"self-service-user-administration"},"children":[{"type":"text","value":"Self-service user administration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Keycloak can notify end-users related to accounts and credentials lifecycle."},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\nThe email configuration in Keycloak is managed by the Identity Analytics configuration UI ("},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"https://{{HOSTNAME}}/config"}]},{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Any changes in Keycloak, will be erased at newt platform restart"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"local-directory-configuration"},"children":[{"type":"text","value":"Local Directory configuration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There is nothing to do to use of this directory. Simply, declare users inside the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Brainwave"}]},{"type":"text","value":" realm using the "},{"type":"element","tagName":"a","properties":{"href":"https://www.keycloak.org/docs/latest/server_admin/index.html#using-the-admin-console"},"children":[{"type":"text","value":"administration console"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"All users declared in this directory must authenticate with the email or username and local credentials."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that you cannot declare a user (with same username or email) in this directory that already exists in User Federation or Identity Provider."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To create a new user granted to this directory, follow the steps below."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once connected to the Keycloak Administration Console:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Select the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Brainwave"}]},{"type":"text","value":" realm from the dropdown box."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Click on the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Users"}]},{"type":"text","value":" menu."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Then click on the button "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Add user"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Enter values for the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"username"}]},{"type":"text","value":" (not updatable after creation) and "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"email"}]},{"type":"text","value":" fields. They can have the same values or different values. It depends how your Identity Analytics iGRC project is configured ("},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"TODO"}]},{"type":"text","value":": "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"make reference to something out of this chapter that explains portal view is configured. br_portal_identity?"}]},{"type":"text","value":"). This is the login used by the end-user when accessing the user interfaces such as Governance Portal."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Enter other fields like "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"First name"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Last name"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Update Password"}]},{"type":"text","value":" option in the select box "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Required user actions"}]},{"type":"text","value":" so that end-user must change the initial password during first connection."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Click on the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Create"}]},{"type":"text","value":" button."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Once user successfully created, go the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Credentials"}]},{"type":"text","value":" tab to setup initial password."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Set password"}]},{"type":"text","value":" button."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Enter "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Password"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Password confirmation"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Set "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Temporary"}]},{"type":"text","value":" field to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"On"}]},{"type":"text","value":" so that end-user must enter its own password."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Then click save."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Role mapping"}]},{"type":"text","value":" tab."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Assign role"}]},{"type":"text","value":" button."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Filter by role"}]},{"type":"text","value":" field and choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Filter by clients"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"In the field "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Search by role name"}]},{"type":"text","value":", enter "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"apisix"}]},{"type":"text","value":" to select Identity Analytics static built-in roles to assign."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Check the roles to assign (ex. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"user"}]},{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Then click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Assign"}]},{"type":"text","value":" button."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"active-directory-user-federation"},"children":[{"type":"text","value":"Active Directory user federation"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The user federation with Active Directory allows Keycloak to delegate authentication and authorization based on groups to Active Directory through LDAP(s) v3 protocol."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The user federation is also known as external user storage. To support all the features of Keycloak, user information is stored locally except credentials. The User federation regularly synchronizes its local storage with Active Directory. See details on "},{"type":"element","tagName":"a","properties":{"href":"https://www.keycloak.org/docs/latest/server_admin/index.html#_user-storage-federation"},"children":[{"type":"text","value":"how it works"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This section explains how to configure Keycloak to look for users (identity with Active Directory credentials) and groups (for authorization based)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"prerequisites"},"children":[{"type":"text","value":"Prerequisites"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To enable Keycloak to query your Active Directory, you must declare a read-only service account granted to traverse the directory tree where your users and groups are located including referrals."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Don't forget to allow the service account to follow referrals if you have multiple domains and forests."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Enable Active Directory to support LDAP or LDAPs if not yet available"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Open route from the Identity analytics self-managed solution cluster to Active Directory on port LDAP port (default is 389) or LDAPs port (default 686)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"user-federation-required-information"},"children":[{"type":"text","value":"User Federation required information"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Get from your Active Directory administrator:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{"className":["contains-task-list"]},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{"className":["task-list-item"]},"children":[{"type":"element","tagName":"input","properties":{"type":"checkbox","disabled":true},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"LDAP Host"}]},{"type":"text","value":": Domain Controller host name or IP"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{"className":["task-list-item"]},"children":[{"type":"element","tagName":"input","properties":{"type":"checkbox","disabled":true},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Service Account Bind DN"}]},{"type":"text","value":": Service Account distinguished name."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{"className":["task-list-item"]},"children":[{"type":"element","tagName":"input","properties":{"type":"checkbox","disabled":true},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Service Account Bind Credentials"}]},{"type":"text","value":": Service Account credentials."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{"className":["task-list-item"]},"children":[{"type":"element","tagName":"input","properties":{"type":"checkbox","disabled":true},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Users DN"}]},{"type":"text","value":": distinguished name from which users are searched for. If users that you will grant to Identity analytics self-managed solution are located in distinct nodes, choose the root DN common to those nodes. It is not possible to enter more than one DN to search for users."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{"className":["task-list-item"]},"children":[{"type":"element","tagName":"input","properties":{"type":"checkbox","disabled":true},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Username LDAP attribute"}]},{"type":"text","value":": name of the LDAP attribute which is mapped to Keycloak username. For instance "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"cn"}]},{"type":"text","value":" or "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"sAMAccountName"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{"className":["task-list-item"]},"children":[{"type":"element","tagName":"input","properties":{"type":"checkbox","disabled":true},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"User search scope"}]},{"type":"text","value":": possible values are "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"One Level"}]},{"type":"text","value":" or "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Subtree"}]},{"type":"text","value":". First option means that users are search at the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Users DN"}]},{"type":"text","value":" level. Second options means that users are searched whatever the level from "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Users DN"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{"className":["task-list-item"]},"children":[{"type":"element","tagName":"input","properties":{"type":"checkbox","disabled":true},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Groups DN"}]},{"type":"text","value":": distinguished name from which groups are searched for. If groups assigned to LDAP users are located in distinct nodes, choose the root DN common to those nodes. It is not possible to enter more than one DN to search for groups."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{"className":["task-list-item"]},"children":[{"type":"element","tagName":"input","properties":{"type":"checkbox","disabled":true},"children":[]},{"type":"text","value":" "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Group name LDAP attribute"}]},{"type":"text","value":": name of the LDAP attribute which is mapped to Keycloak username. For instance "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"cn"}]},{"type":"text","value":" or "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"sAMAccountName"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"user-federation-authentication"},"children":[{"type":"text","value":"User Federation authentication"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once connected to the Keycloak Administration Console:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Select the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Brainwave"}]},{"type":"text","value":" realm from the dropdown box."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Select "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"User Federation"}]},{"type":"text","value":" from the menu."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Add new provider"}]},{"type":"text","value":"dropdown list and choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"LDAP"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Enter "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"General options"}]},{"type":"text","value":" and "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Connection settings"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Console display name"}]},{"type":"text","value":": a name to identify your Active Directory users repository."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Vendor"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Active Directory"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Connection URL"}]},{"type":"text","value":": LDAP connection URL of ACtive Directory. It is prefixed by "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ldap://"}]},{"type":"text","value":" or "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ldaps://"}]},{"type":"text","value":" followed by the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"LDAP Host"}]},{"type":"text","value":". See "},{"type":"element","tagName":"a","properties":{"href":"#user-federation-required-information"},"children":[{"type":"text","value":"gathered information"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Enable StartTLS"}]},{"type":"text","value":": if you choose LDAPS"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Use Truststore SPI"}]},{"type":"text","value":": choose option "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Only for ldaps"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Connection timeout"}]},{"type":"text","value":": LDAP connection timeout in milliseconds. For instance, 1000."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Bind type"}]},{"type":"text","value":": select "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"simple"}]},{"type":"text","value":" to connect to Active Directory with LDAP service account and password."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Bind DN"}]},{"type":"text","value":": service account distinguished name. See "},{"type":"element","tagName":"a","properties":{"href":"#user-federation-required-information"},"children":[{"type":"text","value":"gathered information"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Bind credentials"}]},{"type":"text","value":": service account credentials name. See "},{"type":"element","tagName":"a","properties":{"href":"#user-federation-required-information"},"children":[{"type":"text","value":"gathered information"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Enter "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"LDAP searching and updating"}]},{"type":"text","value":" fields"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Edit mode"}]},{"type":"text","value":": choose the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"READ_ONLY"}]},{"type":"text","value":" value so that LDAP attributes are one-way synched to Keycloak."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Users DN"}]},{"type":"text","value":": distinguished name from which users are searched for. See "},{"type":"element","tagName":"a","properties":{"href":"#user-federation-required-information"},"children":[{"type":"text","value":"gathered information"}]},{"type":"text","value":". For example,"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Username LDAP attribute"}]},{"type":"text","value":": choose the LDAP attribute in Active Directory that fills the Keycloak username. See "},{"type":"element","tagName":"a","properties":{"href":"#user-federation-required-information"},"children":[{"type":"text","value":"gathered information"}]},{"type":"text","value":". For example, the common name "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"cn"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"[!warning]"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\nIf you are using standard "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"iGRC project configuration"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Username LDAP attribute"}]},{"type":"text","value":" must be equal to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"sAMAccountName"}]},{"type":"text","value":" (same as "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"username"}]},{"type":"text","value":" attribute mapper defined later in this section)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If user dos not connect with "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"sAMAccountName"}]},{"type":"text","value":" or "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"email"}]},{"type":"text","value":", then you must adapt the configuration "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"iGRC project configuration"}]},{"type":"text","value":", the provided iGRC view ("},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"br_portal_identity"}]},{"type":"text","value":"), for username to match the corresponding login in the right repository."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Search scope"}]},{"type":"text","value":": recursive or one level user search. See "},{"type":"element","tagName":"a","properties":{"href":"#user-federation-required-information"},"children":[{"type":"text","value":"gathered information"}]},{"type":"text","value":". For example, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Subtree"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Read timeout"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Pagination"}]},{"type":"text","value":": set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"On"}]},{"type":"text","value":" in case of large number of users."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Enter "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Synchronization settings"}]},{"type":"text","value":" fields"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Import users"}]},{"type":"text","value":": set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"On"}]},{"type":"text","value":". Keycloak will import users at after configuration terminated."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Batch size"}]},{"type":"text","value":": import "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"1000"}]},{"type":"text","value":" users per transaction."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Periodic full sync"}]},{"type":"text","value":": set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"On"}]},{"type":"text","value":". Execute a full synchronization from Active Directory to Keycloak."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Full sync period"}]},{"type":"text","value":": full synchronization every "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"86400"}]},{"type":"text","value":" seconds (24 hours)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Periodic changed users sync"}]},{"type":"text","value":": set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"On"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Changed users sync period"}]},{"type":"text","value":": synchronize changes in Active Directory to Keycloak every "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"14400"}]},{"type":"text","value":" seconds (4 hours)."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Enter "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Cache settings"}]},{"type":"text","value":" fields"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Cache policy"}]},{"type":"text","value":": MAX_LIFESPAN"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Max lifespan"}]},{"type":"text","value":": "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"3600"}]},{"type":"text","value":" milliseconds"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Enter "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Advanced settings"}]},{"type":"text","value":" fields"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Trust email"}]},{"type":"text","value":": set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"On"}]},{"type":"text","value":". Active Directory is considered as authoritative source for email and verification is not required."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Click "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Save"}]},{"type":"text","value":" button"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"ldap-over-ssl"},"children":[{"type":"text","value":"LDAP over SSL"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"[!warning] This configuration is not yet supported."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"user-federation-group-mapping"},"children":[{"type":"text","value":"User Federation group mapping"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once connected to the Keycloak Administration Console, do the following steps to map authorizations to Active Directory groups."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When you created the User Federation in the previous section, Keycloak created default mappers."}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"Mapper Name"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"Mapper Type"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"creation date"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"user-attribute-ldap-mapper"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"email"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"user-attribute-ldap-mapper"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"full name"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"full-name-ldap-mapper"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"groups"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"group-ldap-mapper"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"last name"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"user-attribute-ldap-mapper"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"modify date"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"user-attribute-ldap-mapper"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"MSAD account controls"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"msad-user-account-control-mapper"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"username"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"user-attribute-ldap-mapper"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You will now check the configuration to create a new mapper for the Active Directory groups."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Select the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Brainwave"}]},{"type":"text","value":" realm from the dropdown box."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Select "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"User Federation"}]},{"type":"text","value":" from the menu."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Click on the card with the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Console display name"}]},{"type":"text","value":" you have chosen in the previous section."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Add mapper"}]},{"type":"text","value":" button."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Enter the general mapper fields"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Name"}]},{"type":"text","value":": the mapper will be named "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"groups"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Mapper type"}]},{"type":"text","value":": the type to map LDAP group is "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"group-ldap-mapper"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":6},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Enter the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Group LDAP mapper"}]},{"type":"text","value":" fields"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"LDAP Groups DN"}]},{"type":"text","value":": distinguished name from which groups are searched for. See "},{"type":"element","tagName":"a","properties":{"href":"#user-federation-required-information"},"children":[{"type":"text","value":"gathered information"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Preserve Group Inheritance"}]},{"type":"text","value":": set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Off"}]},{"type":"text","value":". It is mandatory to disable this option if you have multiple parent groups for a group. This is often the case with nested groups."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"User Groups Retrieve Strategy"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"GET_GROUPS_FROM_USER_MEMBEROF_ATTRIBUTE"}]},{"type":"text","value":" option"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Drop non-existing groups during sync"}]},{"type":"text","value":": set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"On"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"synchronize-users-and-groups"},"children":[{"type":"text","value":"Synchronize Users and Groups"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once connected to the Keycloak Administration Console, do the following steps to synchronize Active Directory users and groups to Keycloak."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Select the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Brainwave"}]},{"type":"text","value":" realm from the dropdown box."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Select "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"User Federation"}]},{"type":"text","value":" from the menu."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Click on the card with the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Console display name"}]},{"type":"text","value":" you have chosen in the previous section."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"In the upper right dropdown list, select "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Sync changed users"}]},{"type":"text","value":" Action."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When you finished the configuration above, the full synchronization is executed and may take long time depending on number of users and groups to synchronize."},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Remove imported"}]},{"type":"text","value":" action with READ_ONLY edit mode (and with read-only service account) has no effect. Neither in Active Directory, neither in Keycloak. No users or groups are deleted from both sides even menu entry is enabled."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"roles-group-mapping"},"children":[{"type":"text","value":"Roles group mapping"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When the synchronization is finalized, you will be able to assign Identity analytics static built-ins roles (Keycloak "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Client Role"}]},{"type":"text","value":") to Active Directory groups."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"example"},"children":[{"type":"text","value":"Example"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When an Active Directory user is member of an Active Directory group (for instance "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"BW_USERS"}]},{"type":"text","value":"), the user will be granted to access ("},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"user"}]},{"type":"text","value":") the Governance Portal user interface."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once connected to the Keycloak Administration Console, do the following steps to assign a set of roles when an Active Directory user is member of an Active Directory group."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Select the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Brainwave"}]},{"type":"text","value":" realm from the dropdown box."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Select "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Groups"}]},{"type":"text","value":" from the menu."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Select the Active Directory group (ex. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"BW_USERS"}]},{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Role mapping"}]},{"type":"text","value":" tab."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Assign role"}]},{"type":"text","value":" button."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Filter by roles"}]},{"type":"text","value":" field and choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Filter by clients"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"In the field "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Search by role name"}]},{"type":"text","value":", enter "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"apisix"}]},{"type":"text","value":" to select Identity Analytics static built-in roles to assign."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Check the roles to assign (ex. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"user"}]},{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Then click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Assign"}]},{"type":"text","value":" button."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"azure-active-directory-identity-provider"},"children":[{"type":"text","value":"Azure Active Directory identity provider"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This feature is based on "},{"type":"element","tagName":"a","properties":{"href":"https://www.keycloak.org/docs/latest/server_admin/index.html#_identity_broker"},"children":[{"type":"text","value":"Identity Broker"}]},{"type":"text","value":" available in Keycloak."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In Keycloak, you can integrate with two main types of Identity Provider, depending on the security protocol supported by Identity Provider"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"SAML v2."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"OpenID Connect v1.0."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"openid-connect-protocol"},"children":[{"type":"text","value":"OpenID Connect protocol"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"oidc-prerequisites"},"children":[{"type":"text","value":"OIDC Prerequisites"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Ask your Azure Active Directory Administrator to create a new "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"App Registration"}]},{"type":"text","value":" with the following properties"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Redirect URI"}]},{"type":"text","value":": this is the address of Keycloak instance. This URI looks like "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"PROTOCOL"}]},{"type":"text","value":"://"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"DNS_SERVICE_NAME"}]},{"type":"text","value":"/auth/realms/brainwave/broker/"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ALIAS"}]},{"type":"text","value":"/endpoint where\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"PROTOCOL"}]},{"type":"text","value":" is http or https depending on your deployment configuration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"DNS_SERVICE_NAME"}]},{"type":"text","value":" is the DNS of the Identity analytics self-managed solution cluster"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ALIAS"}]},{"type":"text","value":" is the unique identifier set in Keycloak to this identity provider (remember it for later configuration). We suggest to provide a string that represents the Identity Provider without space or special characters. For instance, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw-aad-oidc"}]},{"type":"text","value":" for Identity Analytics Azure Active Directory using OpenID Connect."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Token configuration"}]},{"type":"text","value":": ask for optional groups claim with properties\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Add "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Security groups"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Add "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Group ID"}]},{"type":"text","value":" in Access Token."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Authorizations in Azure Active Directory are supposed to be assigned using security groups. So ask your Azure Active Directory Administrator to create new groups that will be mapped later against static built-in roles"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Technical Administrator"}]},{"type":"text","value":" group"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Functional Administrator"}]},{"type":"text","value":" group"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Standard User"}]},{"type":"text","value":" group"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Designer"}]},{"type":"text","value":" group"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Finally the group "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"claims"}]},{"type":"text","value":" should be configured in the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"token configuration"}]},{"type":"text","value":". If necessary add a group claims and customize the token properties to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Group ID"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"configure-identity-provider-with-openid-connect"},"children":[{"type":"text","value":"Configure Identity Provider with OpenID Connect"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When the administrator finalized the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"App Registration"}]},{"type":"text","value":" configuration and the groups creation in Azure Active Directory, gather the following information"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Application (Client) ID"}]},{"type":"text","value":" "},{"type":"element","tagName":"a","properties":{"id":"oidc-aad-client-id"},"children":[]}]},{"type":"element","tagName":"a","properties":{"id":"oidc-aad-client-id"},"children":[{"type":"text","value":"\n"}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"id":"oidc-aad-client-id"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Client Secret"}]},{"type":"text","value":" "}]},{"type":"element","tagName":"a","properties":{"id":"oidc-aad-client-secret"},"children":[]}]},{"type":"element","tagName":"a","properties":{"id":"oidc-aad-client-secret"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Group ID for each of Active Directory group"}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"id":"oidc-aad-client-secret"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"OpenID Connect Metadata Document"}]},{"type":"text","value":" "}]},{"type":"element","tagName":"a","properties":{"id":"oidc-aad-discovery-endpoint"},"children":[]}]},{"type":"element","tagName":"a","properties":{"id":"oidc-aad-discovery-endpoint"},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tagName":"a","properties":{"id":"oidc-aad-discovery-endpoint"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once connected to the Keycloak Administration Console, do the following steps to configure the Identity Provider, either using OpenID connect or SAML protocol."}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"element","tagName":"a","properties":{"id":"oidc-aad-discovery-endpoint"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Select the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Brainwave"}]},{"type":"text","value":" realm from the dropdown box."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Select "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Identity providers"}]},{"type":"text","value":" from the menu."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Add provider"}]},{"type":"text","value":" button and select "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"OpenID Connect v1.0"}]},{"type":"text","value":" option."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Fill in "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"General options"}]},{"type":"text","value":" section"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Alias"}]},{"type":"text","value":": this is the value you provided to your Azure Active Directory (see "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Redirect URI"}]},{"type":"text","value":")."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Display name"}]},{"type":"text","value":": Enter the display name that will be displayed on login user interface."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"id":"oidc-aad-discovery-endpoint"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Fill in "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"OpenID Connect settings"}]}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"element","tagName":"a","properties":{"id":"oidc-aad-discovery-endpoint"},"children":[{"type":"text","value":"\n"}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"id":"oidc-aad-discovery-endpoint"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Discovery endpoint"}]},{"type":"text","value":": this value was provided by your Azure Active Directory (see "}]},{"type":"element","tagName":"a","properties":{"href":"#oidc-aad-discovery-endpoint"},"children":[{"type":"text","value":"OpenID Connect Metadata Document"}]},{"type":"text","value":"). If the value is valid, you'll see a green checkbox at the end of the URL and the section "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Show metadata"}]},{"type":"text","value":" is filled with information downloaded from the Identity Provider."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Client authentication"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Client secret sent as post"}]},{"type":"text","value":" option."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Client ID"}]},{"type":"text","value":": this value was provided by your Azure Active Directory (see "},{"type":"element","tagName":"a","properties":{"href":"#oidc-aad-client-id"},"children":[{"type":"text","value":"Application (Client) ID"}]},{"type":"text","value":")."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Client Secret"}]},{"type":"text","value":": this value was provided by your Azure Active Directory (see "},{"type":"element","tagName":"a","properties":{"href":"#oidc-aad-client-secret"},"children":[{"type":"text","value":"Client Secret"}]},{"type":"text","value":")."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Add"}]},{"type":"text","value":" button"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Open "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Advanced"}]},{"type":"text","value":" section to change some parameters"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Pass current locale"}]},{"type":"text","value":": set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"On"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Backchannel logout"}]},{"type":"text","value":": set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"On"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Change following "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Advanced settings"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Trust Email"}]},{"type":"text","value":": set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"On"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Sync mode"}]},{"type":"text","value":": select "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Force"}]},{"type":"text","value":" option."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Save"}]},{"type":"text","value":" button"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Mappers"}]},{"type":"text","value":" tab"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Add mapper"}]},{"type":"text","value":" button. Create as many mappers as Azure Active Directory groups that match static built-in roles"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Map "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Technical Administrator"}]},{"type":"text","value":" group to the role "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"technicaladmin"}]},{"type":"text","value":". Fill in the mapper form fields"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Name"}]},{"type":"text","value":": "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Technical Administrator Group Mapper"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Sync mode override"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Force"}]},{"type":"text","value":" option to always update Keycloak during login"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Mapper type"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Claim to Role"}]},{"type":"text","value":" option"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Claim"}]},{"type":"text","value":": the claim that contains the Azure Active Directory groups is named "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"groups"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Claim Value"}]},{"type":"text","value":": this is the group ID of "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Technical Administrator"}]},{"type":"text","value":" group provided by your Azure Active Directory administrator"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Role"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Client role: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"apisix"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Name: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"technicaladmin"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Map "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Functional Administrator"}]},{"type":"text","value":" group to the role "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"functionaladmin"}]},{"type":"text","value":". Fill in the mapper form fields"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Name"}]},{"type":"text","value":": "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Functional Administrator Group Mapper"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Sync mode override"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Force"}]},{"type":"text","value":" option to always update Keycloak during login"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Mapper type"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Claim to Role"}]},{"type":"text","value":" option"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Claim"}]},{"type":"text","value":": the claim that contains the Azure Active Directory groups is named "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"groups"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Claim Value"}]},{"type":"text","value":": this is the group ID of "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Functional Administrator"}]},{"type":"text","value":" group provided by your Azure Active Directory administrator"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Role"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Client role: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"apisix"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Name: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"functionaladmin"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Map "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Standard User"}]},{"type":"text","value":" group to the role "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"user"}]},{"type":"text","value":". Fill in the mapper form fields"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Name"}]},{"type":"text","value":": "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Standard User Group Mapper"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Sync mode override"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Force"}]},{"type":"text","value":" option to always update Keycloak during login"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Mapper type"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Claim to Role"}]},{"type":"text","value":" option"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Claim"}]},{"type":"text","value":": the claim that contains the Azure Active Directory groups is named "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"groups"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Claim Value"}]},{"type":"text","value":": this is the group ID of "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Standard User"}]},{"type":"text","value":" group provided by your Azure Active Directory administrator"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Role"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Client role: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"apisix"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Name: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"user"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Map "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Designer"}]},{"type":"text","value":" group to the role "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"designer"}]},{"type":"text","value":". Fill in the mapper form fields"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Name"}]},{"type":"text","value":": "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Designer Group Mapper"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Sync mode override"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Force"}]},{"type":"text","value":" option to always update Keycloak during login"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Mapper type"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Claim to Role"}]},{"type":"text","value":" option"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Claim"}]},{"type":"text","value":": the claim that contains the Azure Active Directory groups is named "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"groups"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Claim Value"}]},{"type":"text","value":": this is the group ID of "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Designer"}]},{"type":"text","value":" group provided by your Azure Active Directory administrator"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Role"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Client role: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"apisix"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Name: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"designer"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"saml-v20-protocol"},"children":[{"type":"text","value":"SAML v2.0 protocol"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"prerequisites-1"},"children":[{"type":"text","value":"Prerequisites"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Ask your Azure Active Directory Administrator to create a new "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Enterprise Application"}]},{"type":"text","value":" for SAML v2 authentication with the following properties:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Entity ID"}]},{"type":"text","value":": "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<PROTOCOL>://<DNS_SERVICE_NAME>/auth/realms/brainwave"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Consumer Service URL (ACS)"}]},{"type":"text","value":": "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<PROTOCOL>://<DNS_SERVICE_NAME>/auth/realms/brainwave/broker/<ALIAS>/endpoint"}]},{"type":"text","value":" where\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<PROTOCOL>"}]},{"type":"text","value":" is http or https depending on your deployment configuration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<DNS_SERVICE_NAME>"}]},{"type":"text","value":" is the DNS of the Brainwave package cluster"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<ALIAS>"}]},{"type":"text","value":" is the unique identifier set in Keycloak to this identity provider (remember it for later configuration). We suggest to provide a string that represents the Identity Provider without space nor special characters. For instance, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw-aad-saml"}]},{"type":"text","value":" for Brainwave Azure Active Directory using SAML."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Claims"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"Claim name"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"Value"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Unique User Identifier (Name ID)"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"user.userprincipalname"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"name"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"user.userprincipalname"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenanme"},"children":[{"type":"text","value":"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenanme"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"user.givenname"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname"},"children":[{"type":"text","value":"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"user.surname"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name"},"children":[{"type":"text","value":"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"user.userprincaipalname"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"},"children":[{"type":"text","value":"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"user.mail"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://schemas.microsoft.com/ws/2008/06/identity/claims/groups"},"children":[{"type":"text","value":"http://schemas.microsoft.com/ws/2008/06/identity/claims/groups"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"user.groups [SecurityGroup]"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Authorizations in Azure Active Directory are supposed to be assigned using security groups. So ask your Azure Active Directory Administrator to create new groups that will be mapped later against static built-in roles."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Technical Administrator"}]},{"type":"text","value":" group."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Functional Administrator"}]},{"type":"text","value":" group."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Standard User"}]},{"type":"text","value":" group."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Designer"}]},{"type":"text","value":" group."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Finally the group "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"claims"}]},{"type":"text","value":" should be configured in the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"token configuration"}]},{"type":"text","value":". If necessary add a group claims and customize the token properties to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Group ID"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"saml-v2-configuration"},"children":[{"type":"text","value":"SAML v2 configuration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When the administrator finalized the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Enterprise Application"}]},{"type":"text","value":" configuration and the groups creation in Azure Active Directory, gather the following information"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"List of group IDs for each of Active Directory group."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"App Federation Metadata Url"}]},{"type":"text","value":" "},{"type":"element","tagName":"a","properties":{"id":"saml-aad-metadata-endpoint"},"children":[{"type":"text","value":"."}]}]},{"type":"element","tagName":"a","properties":{"id":"saml-aad-metadata-endpoint"},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tagName":"a","properties":{"id":"saml-aad-metadata-endpoint"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once connected to the Keycloak Administration Console, do the following steps to configure the Identity Provider, either using OpenID connect or SAML protocol."}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"element","tagName":"a","properties":{"id":"saml-aad-metadata-endpoint"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Select the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Brainwave"}]},{"type":"text","value":" realm from the dropdown box."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Select "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Identity providers"}]},{"type":"text","value":" from the menu."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Add provider"}]},{"type":"text","value":" button and select "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"SAML v2.0"}]},{"type":"text","value":" option."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Fill in "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"General options"}]},{"type":"text","value":" section"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Alias"}]},{"type":"text","value":": this is the value you provided to your Azure Active Directory (see "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Consumer Service URL (ACS)"}]},{"type":"text","value":")."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Display name"}]},{"type":"text","value":": enter the display name that will be displayed on login user interface."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"id":"saml-aad-metadata-endpoint"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Fill in "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"SAML Settings"}]},{"type":"text","value":" section"}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"element","tagName":"a","properties":{"id":"saml-aad-metadata-endpoint"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Service provider entity ID"}]},{"type":"text","value":": this is the value you provided to your Azure Active Directory (see "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Entity ID"}]},{"type":"text","value":")."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Use entity description"}]},{"type":"text","value":": set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"On"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"id":"saml-aad-metadata-endpoint"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"SAML entity descriptor"}]},{"type":"text","value":": enter the value provided by Azure Active Directory Administrator. See "}]},{"type":"element","tagName":"a","properties":{"href":"#saml-aad-metadata-endpoint"},"children":[{"type":"text","value":"App Federation Metadata Url"}]},{"type":"text","value":". If the value is valid, you'll see a green checkbox at the end of the URL and the section "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Show metadata"}]},{"type":"text","value":" is filled with information downloaded from the Identity Provider."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Add"}]},{"type":"text","value":" button."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Change following "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"SAML settings"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Backchannel logout"}]},{"type":"text","value":": set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"On"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"NameID policy format"}]},{"type":"text","value":": select "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Unspecified"}]},{"type":"text","value":" option."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Allow create"}]},{"type":"text","value":": set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"On"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"HTTP-POST binding response"}]},{"type":"text","value":": set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"On"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"HTTP-POST binding for AuthnRequest"}]},{"type":"text","value":": set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"On"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Signature algorithm"}]},{"type":"text","value":": select "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"RSA_SHA256"}]},{"type":"text","value":" option."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"SAML signature key name"}]},{"type":"text","value":": select "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"CERT_SUBJECT"}]},{"type":"text","value":" option."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"HTTP-POST binding logout"}]},{"type":"text","value":": set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"On"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Want AuthnRequests signed"}]},{"type":"text","value":": set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"On"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Want Assertions signed"}]},{"type":"text","value":": set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"On"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Change following "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Advanced settings"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Trust Email"}]},{"type":"text","value":": set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"On"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Sync mode"}]},{"type":"text","value":": select "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Force"}]},{"type":"text","value":" option."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Save"}]},{"type":"text","value":" button."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Add mapper"}]},{"type":"text","value":" button. Create as many mappers as Azure Active Directory groups that match static built-in roles"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Map "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Technical Administrator"}]},{"type":"text","value":" group to the role "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"technicaladmin"}]},{"type":"text","value":". Fill in the mapper form fields"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Name"}]},{"type":"text","value":": "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Technical Administrator Group Mapper"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Sync mode override"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Force"}]},{"type":"text","value":" option to always update Keycloak during login"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Mapper type"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"SAML Attribute to Role"}]},{"type":"text","value":" option"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Attribute Name"}]},{"type":"text","value":": the claim that contains the Azure Active Directory groups is named "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"http://schemas.microsoft.com/ws/2008/06/identity/claims/groups"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Attribute Value"}]},{"type":"text","value":": this is the group ID of "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Technical Administrator"}]},{"type":"text","value":" group provided by your Azure Active Directory administrator"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Role"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Client role: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"apisix"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Name: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"technicaladmin"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Map "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Functional Administrator"}]},{"type":"text","value":" group to the role "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"functionaladmin"}]},{"type":"text","value":". Fill in the mapper form fields"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Name"}]},{"type":"text","value":": "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Functional Administrator Group Mapper"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Sync mode override"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Force"}]},{"type":"text","value":" option to always update Keycloak during login"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Mapper type"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Claim to Role"}]},{"type":"text","value":" option"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Attribute Name"}]},{"type":"text","value":": the claim that contains the Azure Active Directory groups is named "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"http://schemas.microsoft.com/ws/2008/06/identity/claims/groups"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Attribute Value"}]},{"type":"text","value":": this is the group ID of "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Functional Administrator"}]},{"type":"text","value":" group provided by your Azure Active Directory administrator"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Role"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Client role: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"apisix"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Name: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"functionaladmin"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Map "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Standard User"}]},{"type":"text","value":" group to the role "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"user"}]},{"type":"text","value":". Fill in the mapper form fields"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Name"}]},{"type":"text","value":": "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Standard User Group Mapper"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Sync mode override"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Force"}]},{"type":"text","value":" option to always update Keycloak during login"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Mapper type"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Claim to Role"}]},{"type":"text","value":" option"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Attribute Name"}]},{"type":"text","value":": the claim that contains the Azure Active Directory groups is named "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"http://schemas.microsoft.com/ws/2008/06/identity/claims/groups"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Attribute Value"}]},{"type":"text","value":": this is the group ID of "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Standard User"}]},{"type":"text","value":" group provided by your Azure Active Directory administrator"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Role"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Client role: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"apisix"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Name: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"user"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Map "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Designer"}]},{"type":"text","value":" group to the role "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"designer"}]},{"type":"text","value":". Fill in the mapper form fields"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Name"}]},{"type":"text","value":": "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Designer Group Mapper"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Sync mode override"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Force"}]},{"type":"text","value":" option to always update Keycloak during login"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Mapper type"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Claim to Role"}]},{"type":"text","value":" option"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Attribute Name"}]},{"type":"text","value":": the claim that contains the Azure Active Directory groups is named "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"http://schemas.microsoft.com/ws/2008/06/identity/claims/groups"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Attribute Value"}]},{"type":"text","value":": this is the group ID of "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Designer"}]},{"type":"text","value":" group provided by your Azure Active Directory administrator"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Role"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Client role: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"apisix"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Name: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"designer"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Add mapper"}]},{"type":"text","value":" button. Create mappers for last name, first name and email from Azure Active Directory to Keycloak user attributes"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Map "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"givenname"}]},{"type":"text","value":" SAML Attribute to the Keycloak user attribute. Fill in the mapper form fields"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Name"}]},{"type":"text","value":": "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"First name Attribute Mapper"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Sync mode override"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Force"}]},{"type":"text","value":" option to always update Keycloak during login"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Mapper type"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Attribute Importer"}]},{"type":"text","value":" option"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Attribute Name"}]},{"type":"text","value":": enter the claim name you supplied to your Azure Active Directory administrator (like "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname"}]},{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Name Format"}]},{"type":"text","value":": select "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ATTRIBUTE_FORMAT_URI"}]},{"type":"text","value":" option"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"User Attribute Name"}]},{"type":"text","value":": firstName"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Map "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"surname"}]},{"type":"text","value":" SAML Attribute to the Keycloak user attribute. Fill in the mapper form fields"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Name"}]},{"type":"text","value":": "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Last name Attribute Mapper"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Sync mode override"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Force"}]},{"type":"text","value":" option to always update Keycloak during login"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Mapper type"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Attribute Importer"}]},{"type":"text","value":" option"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Attribute Name"}]},{"type":"text","value":": enter the claim name you supplied to your Azure Active Directory administrator (like "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname"}]},{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Name Format"}]},{"type":"text","value":": select "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ATTRIBUTE_FORMAT_URI"}]},{"type":"text","value":" option"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"User Attribute Name"}]},{"type":"text","value":": lastName"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Map "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"emailaddress"}]},{"type":"text","value":" SAML Attribute to the Keycloak user attribute. Fill in the mapper form fields"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Name"}]},{"type":"text","value":": "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Email Attribute Mapper"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Sync mode override"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Force"}]},{"type":"text","value":" option to always update Keycloak during login"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Mapper type"}]},{"type":"text","value":": choose "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Attribute Importer"}]},{"type":"text","value":" option"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Attribute Name"}]},{"type":"text","value":": enter the claim name you supplied to your Azure Active Directory administrator (like "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"}]},{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Name Format"}]},{"type":"text","value":": select "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ATTRIBUTE_FORMAT_URI"}]},{"type":"text","value":" option"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"User Attribute Name"}]},{"type":"text","value":": email"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"troubleshooting"},"children":[{"type":"text","value":"Troubleshooting"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the user has \"access denied\" message after successful IdP login, check the Keycloak user whether it has been granted the appropriate role. If not, verify:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Keycloak Identity Provider "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Mappers"}]},{"type":"text","value":" configuration\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Do you define one mapper per role?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Is the Azure Group ID valid?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Does the AAD user member of the expected group?"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Azure Active Directory claims definition with your Administrator\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Does the group claim correctly defined?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Does the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Token Configuration"}]},{"type":"text","value":" in AAD "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"App registration"}]},{"type":"text","value":" contain the optional group claim named "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"groups"}]},{"type":"text","value":"?"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"fileAbsolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/ia/version-1.2/documentation/configuration/authentication-configuration.md","frontmatter":{"title":"Authentication and authorization configuration"},"headings":[{"id":"authentication-and-authorization-configuration","value":"Authentication and authorization configuration","depth":1},{"id":"supported-identity-providers","value":"Supported Identity Providers","depth":2},{"id":"static-built-in-roles","value":"Static built-in roles","depth":2},{"id":"keycloak-administration-console","value":"Keycloak Administration Console","depth":2},{"id":"self-service-user-administration","value":"Self-service user administration","depth":2},{"id":"local-directory-configuration","value":"Local Directory configuration","depth":2},{"id":"active-directory-user-federation","value":"Active Directory user federation","depth":2},{"id":"prerequisites","value":"Prerequisites","depth":3},{"id":"user-federation-required-information","value":"User Federation required information","depth":3},{"id":"user-federation-authentication","value":"User Federation authentication","depth":3},{"id":"ldap-over-ssl","value":"LDAP over SSL","depth":3},{"id":"user-federation-group-mapping","value":"User Federation group mapping","depth":3},{"id":"synchronize-users-and-groups","value":"Synchronize Users and Groups","depth":3},{"id":"roles-group-mapping","value":"Roles group mapping","depth":3},{"id":"example","value":"Example","depth":4},{"id":"azure-active-directory-identity-provider","value":"Azure Active Directory identity provider","depth":2},{"id":"openid-connect-protocol","value":"OpenID Connect protocol","depth":3},{"id":"oidc-prerequisites","value":"OIDC Prerequisites","depth":4},{"id":"configure-identity-provider-with-openid-connect","value":"Configure Identity Provider with OpenID Connect","depth":4},{"id":"saml-v20-protocol","value":"SAML v2.0 protocol","depth":3},{"id":"prerequisites-1","value":"Prerequisites","depth":4},{"id":"saml-v2-configuration","value":"SAML v2 configuration","depth":4},{"id":"troubleshooting","value":"Troubleshooting","depth":3}]},"toc":{"html":"<ul>\n<li><a href=\"config-ui.md\">Configuration UI</a></li>\n<li><a href=\"ssl-configuration.md\">SSL configuration</a></li>\n<li><a href=\"authentication-configuration.md\">Authentication Configuration</a></li>\n<li><a href=\"powershell-extraction.md\">Powershell extraction configuration</a></li>\n</ul>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"config-ui.md"},"children":[{"type":"text","value":"Configuration UI"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"ssl-configuration.md"},"children":[{"type":"text","value":"SSL configuration"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"authentication-configuration.md"},"children":[{"type":"text","value":"Authentication Configuration"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"powershell-extraction.md"},"children":[{"type":"text","value":"Powershell extraction configuration"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"fileAbsolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/ia/version-1.2/documentation/configuration/TOC.md","frontmatter":{"title":"Configuration"}}},"pageContext":{"urlPrefix":"ia/version-1.2","absolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/ia/version-1.2/documentation/configuration/authentication-configuration.md","tocRegex":"/(ia/)(version-1.2/)?(documentation/)?(configuration/)?(authentication-configuration.md/)?(TOC.md)/ig","versions":[{"name":"version-1.5","displayName":"v1.5"},{"name":"version-1.4","displayName":"v1.4"},{"name":"version-1.2","displayName":"v1.2"}],"currentRepo":{"name":"ia","displayName":"Identity Analytics","description":"This guide provides a high-level overview of Identity Analytics. This documentation includes the user guides, integration guides for Identity Analytics along with the different modules included.","links":[{"text":"SEE SELF-MANAGED GUIDES","href":"/ia/version-1.4/#2"}],"remote":"https://github.com/radiantlogic-v8/documentation-ia-selfmanaged.git","patterns":["home-pages/**","documentation/**"],"deployBranches":[{"name":"version-1.5","displayName":"v1.5"},{"name":"version-1.4","displayName":"v1.4"},{"name":"version-1.2","displayName":"v1.2"}]},"currentRepoWebLink":"https://github.com/radiantlogic-v8/documentation-ia-selfmanaged","currentVersion":{"name":"version-1.2","displayName":"v1.2"},"title":"Authentication and authorization configuration","description":"Authentication and authorization configuration","tocForCurrentSection":{"textElement":"Configuration","href":null,"children":[{"textElement":"Authentication configuration","href":"configuration/authentication-configuration","children":[]},{"textElement":"Config ui","href":"configuration/config-ui","children":[]},{"textElement":"Hidden","href":null,"children":[{"textElement":"Braiwavefile","href":"configuration/hidden/braiwavefile","children":[]}]},{"textElement":"Powershell extraction","href":"configuration/powershell-extraction","children":[]},{"textElement":"Ssl configuration","href":"configuration/ssl-configuration","children":[]},{"textElement":"T O C","href":"configuration/TOC","children":[]}]}}},"staticQueryHashes":["63159454"],"slicesMap":{"footer":"footer","header":"header"}}