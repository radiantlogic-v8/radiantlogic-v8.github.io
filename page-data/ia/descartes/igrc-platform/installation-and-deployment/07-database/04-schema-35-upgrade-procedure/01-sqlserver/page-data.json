{"componentChunkName":"component---src-templates-base-page-js","path":"/ia/descartes/igrc-platform/installation-and-deployment/07-database/04-schema-35-upgrade-procedure/01-sqlserver/","result":{"data":{"pageContent":{"html":"<h1 id=\"sql-server\">SQL server</h1>\n<h2 id=\"pre-requisites\">Pre-requisites</h2>\n<p>Before attempting any upgrade of the database please go through all steps detailed in the page below.</p>\n<p><a href=\"./index\"><strong>Release notes</strong></a></p>\n<p>In addition if executing the sql requests directly in powershell is necessary to install the SqlServer powershell module. This is done by running the following command in a powershell window using administrative privileges:</p>\n\n          <codeblockcopytag>Install-Module -Name SqlServer</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\"><span class=\"token function\">Install-Module</span> <span class=\"token operator\">-</span>Name SqlServer</code></pre></div>\n<p>Please refer to the following documentation for more information:<br>\n<a href=\"https://docs.microsoft.com/en-us/sql/powershell/download-sql-server-ps-module?view=sql-server-ver15\">https://docs.microsoft.com/en-us/sql/powershell/download-sql-server-ps-module?view=sql-server-ver15</a></p>\n<h3 id=\"user-rights\">User rights</h3>\n<blockquote>\n<p>If the <code class=\"language-text\">&lt;LOGIN></code> is the owner of the <code class=\"language-text\">&lt;SCHEMA></code> to upgrade, this step should not be necessary.</p>\n</blockquote>\n<p>The upgrade script requires the execution of stored procedures. To determine if the account get this right, you can execute the below command.</p>\n\n          <codeblockcopytag>EXECUTE AS USER = '&lt;LOGIN&gt;';\n\nUSE &quot;&lt;DATABASE&gt;&quot;;\n\nSELECT * FROM fn_builtin_permissions(DEFAULT)\n  WHERE permission_name = 'EXECUTE' AND class_desc = 'SCHEMA'\n\nGO</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">EXECUTE</span> <span class=\"token keyword\">AS</span> <span class=\"token keyword\">USER</span> <span class=\"token operator\">=</span> <span class=\"token string\">'&lt;LOGIN>'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">USE</span> <span class=\"token string\">\"&lt;DATABASE>\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> fn_builtin_permissions<span class=\"token punctuation\">(</span><span class=\"token keyword\">DEFAULT</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">WHERE</span> permission_name <span class=\"token operator\">=</span> <span class=\"token string\">'EXECUTE'</span> <span class=\"token operator\">AND</span> class_desc <span class=\"token operator\">=</span> <span class=\"token string\">'SCHEMA'</span>\n\nGO</code></pre></div>\n<p>If the above command returns no result, use the following command to grant the right to execute stored procedures to the user.</p>\n\n          <codeblockcopytag>GRANT EXECUTE ON SCHEMA :: &quot;&lt;SCHEMA&gt;&quot; TO &quot;&lt;LOGIN&gt;&quot; ;</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">GRANT</span> <span class=\"token keyword\">EXECUTE</span> <span class=\"token keyword\">ON</span> <span class=\"token keyword\">SCHEMA</span> :: <span class=\"token string\">\"&lt;SCHEMA>\"</span> <span class=\"token keyword\">TO</span> <span class=\"token string\">\"&lt;LOGIN>\"</span> <span class=\"token punctuation\">;</span></code></pre></div>\n<p>Where:</p>\n<ul>\n<li><code class=\"language-text\">&lt;SCHEMA></code> corresponds to the schema containing the tables</li>\n<li><code class=\"language-text\">&lt;LOGIN></code> corresponds to the login of the user performing the upgrade</li>\n<li><code class=\"language-text\">&lt;DATABASE></code> corresponds to the database to upgrade</li>\n</ul>\n<blockquote>\n<p>At the end of the migration, do not forget to remove the previous granted right to the account.</p>\n</blockquote>\n\n          <codeblockcopytag>DENY EXECUTE ON SCHEMA :: &quot;&lt;SCHEMA&gt;&quot; TO &quot;&lt;LOGIN&gt;&quot; ;</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">DENY</span> <span class=\"token keyword\">EXECUTE</span> <span class=\"token keyword\">ON</span> <span class=\"token keyword\">SCHEMA</span> :: <span class=\"token string\">\"&lt;SCHEMA>\"</span> <span class=\"token keyword\">TO</span> <span class=\"token string\">\"&lt;LOGIN>\"</span> <span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"procedure\">Procedure</h2>\n<h3 id=\"determining-script\">Determining script</h3>\n<p>To determine the script to execute in order to update the database schema, please execute the following sql request.</p>\n\n          <codeblockcopytag>IF ( SELECT top 1 cpropertiesuid FROM tproperties WHERE cpropertiesuid = 'SQLSERVER_MULTILINGUAL') is not null\nBEGIN\n-- PRINT 'Multilingual'\n  SELECT cvalue AS &quot;Curent Schema version&quot;,\n    CASE \n      WHEN (cvalue = '35') THEN 'Schema version up to date - Multilingual version' \n      WHEN (cvalue = '32') THEN 'mssql_BrailleR1_to_Curie.sql'\n      WHEN (cvalue = '31') THEN 'mssql_AderR1_to_Curie.sql'\n      WHEN (cvalue = '30') THEN 'mssql_2017R3_to_Curie.sql'\n      WHEN (cvalue = '29') THEN 'mssql_2017R2_to_Curie.sql'\n      ELSE 'Schema version not recognised. Please contact the support service' \n    END AS &quot;Script to execute&quot;\n  FROM     \n    tproperties\n  WHERE\n    cpropertiesuid='VERSION'\nEND\nELSE\nBEGIN\n-- PRINT 'Monolingual'\n  SELECT cvalue AS &quot;Curent Schema version&quot;,\n    CASE \n      WHEN (cvalue = '35') THEN 'Schema version up to date - Monolingual version' \n      WHEN (cvalue = '32') THEN 'mssql_noml_BrailleR1_to_Curie.sql'\n      WHEN (cvalue = '31') THEN 'mssql_noml_AderR1_to_Curie.sql'\n      WHEN (cvalue = '30') THEN 'mssql_noml_2017R3_to_Curie.sql'\n      WHEN (cvalue = '29') THEN 'mssql_noml_2017R2_to_Curie.sql'\n      ELSE 'Schema version not recognised. Please contact the support service' \n    END AS &quot;Script to execute&quot;\n  FROM     \n    tproperties\n  WHERE\n    cpropertiesuid='VERSION'\nEND</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">IF</span> <span class=\"token punctuation\">(</span> <span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">top</span> <span class=\"token number\">1</span> cpropertiesuid <span class=\"token keyword\">FROM</span> tproperties <span class=\"token keyword\">WHERE</span> cpropertiesuid <span class=\"token operator\">=</span> <span class=\"token string\">'SQLSERVER_MULTILINGUAL'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">is</span> <span class=\"token operator\">not</span> <span class=\"token boolean\">null</span>\n<span class=\"token keyword\">BEGIN</span>\n<span class=\"token comment\">-- PRINT 'Multilingual'</span>\n  <span class=\"token keyword\">SELECT</span> cvalue <span class=\"token keyword\">AS</span> <span class=\"token string\">\"Curent Schema version\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">CASE</span> \n      <span class=\"token keyword\">WHEN</span> <span class=\"token punctuation\">(</span>cvalue <span class=\"token operator\">=</span> <span class=\"token string\">'35'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">THEN</span> <span class=\"token string\">'Schema version up to date - Multilingual version'</span> \n      <span class=\"token keyword\">WHEN</span> <span class=\"token punctuation\">(</span>cvalue <span class=\"token operator\">=</span> <span class=\"token string\">'32'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">THEN</span> <span class=\"token string\">'mssql_BrailleR1_to_Curie.sql'</span>\n      <span class=\"token keyword\">WHEN</span> <span class=\"token punctuation\">(</span>cvalue <span class=\"token operator\">=</span> <span class=\"token string\">'31'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">THEN</span> <span class=\"token string\">'mssql_AderR1_to_Curie.sql'</span>\n      <span class=\"token keyword\">WHEN</span> <span class=\"token punctuation\">(</span>cvalue <span class=\"token operator\">=</span> <span class=\"token string\">'30'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">THEN</span> <span class=\"token string\">'mssql_2017R3_to_Curie.sql'</span>\n      <span class=\"token keyword\">WHEN</span> <span class=\"token punctuation\">(</span>cvalue <span class=\"token operator\">=</span> <span class=\"token string\">'29'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">THEN</span> <span class=\"token string\">'mssql_2017R2_to_Curie.sql'</span>\n      <span class=\"token keyword\">ELSE</span> <span class=\"token string\">'Schema version not recognised. Please contact the support service'</span> \n    <span class=\"token keyword\">END</span> <span class=\"token keyword\">AS</span> <span class=\"token string\">\"Script to execute\"</span>\n  <span class=\"token keyword\">FROM</span>     \n    tproperties\n  <span class=\"token keyword\">WHERE</span>\n    cpropertiesuid<span class=\"token operator\">=</span><span class=\"token string\">'VERSION'</span>\n<span class=\"token keyword\">END</span>\n<span class=\"token keyword\">ELSE</span>\n<span class=\"token keyword\">BEGIN</span>\n<span class=\"token comment\">-- PRINT 'Monolingual'</span>\n  <span class=\"token keyword\">SELECT</span> cvalue <span class=\"token keyword\">AS</span> <span class=\"token string\">\"Curent Schema version\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">CASE</span> \n      <span class=\"token keyword\">WHEN</span> <span class=\"token punctuation\">(</span>cvalue <span class=\"token operator\">=</span> <span class=\"token string\">'35'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">THEN</span> <span class=\"token string\">'Schema version up to date - Monolingual version'</span> \n      <span class=\"token keyword\">WHEN</span> <span class=\"token punctuation\">(</span>cvalue <span class=\"token operator\">=</span> <span class=\"token string\">'32'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">THEN</span> <span class=\"token string\">'mssql_noml_BrailleR1_to_Curie.sql'</span>\n      <span class=\"token keyword\">WHEN</span> <span class=\"token punctuation\">(</span>cvalue <span class=\"token operator\">=</span> <span class=\"token string\">'31'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">THEN</span> <span class=\"token string\">'mssql_noml_AderR1_to_Curie.sql'</span>\n      <span class=\"token keyword\">WHEN</span> <span class=\"token punctuation\">(</span>cvalue <span class=\"token operator\">=</span> <span class=\"token string\">'30'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">THEN</span> <span class=\"token string\">'mssql_noml_2017R3_to_Curie.sql'</span>\n      <span class=\"token keyword\">WHEN</span> <span class=\"token punctuation\">(</span>cvalue <span class=\"token operator\">=</span> <span class=\"token string\">'29'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">THEN</span> <span class=\"token string\">'mssql_noml_2017R2_to_Curie.sql'</span>\n      <span class=\"token keyword\">ELSE</span> <span class=\"token string\">'Schema version not recognised. Please contact the support service'</span> \n    <span class=\"token keyword\">END</span> <span class=\"token keyword\">AS</span> <span class=\"token string\">\"Script to execute\"</span>\n  <span class=\"token keyword\">FROM</span>     \n    tproperties\n  <span class=\"token keyword\">WHERE</span>\n    cpropertiesuid<span class=\"token operator\">=</span><span class=\"token string\">'VERSION'</span>\n<span class=\"token keyword\">END</span></code></pre></div>\n<h4 id=\"powershell-execution\">Powershell execution</h4>\n<p>It is possible to execute directly the SQL request within a Powershell commandlet. The following commands can be used to hide the user's password</p>\n\n          <codeblockcopytag>\\$key=Read-Host -AsSecureString\nInvoke-Sqlcmd -Query &quot;&lt;query&gt;&quot; -ServerInstance &quot;&lt;ServerInstance&gt;&quot; -Database &quot;&lt;Database&gt;&quot; -Username &quot;&lt;USER&gt;&quot; -Password \\$key</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\"><span class=\"token variable\">$key</span>=<span class=\"token function\">Read-Host</span> <span class=\"token operator\">-</span>AsSecureString\n<span class=\"token function\">Invoke-Sqlcmd</span> <span class=\"token operator\">-</span>Query <span class=\"token string\">\"&lt;query>\"</span> <span class=\"token operator\">-</span>ServerInstance <span class=\"token string\">\"&lt;ServerInstance>\"</span> <span class=\"token operator\">-</span>Database <span class=\"token string\">\"&lt;Database>\"</span> <span class=\"token operator\">-</span>Username <span class=\"token string\">\"&lt;USER>\"</span> <span class=\"token operator\">-</span>Password <span class=\"token variable\">$key</span></code></pre></div>\n<h4 id=\"sql-server-management-studio-execution\">SQL server management studio execution</h4>\n<p>When executing the previous command in SQL server management studio please insure that the correct database and login is used.</p>\n<p>This is done by adding:</p>\n\n          <codeblockcopytag>USE &quot;&lt;database&gt;&quot;\nEXECUTE AS LOGIN='&lt;USER&gt;'</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">USE</span> <span class=\"token string\">\"&lt;database>\"</span>\n<span class=\"token keyword\">EXECUTE</span> <span class=\"token keyword\">AS</span> LOGIN<span class=\"token operator\">=</span><span class=\"token string\">'&lt;USER>'</span></code></pre></div>\n<p>Where <code class=\"language-text\">&lt;DATABASE></code> is the database and <code class=\"language-text\">&lt;USER></code> is the user with which to execute the request.</p>\n<h3 id=\"download-the-script\">Download the Script</h3>\n<p>Depending on the version of the script displayed after the previous SQL request, please download the correct script from the following list:</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">Script</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\"><a href=\"../sqlscripts/mssql_2017R2_to_Curie.sql\">mssql_2017R2_to_Curie.sql</a></td>\n</tr>\n<tr>\n<td align=\"center\"><a href=\"../sqlscripts/mssql_2017R3_to_Curie.sql\">mssql_2017R3_to_Curie.sql</a></td>\n</tr>\n<tr>\n<td align=\"center\"><a href=\"../sqlscripts/mssql_AderR1_to_Curie.sql\">mssql_AderR1_to_Curie.sql</a></td>\n</tr>\n<tr>\n<td align=\"center\"><a href=\"../sqlscripts/mssql_BrailleR1_to_Curie.sql\">mssql_BrailleR1_to_Curie.sql</a></td>\n</tr>\n<tr>\n<td align=\"center\"><a href=\"../sqlscripts/mssql_noml_2017R2_to_Curie.sql\">mssql_noml_2017R2_to_Curie.sql</a></td>\n</tr>\n<tr>\n<td align=\"center\"><a href=\"../sqlscripts/mssql_noml_2017R3_to_Curie.sql\">mssql_noml_2017R3_to_Curie.sql</a></td>\n</tr>\n<tr>\n<td align=\"center\"><a href=\"../sqlscripts/mssql_noml_AderR1_to_Curie.sql\">mssql_noml_AderR1_to_Curie.sql</a></td>\n</tr>\n<tr>\n<td align=\"center\"><a href=\"../sqlscripts/mssql_noml_BrailleR1_to_Curie.sql\">mssql_noml_BrailleR1_to_Curie.sql</a></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"execute-the-script\">Execute the script</h3>\n<p>Once the correct script to execute identified</p>\n<h4 id=\"powershell\">Powershell</h4>\n\n          <codeblockcopytag>\\$key=Read-Host -AsSecureString\nInvoke-Sqlcmd -InputFile &quot;&lt;FullPathToUpgradeScript&gt;&quot; -ServerInstance &quot;&lt;ServerInstance&gt;&quot; -Database &quot;&lt;Database&gt;&quot; -Username &quot;&lt;USER&gt;&quot; -Password \\$key</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\"><span class=\"token variable\">$key</span>=<span class=\"token function\">Read-Host</span> <span class=\"token operator\">-</span>AsSecureString\n<span class=\"token function\">Invoke-Sqlcmd</span> <span class=\"token operator\">-</span>InputFile <span class=\"token string\">\"&lt;FullPathToUpgradeScript>\"</span> <span class=\"token operator\">-</span>ServerInstance <span class=\"token string\">\"&lt;ServerInstance>\"</span> <span class=\"token operator\">-</span>Database <span class=\"token string\">\"&lt;Database>\"</span> <span class=\"token operator\">-</span>Username <span class=\"token string\">\"&lt;USER>\"</span> <span class=\"token operator\">-</span>Password <span class=\"token variable\">$key</span></code></pre></div>\n<h4 id=\"sql-server-management-studio\">SQL server management studio</h4>\n<p>When executing the desired opened script in SQL server management studio please ensure that the correct database and login are used.</p>\n<p>This is done by uncommenting the following block in the script:</p>\n\n          <codeblockcopytag>USE &quot;&lt;database&gt;&quot;\nEXECUTE AS LOGIN='&lt;USER&gt;'</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">USE</span> <span class=\"token string\">\"&lt;database>\"</span>\n<span class=\"token keyword\">EXECUTE</span> <span class=\"token keyword\">AS</span> LOGIN<span class=\"token operator\">=</span><span class=\"token string\">'&lt;USER>'</span></code></pre></div>\n<p>Where <code class=\"language-text\">&lt;DATABASE></code> is the database and <code class=\"language-text\">&lt;USER></code> is the user with which to execute the request.</p>\n<h2 id=\"after-curie-r1-upgrade\">After CURIE R1 upgrade</h2>\n<h3 id=\"checking\">Checking</h3>\n<p>To ensure the CURIE R1 upgrade script has been executed successfully, two below SQL requests can be launched on the database.</p>\n<blockquote>\n<p>Both requests must be executed with <strong>sysadmin</strong> rights on the Brainwave Ledger database.</p>\n</blockquote>\n<ul>\n<li>Check if all needed columns has been moved from <strong>INT</strong> to <strong>BIGINT</strong> type</li>\n</ul>\n\n          <codeblockcopytag>SELECT (T.name) AS Table_Name, schema_name(t.schema_id), C.name AS Column_Name, c.is_nullable\nFROM   sys.objects AS T \n  JOIN sys.columns AS C ON T.object_id = C.object_id\n  JOIN sys.types AS P ON C.system_type_id = P.system_type_id\nWHERE\n  T.type_desc = 'USER_TABLE'\n  AND P.name = 'int'\n  AND (C.name = 'crecorduid' \n    OR C.name like '%fk' \n    OR C.name in ('cforeignrecorduid','cobjectrecorduid','cobjectuid','coptionuid','crequestid','cworkrecuid')\n  );</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token punctuation\">(</span>T<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> Table_Name<span class=\"token punctuation\">,</span> schema_name<span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">.</span>schema_id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> C<span class=\"token punctuation\">.</span>name <span class=\"token keyword\">AS</span> Column_Name<span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">.</span>is_nullable\n<span class=\"token keyword\">FROM</span>   sys<span class=\"token punctuation\">.</span>objects <span class=\"token keyword\">AS</span> T \n  <span class=\"token keyword\">JOIN</span> sys<span class=\"token punctuation\">.</span><span class=\"token keyword\">columns</span> <span class=\"token keyword\">AS</span> C <span class=\"token keyword\">ON</span> T<span class=\"token punctuation\">.</span>object_id <span class=\"token operator\">=</span> C<span class=\"token punctuation\">.</span>object_id\n  <span class=\"token keyword\">JOIN</span> sys<span class=\"token punctuation\">.</span><span class=\"token keyword\">types</span> <span class=\"token keyword\">AS</span> P <span class=\"token keyword\">ON</span> C<span class=\"token punctuation\">.</span>system_type_id <span class=\"token operator\">=</span> P<span class=\"token punctuation\">.</span>system_type_id\n<span class=\"token keyword\">WHERE</span>\n  T<span class=\"token punctuation\">.</span>type_desc <span class=\"token operator\">=</span> <span class=\"token string\">'USER_TABLE'</span>\n  <span class=\"token operator\">AND</span> P<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'int'</span>\n  <span class=\"token operator\">AND</span> <span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'crecorduid'</span> \n    <span class=\"token operator\">OR</span> C<span class=\"token punctuation\">.</span>name <span class=\"token operator\">like</span> <span class=\"token string\">'%fk'</span> \n    <span class=\"token operator\">OR</span> C<span class=\"token punctuation\">.</span>name <span class=\"token operator\">in</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'cforeignrecorduid'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'cobjectrecorduid'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'cobjectuid'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'coptionuid'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'crequestid'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'cworkrecuid'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>This request should return <strong>0</strong> result if the CURIE R1 upgrade successfully worked.</p>\n<ul>\n<li>Check the global number of indexes</li>\n</ul>\n\n          <codeblockcopytag>SELECT \n     count(ind.name) nb_index\nFROM \n     sys.indexes ind \nINNER JOIN \n     sys.tables t ON ind.object_id = t.object_id</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> \n     <span class=\"token function\">count</span><span class=\"token punctuation\">(</span>ind<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span> nb_index\n<span class=\"token keyword\">FROM</span> \n     sys<span class=\"token punctuation\">.</span>indexes ind \n<span class=\"token keyword\">INNER</span> <span class=\"token keyword\">JOIN</span> \n     sys<span class=\"token punctuation\">.</span><span class=\"token keyword\">tables</span> t <span class=\"token keyword\">ON</span> ind<span class=\"token punctuation\">.</span>object_id <span class=\"token operator\">=</span> t<span class=\"token punctuation\">.</span>object_id</code></pre></div>\n<p>This request should return <strong>1192</strong> if the CURIE R1 upgrade successfully worked and if there are no project/custom indexes.</p>\n<ul>\n<li>Check the number of indexes per table</li>\n</ul>\n\n          <codeblockcopytag>SELECT \n     count(ind.name) nb_index,t.name\nFROM \n     sys.indexes ind \nINNER JOIN \n     sys.tables t ON ind.object_id = t.object_id\nGROUP BY \n     t.name\nORDER BY t.name ASC;</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> \n     <span class=\"token function\">count</span><span class=\"token punctuation\">(</span>ind<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span> nb_index<span class=\"token punctuation\">,</span>t<span class=\"token punctuation\">.</span>name\n<span class=\"token keyword\">FROM</span> \n     sys<span class=\"token punctuation\">.</span>indexes ind \n<span class=\"token keyword\">INNER</span> <span class=\"token keyword\">JOIN</span> \n     sys<span class=\"token punctuation\">.</span><span class=\"token keyword\">tables</span> t <span class=\"token keyword\">ON</span> ind<span class=\"token punctuation\">.</span>object_id <span class=\"token operator\">=</span> t<span class=\"token punctuation\">.</span>object_id\n<span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> \n     t<span class=\"token punctuation\">.</span>name\n<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> t<span class=\"token punctuation\">.</span>name <span class=\"token keyword\">ASC</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>In CURIE R1, and without project/custom indexes, this request should return [this result](./assets/bw_sq bw_sqlserver_CURIE_R1_indexes_number_per_table_aggregation.csv) if the CURIE R1 upgrade successfully worked.</p>\n<h3 id=\"lingual-mode\">Lingual mode</h3>\n<p>If the database schema final version target is not CURIE R1 (v35) but a further version (CURIE R3 - v38 for instance) and you want to perform the upgrade using SQL script, <strong>beware</strong> to use the right <strong>lingual</strong> mode (MONO or MULTI) when exporting the upgrade script.</p>\n<p>The lingual mode information is provided when executing the <a href=\"#determining-script\">Determining script</a> procedure.</p>\n<blockquote>\n<p>Do not forget to precise the <code class=\"language-text\">&lt;DATABASE></code> and the <code class=\"language-text\">&lt;USER></code> with which to execute the request by adding two below lines at the beginning of the script.</p>\n</blockquote>\n\n          <codeblockcopytag>USE &quot;&lt;database&gt;&quot;\nEXECUTE AS LOGIN='&lt;USER&gt;'</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">USE</span> <span class=\"token string\">\"&lt;database>\"</span>\n<span class=\"token keyword\">EXECUTE</span> <span class=\"token keyword\">AS</span> LOGIN<span class=\"token operator\">=</span><span class=\"token string\">'&lt;USER>'</span></code></pre></div>\n<h4 id=\"monolingual-mode\">Monolingual mode</h4>\n<ul>\n<li>From Studio</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 511px; z-index: -1\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 78.9090909090909%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACIUlEQVR42o1T2ZKbMBDk/38neUtSKad2k13bMbA+uZFAXOKQIGV7fSzbgKt8PKWZEiOJHo1mGmW1NpIoBgIa8CyLWJwmiahE27anHu/32O92ZVnAiZNY8X3KGHNd14dHyCVKnkdRxDlPkuR4PLY3+Pho3w/n3aFliVAs0zQMw/N8Y7OB2bZtbgzLtF3HyfM8SzMc3t7jjABtK+t/Sl1LUZZNLaUQTd1IKWs8Qmy32zNwOh0Oh0vC+/17b8DxeKqqSnFC7sTCYFXEQZbGeqOq6ryHruvT8UTXdE3V3vQ3QkhZluBgxBm4rOL6ZL5YLzeWYVqO1eXMWJRckMaoZRTBMCmKQvQAv65rFEXpTtD0xWI5n2NYrVZrznPsyQF1bz2EkI9kK+B2LJG5F1c0E5ZteZ4n7yEQoa4HZh9FNE3Tke2gu7OfVDDGRZqmhFAUPwwYJQEc1/UopY7jYp1S9DGM44Slhe0FCosTDx+REP0mIFCaphk6jFZ3rcognG6W4ZVfgMtXQoYoWM550AWkYRCEAfV9UvZXesj8dmVIG3JSEGmY/z+uBRvIUlwjYO/BGfzb9SsZk6IoB2D/obDD14MPgQw+0u5E4tMwzfKm06dEJVgYmoYJnVDiQ/SOZboeMQI+Wzm6QcwQP0zs2DbpoUAXOvRlO2ivaZqvU/Xp+fdiMR9PZz9Gz6OnP79e/n57XXz5+fJ1NPk+Xs70+WQ8Vmeqpmmf5ExpYJd+zkgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"SQL Server monolingual DB upgrade script\"\n        title=\"\"\n        src=\"/static/a595af5596f6ced7788a0ea923e823be/40f84/sqlserver_monolingual_DB_upgrade_script.png\"\n        srcset=\"/static/a595af5596f6ced7788a0ea923e823be/88b8e/sqlserver_monolingual_DB_upgrade_script.png 275w,\n/static/a595af5596f6ced7788a0ea923e823be/40f84/sqlserver_monolingual_DB_upgrade_script.png 511w\"\n        sizes=\"(max-width: 511px) 100vw, 511px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>Using batch command line</li>\n</ul>\n\n          <codeblockcopytag>&lt;IGRC_ANALYTICS_ROOT_INSTALLATION_FOLDER&gt;\\igrc_sqlscript.cmd sqlserver 35 &quot;C:\\bw_sqlserver_monolingual_db_upgrade_script_v35_to_vXY.sql&quot;</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\">&lt;IGRC_ANALYTICS_ROOT_INSTALLATION_FOLDER>\\igrc_sqlscript<span class=\"token punctuation\">.</span>cmd sqlserver 35 <span class=\"token string\">\"C:\\bw_sqlserver_monolingual_db_upgrade_script_v35_to_vXY.sql\"</span></code></pre></div>\n<h4 id=\"multilingual-mode\">Multilingual mode</h4>\n<ul>\n<li>From Studio</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 511px; z-index: -1\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 78.9090909090909%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACHklEQVR42o1TaXObMBDl//+d9lvb6biTtImT+gIfiFMIAUYcEnTsODihD3B95FMfGnnRele7bx/aam0mUQywgIk0jXi8TRJZyrZtjz0Ot3jZ74sihxEnseb7AefcdV0fFqWnLFkWRZEQIkmSpmnaK7y/t4fXt/1ryxOpWYSYpul5vrnZYNm2TTamRSzXcbIsT9MUl7e3eEOCtlXVH62qlCyKulJKyrqqlVIVHil3u93xiFublysc+gU0zbEsS80JhRNLk5eRQLAy15vpbLpYLAixggB90KAH7VEUBWKw4w40q7k+1Y31cmOZxHKsrmYedQSi4OwWeZ7LHoivqgqkaLquz2dzw1jqOrbVarUWIoNP9ZBy2Idf9THYYsKOFSr34jJIpWVbnuedIvGckqiOmlOGzqjrugu2Wdezn5RYXMjtdos2QX4Yct/1HRsjxCt1HI8GDIfwpqmI0sL2mMbjxKPMoyHmTRkHN9ttiglj1CKDano7TXH4r/UMhKGIEIRlQrAgwAoZC1ng+7ToWzpVq85ln81T2SBVQ64zE/+JC2FDsJKXDPB9MAb7+vwSjJc8LwbAD8fwp+vZDDYEMtgouxOJH4Tgou70qSADHobEJJxHAfUhescirkdNJiYrZ25SEuKDiR3bHgSnQRdz6Mt2MF5CyOPz9O7+p2Ho4+fJt9H96O7Xj4ffXx6NT98fPo+evo6Xk7n+NB5PJ9PZbPYXfZRqvHwyye8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"SQL Server monolingual DB upgrade script\"\n        title=\"\"\n        src=\"/static/d3d3e9fbd793715334209400c473595e/40f84/sqlserver_multilingual_DB_upgrade_script.png\"\n        srcset=\"/static/d3d3e9fbd793715334209400c473595e/88b8e/sqlserver_multilingual_DB_upgrade_script.png 275w,\n/static/d3d3e9fbd793715334209400c473595e/40f84/sqlserver_multilingual_DB_upgrade_script.png 511w\"\n        sizes=\"(max-width: 511px) 100vw, 511px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>Using batch command line</li>\n</ul>\n\n          <codeblockcopytag>&lt;IGRC_ANALYTICS_ROOT_INSTALLATION_FOLDER&gt;\\igrc_sqlscript.cmd sqlservermultilang 35 &quot;C:\\bw_sqlserver_multilingual_db_upgrade_script_v35_to_vXY.sql&quot;</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\">&lt;IGRC_ANALYTICS_ROOT_INSTALLATION_FOLDER>\\igrc_sqlscript<span class=\"token punctuation\">.</span>cmd sqlservermultilang 35 <span class=\"token string\">\"C:\\bw_sqlserver_multilingual_db_upgrade_script_v35_to_vXY.sql\"</span></code></pre></div>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{"id":"sql-server"},"children":[{"type":"text","value":"SQL server"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"pre-requisites"},"children":[{"type":"text","value":"Pre-requisites"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Before attempting any upgrade of the database please go through all steps detailed in the page below."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"./index"},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Release notes"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In addition if executing the sql requests directly in powershell is necessary to install the SqlServer powershell module. This is done by running the following command in a powershell window using administrative privileges:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"Install-Module -Name SqlServer"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"powershell"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-powershell"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-powershell"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"Install-Module"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"Name SqlServer"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Please refer to the following documentation for more information:"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"a","properties":{"href":"https://docs.microsoft.com/en-us/sql/powershell/download-sql-server-ps-module?view=sql-server-ver15"},"children":[{"type":"text","value":"https://docs.microsoft.com/en-us/sql/powershell/download-sql-server-ps-module?view=sql-server-ver15"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"user-rights"},"children":[{"type":"text","value":"User rights"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<LOGIN>"}]},{"type":"text","value":" is the owner of the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<SCHEMA>"}]},{"type":"text","value":" to upgrade, this step should not be necessary."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The upgrade script requires the execution of stored procedures. To determine if the account get this right, you can execute the below command."}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"EXECUTE AS USER = '<LOGIN>';\n\nUSE \"<DATABASE>\";\n\nSELECT * FROM fn_builtin_permissions(DEFAULT)\n  WHERE permission_name = 'EXECUTE' AND class_desc = 'SCHEMA'\n\nGO"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sql"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"EXECUTE"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"AS"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"USER"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'<LOGIN>'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"USE"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"<DATABASE>\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"SELECT"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"*"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"FROM"}]},{"type":"text","value":" fn_builtin_permissions"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"DEFAULT"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"WHERE"}]},{"type":"text","value":" permission_name "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'EXECUTE'"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"AND"}]},{"type":"text","value":" class_desc "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'SCHEMA'"}]},{"type":"text","value":"\n\nGO"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the above command returns no result, use the following command to grant the right to execute stored procedures to the user."}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"GRANT EXECUTE ON SCHEMA :: \"<SCHEMA>\" TO \"<LOGIN>\" ;"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sql"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"GRANT"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"EXECUTE"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"ON"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"SCHEMA"}]},{"type":"text","value":" :: "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"<SCHEMA>\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"TO"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"<LOGIN>\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Where:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<SCHEMA>"}]},{"type":"text","value":" corresponds to the schema containing the tables"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<LOGIN>"}]},{"type":"text","value":" corresponds to the login of the user performing the upgrade"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<DATABASE>"}]},{"type":"text","value":" corresponds to the database to upgrade"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"At the end of the migration, do not forget to remove the previous granted right to the account."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"DENY EXECUTE ON SCHEMA :: \"<SCHEMA>\" TO \"<LOGIN>\" ;"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sql"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"DENY"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"EXECUTE"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"ON"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"SCHEMA"}]},{"type":"text","value":" :: "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"<SCHEMA>\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"TO"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"<LOGIN>\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"procedure"},"children":[{"type":"text","value":"Procedure"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"determining-script"},"children":[{"type":"text","value":"Determining script"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To determine the script to execute in order to update the database schema, please execute the following sql request."}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"IF ( SELECT top 1 cpropertiesuid FROM tproperties WHERE cpropertiesuid = 'SQLSERVER_MULTILINGUAL') is not null\nBEGIN\n-- PRINT 'Multilingual'\n  SELECT cvalue AS \"Curent Schema version\",\n    CASE \n      WHEN (cvalue = '35') THEN 'Schema version up to date - Multilingual version' \n      WHEN (cvalue = '32') THEN 'mssql_BrailleR1_to_Curie.sql'\n      WHEN (cvalue = '31') THEN 'mssql_AderR1_to_Curie.sql'\n      WHEN (cvalue = '30') THEN 'mssql_2017R3_to_Curie.sql'\n      WHEN (cvalue = '29') THEN 'mssql_2017R2_to_Curie.sql'\n      ELSE 'Schema version not recognised. Please contact the support service' \n    END AS \"Script to execute\"\n  FROM     \n    tproperties\n  WHERE\n    cpropertiesuid='VERSION'\nEND\nELSE\nBEGIN\n-- PRINT 'Monolingual'\n  SELECT cvalue AS \"Curent Schema version\",\n    CASE \n      WHEN (cvalue = '35') THEN 'Schema version up to date - Monolingual version' \n      WHEN (cvalue = '32') THEN 'mssql_noml_BrailleR1_to_Curie.sql'\n      WHEN (cvalue = '31') THEN 'mssql_noml_AderR1_to_Curie.sql'\n      WHEN (cvalue = '30') THEN 'mssql_noml_2017R3_to_Curie.sql'\n      WHEN (cvalue = '29') THEN 'mssql_noml_2017R2_to_Curie.sql'\n      ELSE 'Schema version not recognised. Please contact the support service' \n    END AS \"Script to execute\"\n  FROM     \n    tproperties\n  WHERE\n    cpropertiesuid='VERSION'\nEND"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sql"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"IF"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"SELECT"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"top"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1"}]},{"type":"text","value":" cpropertiesuid "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"FROM"}]},{"type":"text","value":" tproperties "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"WHERE"}]},{"type":"text","value":" cpropertiesuid "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'SQLSERVER_MULTILINGUAL'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"is"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"not"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"null"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"BEGIN"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"-- PRINT 'Multilingual'"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"SELECT"}]},{"type":"text","value":" cvalue "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"AS"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Curent Schema version\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"CASE"}]},{"type":"text","value":" \n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"WHEN"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"cvalue "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'35'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"THEN"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'Schema version up to date - Multilingual version'"}]},{"type":"text","value":" \n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"WHEN"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"cvalue "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'32'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"THEN"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'mssql_BrailleR1_to_Curie.sql'"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"WHEN"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"cvalue "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'31'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"THEN"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'mssql_AderR1_to_Curie.sql'"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"WHEN"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"cvalue "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'30'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"THEN"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'mssql_2017R3_to_Curie.sql'"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"WHEN"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"cvalue "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'29'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"THEN"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'mssql_2017R2_to_Curie.sql'"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"ELSE"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'Schema version not recognised. Please contact the support service'"}]},{"type":"text","value":" \n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"END"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"AS"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Script to execute\""}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"FROM"}]},{"type":"text","value":"     \n    tproperties\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"WHERE"}]},{"type":"text","value":"\n    cpropertiesuid"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'VERSION'"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"END"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"ELSE"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"BEGIN"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"-- PRINT 'Monolingual'"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"SELECT"}]},{"type":"text","value":" cvalue "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"AS"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Curent Schema version\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"CASE"}]},{"type":"text","value":" \n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"WHEN"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"cvalue "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'35'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"THEN"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'Schema version up to date - Monolingual version'"}]},{"type":"text","value":" \n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"WHEN"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"cvalue "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'32'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"THEN"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'mssql_noml_BrailleR1_to_Curie.sql'"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"WHEN"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"cvalue "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'31'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"THEN"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'mssql_noml_AderR1_to_Curie.sql'"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"WHEN"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"cvalue "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'30'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"THEN"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'mssql_noml_2017R3_to_Curie.sql'"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"WHEN"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"cvalue "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'29'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"THEN"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'mssql_noml_2017R2_to_Curie.sql'"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"ELSE"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'Schema version not recognised. Please contact the support service'"}]},{"type":"text","value":" \n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"END"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"AS"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Script to execute\""}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"FROM"}]},{"type":"text","value":"     \n    tproperties\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"WHERE"}]},{"type":"text","value":"\n    cpropertiesuid"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'VERSION'"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"END"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"powershell-execution"},"children":[{"type":"text","value":"Powershell execution"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is possible to execute directly the SQL request within a Powershell commandlet. The following commands can be used to hide the user's password"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"\\$key=Read-Host -AsSecureString\nInvoke-Sqlcmd -Query \"<query>\" -ServerInstance \"<ServerInstance>\" -Database \"<Database>\" -Username \"<USER>\" -Password \\$key"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"powershell"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-powershell"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-powershell"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$key"}]},{"type":"text","value":"="},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"Read-Host"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"AsSecureString\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"Invoke-Sqlcmd"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"Query "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"<query>\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"ServerInstance "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"<ServerInstance>\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"Database "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"<Database>\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"Username "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"<USER>\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"Password "},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$key"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"sql-server-management-studio-execution"},"children":[{"type":"text","value":"SQL server management studio execution"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When executing the previous command in SQL server management studio please insure that the correct database and login is used."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This is done by adding:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"USE \"<database>\"\nEXECUTE AS LOGIN='<USER>'"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sql"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"USE"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"<database>\""}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"EXECUTE"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"AS"}]},{"type":"text","value":" LOGIN"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'<USER>'"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Where "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<DATABASE>"}]},{"type":"text","value":" is the database and "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<USER>"}]},{"type":"text","value":" is the user with which to execute the request."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"download-the-script"},"children":[{"type":"text","value":"Download the Script"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Depending on the version of the script displayed after the previous SQL request, please download the correct script from the following list:"}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{"align":"center"},"children":[{"type":"text","value":"Script"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"center"},"children":[{"type":"element","tagName":"a","properties":{"href":"../sqlscripts/mssql_2017R2_to_Curie.sql"},"children":[{"type":"text","value":"mssql_2017R2_to_Curie.sql"}]}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"center"},"children":[{"type":"element","tagName":"a","properties":{"href":"../sqlscripts/mssql_2017R3_to_Curie.sql"},"children":[{"type":"text","value":"mssql_2017R3_to_Curie.sql"}]}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"center"},"children":[{"type":"element","tagName":"a","properties":{"href":"../sqlscripts/mssql_AderR1_to_Curie.sql"},"children":[{"type":"text","value":"mssql_AderR1_to_Curie.sql"}]}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"center"},"children":[{"type":"element","tagName":"a","properties":{"href":"../sqlscripts/mssql_BrailleR1_to_Curie.sql"},"children":[{"type":"text","value":"mssql_BrailleR1_to_Curie.sql"}]}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"center"},"children":[{"type":"element","tagName":"a","properties":{"href":"../sqlscripts/mssql_noml_2017R2_to_Curie.sql"},"children":[{"type":"text","value":"mssql_noml_2017R2_to_Curie.sql"}]}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"center"},"children":[{"type":"element","tagName":"a","properties":{"href":"../sqlscripts/mssql_noml_2017R3_to_Curie.sql"},"children":[{"type":"text","value":"mssql_noml_2017R3_to_Curie.sql"}]}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"center"},"children":[{"type":"element","tagName":"a","properties":{"href":"../sqlscripts/mssql_noml_AderR1_to_Curie.sql"},"children":[{"type":"text","value":"mssql_noml_AderR1_to_Curie.sql"}]}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"center"},"children":[{"type":"element","tagName":"a","properties":{"href":"../sqlscripts/mssql_noml_BrailleR1_to_Curie.sql"},"children":[{"type":"text","value":"mssql_noml_BrailleR1_to_Curie.sql"}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"execute-the-script"},"children":[{"type":"text","value":"Execute the script"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once the correct script to execute identified"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"powershell"},"children":[{"type":"text","value":"Powershell"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"\\$key=Read-Host -AsSecureString\nInvoke-Sqlcmd -InputFile \"<FullPathToUpgradeScript>\" -ServerInstance \"<ServerInstance>\" -Database \"<Database>\" -Username \"<USER>\" -Password \\$key"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"powershell"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-powershell"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-powershell"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$key"}]},{"type":"text","value":"="},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"Read-Host"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"AsSecureString\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"Invoke-Sqlcmd"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"InputFile "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"<FullPathToUpgradeScript>\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"ServerInstance "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"<ServerInstance>\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"Database "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"<Database>\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"Username "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"<USER>\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"Password "},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$key"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"sql-server-management-studio"},"children":[{"type":"text","value":"SQL server management studio"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When executing the desired opened script in SQL server management studio please ensure that the correct database and login are used."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This is done by uncommenting the following block in the script:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"USE \"<database>\"\nEXECUTE AS LOGIN='<USER>'"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sql"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"USE"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"<database>\""}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"EXECUTE"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"AS"}]},{"type":"text","value":" LOGIN"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'<USER>'"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Where "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<DATABASE>"}]},{"type":"text","value":" is the database and "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<USER>"}]},{"type":"text","value":" is the user with which to execute the request."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"after-curie-r1-upgrade"},"children":[{"type":"text","value":"After CURIE R1 upgrade"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"checking"},"children":[{"type":"text","value":"Checking"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To ensure the CURIE R1 upgrade script has been executed successfully, two below SQL requests can be launched on the database."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Both requests must be executed with "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"sysadmin"}]},{"type":"text","value":" rights on the Brainwave Ledger database."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Check if all needed columns has been moved from "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"INT"}]},{"type":"text","value":" to "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"BIGINT"}]},{"type":"text","value":" type"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"SELECT (T.name) AS Table_Name, schema_name(t.schema_id), C.name AS Column_Name, c.is_nullable\nFROM   sys.objects AS T \n  JOIN sys.columns AS C ON T.object_id = C.object_id\n  JOIN sys.types AS P ON C.system_type_id = P.system_type_id\nWHERE\n  T.type_desc = 'USER_TABLE'\n  AND P.name = 'int'\n  AND (C.name = 'crecorduid' \n    OR C.name like '%fk' \n    OR C.name in ('cforeignrecorduid','cobjectrecorduid','cobjectuid','coptionuid','crequestid','cworkrecuid')\n  );"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sql"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"SELECT"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"T"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"AS"}]},{"type":"text","value":" Table_Name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" schema_name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"t"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"schema_id"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" C"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"name "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"AS"}]},{"type":"text","value":" Column_Name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" c"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"is_nullable\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"FROM"}]},{"type":"text","value":"   sys"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"objects "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"AS"}]},{"type":"text","value":" T \n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"JOIN"}]},{"type":"text","value":" sys"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"columns"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"AS"}]},{"type":"text","value":" C "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"ON"}]},{"type":"text","value":" T"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"object_id "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" C"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"object_id\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"JOIN"}]},{"type":"text","value":" sys"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"types"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"AS"}]},{"type":"text","value":" P "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"ON"}]},{"type":"text","value":" C"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"system_type_id "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" P"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"system_type_id\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"WHERE"}]},{"type":"text","value":"\n  T"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"type_desc "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'USER_TABLE'"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"AND"}]},{"type":"text","value":" P"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"name "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'int'"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"AND"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"C"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"name "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'crecorduid'"}]},{"type":"text","value":" \n    "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"OR"}]},{"type":"text","value":" C"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"name "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"like"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'%fk'"}]},{"type":"text","value":" \n    "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"OR"}]},{"type":"text","value":" C"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"name "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"in"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'cforeignrecorduid'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'cobjectrecorduid'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'cobjectuid'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'coptionuid'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'crequestid'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'cworkrecuid'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This request should return "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"0"}]},{"type":"text","value":" result if the CURIE R1 upgrade successfully worked."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Check the global number of indexes"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"SELECT \n     count(ind.name) nb_index\nFROM \n     sys.indexes ind \nINNER JOIN \n     sys.tables t ON ind.object_id = t.object_id"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sql"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"SELECT"}]},{"type":"text","value":" \n     "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"count"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"ind"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" nb_index\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"FROM"}]},{"type":"text","value":" \n     sys"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"indexes ind \n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"INNER"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"JOIN"}]},{"type":"text","value":" \n     sys"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"tables"}]},{"type":"text","value":" t "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"ON"}]},{"type":"text","value":" ind"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"object_id "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" t"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"object_id"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This request should return "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"1192"}]},{"type":"text","value":" if the CURIE R1 upgrade successfully worked and if there are no project/custom indexes."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Check the number of indexes per table"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"SELECT \n     count(ind.name) nb_index,t.name\nFROM \n     sys.indexes ind \nINNER JOIN \n     sys.tables t ON ind.object_id = t.object_id\nGROUP BY \n     t.name\nORDER BY t.name ASC;"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sql"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"SELECT"}]},{"type":"text","value":" \n     "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"count"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"ind"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"name"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" nb_index"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"t"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"name\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"FROM"}]},{"type":"text","value":" \n     sys"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"indexes ind \n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"INNER"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"JOIN"}]},{"type":"text","value":" \n     sys"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"tables"}]},{"type":"text","value":" t "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"ON"}]},{"type":"text","value":" ind"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"object_id "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" t"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"object_id\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"GROUP"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"BY"}]},{"type":"text","value":" \n     t"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"name\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"ORDER"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"BY"}]},{"type":"text","value":" t"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"name "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"ASC"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In CURIE R1, and without project/custom indexes, this request should return [this result](./assets/bw_sq bw_sqlserver_CURIE_R1_indexes_number_per_table_aggregation.csv) if the CURIE R1 upgrade successfully worked."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"lingual-mode"},"children":[{"type":"text","value":"Lingual mode"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the database schema final version target is not CURIE R1 (v35) but a further version (CURIE R3 - v38 for instance) and you want to perform the upgrade using SQL script, "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"beware"}]},{"type":"text","value":" to use the right "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"lingual"}]},{"type":"text","value":" mode (MONO or MULTI) when exporting the upgrade script."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The lingual mode information is provided when executing the "},{"type":"element","tagName":"a","properties":{"href":"#determining-script"},"children":[{"type":"text","value":"Determining script"}]},{"type":"text","value":" procedure."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Do not forget to precise the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<DATABASE>"}]},{"type":"text","value":" and the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"<USER>"}]},{"type":"text","value":" with which to execute the request by adding two below lines at the beginning of the script."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"USE \"<database>\"\nEXECUTE AS LOGIN='<USER>'"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sql"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sql"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"USE"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"<database>\""}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"EXECUTE"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"AS"}]},{"type":"text","value":" LOGIN"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'<USER>'"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"monolingual-mode"},"children":[{"type":"text","value":"Monolingual mode"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"From Studio"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 511px; z-index: -1"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 78.9090909090909%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACIUlEQVR42o1T2ZKbMBDk/38neUtSKad2k13bMbA+uZFAXOKQIGV7fSzbgKt8PKWZEiOJHo1mGmW1NpIoBgIa8CyLWJwmiahE27anHu/32O92ZVnAiZNY8X3KGHNd14dHyCVKnkdRxDlPkuR4PLY3+Pho3w/n3aFliVAs0zQMw/N8Y7OB2bZtbgzLtF3HyfM8SzMc3t7jjABtK+t/Sl1LUZZNLaUQTd1IKWs8Qmy32zNwOh0Oh0vC+/17b8DxeKqqSnFC7sTCYFXEQZbGeqOq6ryHruvT8UTXdE3V3vQ3QkhZluBgxBm4rOL6ZL5YLzeWYVqO1eXMWJRckMaoZRTBMCmKQvQAv65rFEXpTtD0xWI5n2NYrVZrznPsyQF1bz2EkI9kK+B2LJG5F1c0E5ZteZ4n7yEQoa4HZh9FNE3Tke2gu7OfVDDGRZqmhFAUPwwYJQEc1/UopY7jYp1S9DGM44Slhe0FCosTDx+REP0mIFCaphk6jFZ3rcognG6W4ZVfgMtXQoYoWM550AWkYRCEAfV9UvZXesj8dmVIG3JSEGmY/z+uBRvIUlwjYO/BGfzb9SsZk6IoB2D/obDD14MPgQw+0u5E4tMwzfKm06dEJVgYmoYJnVDiQ/SOZboeMQI+Wzm6QcwQP0zs2DbpoUAXOvRlO2ivaZqvU/Xp+fdiMR9PZz9Gz6OnP79e/n57XXz5+fJ1NPk+Xs70+WQ8Vmeqpmmf5ExpYJd+zkgAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"SQL Server monolingual DB upgrade script","title":"","src":"/static/a595af5596f6ced7788a0ea923e823be/40f84/sqlserver_monolingual_DB_upgrade_script.png","srcSet":["/static/a595af5596f6ced7788a0ea923e823be/88b8e/sqlserver_monolingual_DB_upgrade_script.png 275w","/static/a595af5596f6ced7788a0ea923e823be/40f84/sqlserver_monolingual_DB_upgrade_script.png 511w"],"sizes":"(max-width: 511px) 100vw, 511px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Using batch command line"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"<IGRC_ANALYTICS_ROOT_INSTALLATION_FOLDER>\\igrc_sqlscript.cmd sqlserver 35 \"C:\\bw_sqlserver_monolingual_db_upgrade_script_v35_to_vXY.sql\""}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"powershell"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-powershell"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-powershell"]},"children":[{"type":"text","value":"<IGRC_ANALYTICS_ROOT_INSTALLATION_FOLDER>\\igrc_sqlscript"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"cmd sqlserver 35 "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"C:\\bw_sqlserver_monolingual_db_upgrade_script_v35_to_vXY.sql\""}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"multilingual-mode"},"children":[{"type":"text","value":"Multilingual mode"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"From Studio"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 511px; z-index: -1"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 78.9090909090909%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACHklEQVR42o1TaXObMBDl//+d9lvb6biTtImT+gIfiFMIAUYcEnTsODihD3B95FMfGnnRele7bx/aam0mUQywgIk0jXi8TRJZyrZtjz0Ot3jZ74sihxEnseb7AefcdV0fFqWnLFkWRZEQIkmSpmnaK7y/t4fXt/1ryxOpWYSYpul5vrnZYNm2TTamRSzXcbIsT9MUl7e3eEOCtlXVH62qlCyKulJKyrqqlVIVHil3u93xiFublysc+gU0zbEsS80JhRNLk5eRQLAy15vpbLpYLAixggB90KAH7VEUBWKw4w40q7k+1Y31cmOZxHKsrmYedQSi4OwWeZ7LHoivqgqkaLquz2dzw1jqOrbVarUWIoNP9ZBy2Idf9THYYsKOFSr34jJIpWVbnuedIvGckqiOmlOGzqjrugu2Wdezn5RYXMjtdos2QX4Yct/1HRsjxCt1HI8GDIfwpqmI0sL2mMbjxKPMoyHmTRkHN9ttiglj1CKDano7TXH4r/UMhKGIEIRlQrAgwAoZC1ng+7ToWzpVq85ln81T2SBVQ64zE/+JC2FDsJKXDPB9MAb7+vwSjJc8LwbAD8fwp+vZDDYEMtgouxOJH4Tgou70qSADHobEJJxHAfUhescirkdNJiYrZ25SEuKDiR3bHgSnQRdz6Mt2MF5CyOPz9O7+p2Ho4+fJt9H96O7Xj4ffXx6NT98fPo+evo6Xk7n+NB5PJ9PZbPYXfZRqvHwyye8AAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"SQL Server monolingual DB upgrade script","title":"","src":"/static/d3d3e9fbd793715334209400c473595e/40f84/sqlserver_multilingual_DB_upgrade_script.png","srcSet":["/static/d3d3e9fbd793715334209400c473595e/88b8e/sqlserver_multilingual_DB_upgrade_script.png 275w","/static/d3d3e9fbd793715334209400c473595e/40f84/sqlserver_multilingual_DB_upgrade_script.png 511w"],"sizes":"(max-width: 511px) 100vw, 511px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Using batch command line"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"<IGRC_ANALYTICS_ROOT_INSTALLATION_FOLDER>\\igrc_sqlscript.cmd sqlservermultilang 35 \"C:\\bw_sqlserver_multilingual_db_upgrade_script_v35_to_vXY.sql\""}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"powershell"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-powershell"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-powershell"]},"children":[{"type":"text","value":"<IGRC_ANALYTICS_ROOT_INSTALLATION_FOLDER>\\igrc_sqlscript"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"cmd sqlservermultilang 35 "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"C:\\bw_sqlserver_multilingual_db_upgrade_script_v35_to_vXY.sql\""}]}]}]}]}],"data":{"quirksMode":false}},"fileAbsolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/ia/descartes/documentation/igrc-platform/installation-and-deployment/07-database/04-schema-35-upgrade-procedure/01-sqlserver/index.md","frontmatter":{"title":"Schema 35 upgrade procedure"},"headings":[{"id":"sql-server","value":"SQL server","depth":1},{"id":"pre-requisites","value":"Pre-requisites","depth":2},{"id":"user-rights","value":"User rights","depth":3},{"id":"procedure","value":"Procedure","depth":2},{"id":"determining-script","value":"Determining script","depth":3},{"id":"powershell-execution","value":"Powershell execution","depth":4},{"id":"sql-server-management-studio-execution","value":"SQL server management studio execution","depth":4},{"id":"download-the-script","value":"Download the Script","depth":3},{"id":"execute-the-script","value":"Execute the script","depth":3},{"id":"powershell","value":"Powershell","depth":4},{"id":"sql-server-management-studio","value":"SQL server management studio","depth":4},{"id":"after-curie-r1-upgrade","value":"After CURIE R1 upgrade","depth":2},{"id":"checking","value":"Checking","depth":3},{"id":"lingual-mode","value":"Lingual mode","depth":3},{"id":"monolingual-mode","value":"Monolingual mode","depth":4},{"id":"multilingual-mode","value":"Multilingual mode","depth":4}]},"toc":null},"pageContext":{"urlPrefix":"ia/descartes","absolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/ia/descartes/documentation/igrc-platform/installation-and-deployment/07-database/04-schema-35-upgrade-procedure/01-sqlserver/index.md","tocRegex":"/(ia/)(descartes/)?(documentation/)?(igrc-platform/)?(installation-and-deployment/)?(07-database/)?(04-schema-35-upgrade-procedure/)?(01-sqlserver/)?(index.md/)?(TOC.md)/ig","versions":[{"name":"descartes","displayName":"Descartes"}],"currentRepo":{"name":"ia","displayName":"Identity Analytics","description":"This guide provides a high-level overview of Identity Analytics. This documentation includes the user guides, integration guides for Identity Analytics along with the different modules included.","links":[{"text":"SEE DEVELOPER DOCUMENTATION","href":"/ia/descartes/#1"}],"remote":"https://github.com/radiantlogic-v8/documentation-ia-product.git","patterns":["home-pages/**","documentation/**"],"deployBranches":[{"name":"descartes","displayName":"Descartes"}]},"currentRepoWebLink":"https://github.com/radiantlogic-v8/documentation-ia-product","currentVersion":{"name":"descartes","displayName":"Descartes"},"title":"Schema 35 upgrade procedure","description":"Schema 35 upgrade procedure","tocForCurrentSection":{"textElement":"Igrc platform","href":null,"children":[{"textElement":"Add ons","href":"igrc-platform/add-ons/","children":[{"textElement":"Add on creation","href":"igrc-platform/add-ons/add-on-creation","children":[]},{"textElement":"Add on migration","href":"igrc-platform/add-ons/add-on-migration","children":[]}]},{"textElement":"Audit logs","href":"igrc-platform/audit-logs/","children":[{"textElement":"Data collection configuration","href":"igrc-platform/audit-logs/01-data-collection-configuration","children":[]},{"textElement":"Auditlog execution plan","href":"igrc-platform/audit-logs/02-auditlog-execution-plan","children":[]},{"textElement":"Database configuration","href":"igrc-platform/audit-logs/03-database-configuration","children":[]},{"textElement":"Usage","href":"igrc-platform/audit-logs/04-usage","children":[]}]},{"textElement":"Audit rules","href":"igrc-platform/audit-rules/","children":[{"textElement":"Search dimensions","href":"igrc-platform/audit-rules/01-search-dimensions","children":[]},{"textElement":"Advanced concepts","href":"igrc-platform/audit-rules/02-advanced-concepts","children":[]},{"textElement":"Time management","href":"igrc-platform/audit-rules/03-time-management","children":[]},{"textElement":"Best practices","href":"igrc-platform/audit-rules/04-best-practices","children":[]}]},{"textElement":"Business view","href":"igrc-platform/business-view/","children":[{"textElement":"Main concepts","href":"igrc-platform/business-view/01-main-concepts","children":[]},{"textElement":"Business view editor","href":"igrc-platform/business-view/02-business-view-editor","children":[]},{"textElement":"Common features","href":"igrc-platform/business-view/03-common-features","children":[]},{"textElement":"Components","href":"igrc-platform/business-view/04-components","children":[]},{"textElement":"Filter components","href":"igrc-platform/business-view/05-filter-components","children":[]},{"textElement":"Debugging","href":"igrc-platform/business-view/06-debugging","children":[]},{"textElement":"Optimization","href":"igrc-platform/business-view/07-optimization","children":[]}]},{"textElement":"Collect wizard","href":"igrc-platform/collect-wizard/","children":[{"textElement":"Discorvery mapping","href":"igrc-platform/collect-wizard/01-discorvery-mapping","children":[]},{"textElement":"Application model editor","href":"igrc-platform/collect-wizard/02-application-model-editor","children":[]},{"textElement":"Templates","href":"igrc-platform/collect-wizard/03-templates","children":[]}]},{"textElement":"Collector","href":"igrc-platform/collector/","children":[{"textElement":"Engine states","href":"igrc-platform/collector/01-engine-states","children":[]},{"textElement":"Data flow","href":"igrc-platform/collector/02-data-flow","children":[]},{"textElement":"Logs","href":"igrc-platform/collector/03-logs","children":[]},{"textElement":"Components","href":"igrc-platform/collector/04-components/","children":[{"textElement":"Filters","href":"igrc-platform/collector/04-components/filters","children":[]},{"textElement":"Sources","href":"igrc-platform/collector/04-components/sources","children":[]},{"textElement":"Target","href":"igrc-platform/collector/04-components/target","children":[]}]},{"textElement":"Macros and scripts","href":"igrc-platform/collector/05-macros-and-scripts","children":[]},{"textElement":"Sql filtering","href":"igrc-platform/collector/06-sql-filtering","children":[]}]},{"textElement":"Controls","href":"igrc-platform/controls/","children":[{"textElement":"Permission impact","href":"igrc-platform/controls/01-permission-impact","children":[]},{"textElement":"Theoretical rights","href":"igrc-platform/controls/02-theoretical-rights","children":[]},{"textElement":"Default tag","href":"igrc-platform/controls/03-default-tag","children":[]}]},{"textElement":"Dashboards","href":"igrc-platform/dashboards/","children":[{"textElement":"Components","href":"igrc-platform/dashboards/01-components","children":[]},{"textElement":"Publication","href":"igrc-platform/dashboards/02-publication","children":[]},{"textElement":"Advanced configation","href":"igrc-platform/dashboards/03-advanced-configation","children":[]},{"textElement":"Customization","href":"igrc-platform/dashboards/04-customization","children":[]}]},{"textElement":"Data discovery","href":"igrc-platform/data-discovery/","children":[{"textElement":"Basic concepts","href":"igrc-platform/data-discovery/01-basic-concepts","children":[]},{"textElement":"Advanced concepts","href":"igrc-platform/data-discovery/02-advanced-concepts","children":[]}]},{"textElement":"Getting started","href":"igrc-platform/getting-started/","children":[{"textElement":"Timeslots","href":"igrc-platform/getting-started/01-timeslots","children":[]},{"textElement":"Execution plan","href":"igrc-platform/getting-started/02-execution-plan","children":[]},{"textElement":"Default project","href":"igrc-platform/getting-started/03-default-project","children":[]},{"textElement":"Creation configuration","href":"igrc-platform/getting-started/04-creation-configuration","children":[]},{"textElement":"Studio editors","href":"igrc-platform/getting-started/05-studio-editors","children":[]},{"textElement":"Project archives","href":"igrc-platform/getting-started/06-project-archives","children":[]},{"textElement":"Tutorial","href":"igrc-platform/getting-started/07-tutorial","children":[]}]},{"textElement":"Installation and deployment","href":"igrc-platform/installation-and-deployment/","children":[{"textElement":"Batch configuration and usage","href":"igrc-platform/installation-and-deployment/02-batch-configuration-and-usage","children":[]},{"textElement":"Brainwaves web portal","href":"igrc-platform/installation-and-deployment/03-brainwaves-web-portal/","children":[{"textElement":"Deployment","href":"igrc-platform/installation-and-deployment/03-brainwaves-web-portal/01-deployment","children":[]},{"textElement":"Parametrization","href":"igrc-platform/installation-and-deployment/03-brainwaves-web-portal/02-parametrization/","children":[{"textElement":"Basic","href":"igrc-platform/installation-and-deployment/03-brainwaves-web-portal/02-parametrization/01-basic","children":[]},{"textElement":"Ldap","href":"igrc-platform/installation-and-deployment/03-brainwaves-web-portal/02-parametrization/02-ldap","children":[]},{"textElement":"Saml","href":"igrc-platform/installation-and-deployment/03-brainwaves-web-portal/02-parametrization/03-saml/","children":[{"textElement":"Adfs","href":"igrc-platform/installation-and-deployment/03-brainwaves-web-portal/02-parametrization/03-saml/adfs","children":[]},{"textElement":"Gsuite","href":"igrc-platform/installation-and-deployment/03-brainwaves-web-portal/02-parametrization/03-saml/gsuite","children":[]},{"textElement":"Inwebo","href":"igrc-platform/installation-and-deployment/03-brainwaves-web-portal/02-parametrization/03-saml/inwebo","children":[]},{"textElement":"Okta","href":"igrc-platform/installation-and-deployment/03-brainwaves-web-portal/02-parametrization/03-saml/okta","children":[]},{"textElement":"Saml authenticators properties","href":"igrc-platform/installation-and-deployment/03-brainwaves-web-portal/02-parametrization/03-saml/saml-authenticators-properties","children":[]}]},{"textElement":"Http headers","href":"igrc-platform/installation-and-deployment/03-brainwaves-web-portal/02-parametrization/04-http-headers","children":[]}]},{"textElement":"Diagnostic","href":"igrc-platform/installation-and-deployment/03-brainwaves-web-portal/03-diagnostic","children":[]},{"textElement":"Troubleshooting","href":"igrc-platform/installation-and-deployment/03-brainwaves-web-portal/04-troubleshooting","children":[]},{"textElement":"Web portal theme customization","href":"igrc-platform/installation-and-deployment/03-brainwaves-web-portal/05-web-portal-theme-customization/","children":[{"textElement":"Level 1","href":"igrc-platform/installation-and-deployment/03-brainwaves-web-portal/05-web-portal-theme-customization/level-1","children":[]},{"textElement":"Level 2 customization via ss","href":"igrc-platform/installation-and-deployment/03-brainwaves-web-portal/05-web-portal-theme-customization/level-2-customization-via-ss","children":[]},{"textElement":"Level 3 customization via css with resources","href":"igrc-platform/installation-and-deployment/03-brainwaves-web-portal/05-web-portal-theme-customization/level-3-customization-via-css-with-resources","children":[]},{"textElement":"Level 4 customization via scripting","href":"igrc-platform/installation-and-deployment/03-brainwaves-web-portal/05-web-portal-theme-customization/level-4-customization-via-scripting","children":[]}]},{"textElement":"Dedicated instance","href":"igrc-platform/installation-and-deployment/03-brainwaves-web-portal/06-dedicated-instance","children":[]}]},{"textElement":"Brainwave grc certified environments","href":"igrc-platform/installation-and-deployment/04-brainwave-grc-certified-environments","children":[]},{"textElement":"Legacy property files","href":"igrc-platform/installation-and-deployment/05-legacy-property-files","children":[]},{"textElement":"Ssh git connection","href":"igrc-platform/installation-and-deployment/06-ssh-git-connection","children":[]},{"textElement":"Database","href":"igrc-platform/installation-and-deployment/07-database/","children":[{"textElement":"Microsoft integrated authenitcation","href":"igrc-platform/installation-and-deployment/07-database/02-Microsoft-integrated-authenitcation","children":[]},{"textElement":"Index management","href":"igrc-platform/installation-and-deployment/07-database/03-index-management","children":[]},{"textElement":"Schema 35 upgrade procedure","href":"igrc-platform/installation-and-deployment/07-database/04-schema-35-upgrade-procedure/","children":[{"textElement":"Sqlserver","href":"igrc-platform/installation-and-deployment/07-database/04-schema-35-upgrade-procedure/01-sqlserver/","children":[{"textElement":"Large migrations","href":"igrc-platform/installation-and-deployment/07-database/04-schema-35-upgrade-procedure/01-sqlserver/large-migrations","children":[]}]},{"textElement":"Postgresql","href":"igrc-platform/installation-and-deployment/07-database/04-schema-35-upgrade-procedure/02-postgresql","children":[]},{"textElement":"Oracle","href":"igrc-platform/installation-and-deployment/07-database/04-schema-35-upgrade-procedure/03-oracle","children":[]}]},{"textElement":"Clean temporary iap metadata","href":"igrc-platform/installation-and-deployment/07-database/05-clean-temporary-iap-metadata/","children":[]}]}]},{"textElement":"Manager policy","href":"igrc-platform/manager-policy/","children":[]},{"textElement":"Metadata","href":"igrc-platform/metadata/","children":[{"textElement":"Concept","href":"igrc-platform/metadata/01-concept","children":[]},{"textElement":"Use cases","href":"igrc-platform/metadata/02-use-cases","children":[]},{"textElement":"Life cycle","href":"igrc-platform/metadata/03-life-cycle","children":[]},{"textElement":"Editor","href":"igrc-platform/metadata/04-editor","children":[]},{"textElement":"Collect","href":"igrc-platform/metadata/05-collect","children":[]},{"textElement":"Compute","href":"igrc-platform/metadata/06-compute","children":[]},{"textElement":"Workflow","href":"igrc-platform/metadata/07-workflow","children":[]},{"textElement":"Rules views","href":"igrc-platform/metadata/08-rules-views","children":[]},{"textElement":"Review","href":"igrc-platform/metadata/09-review","children":[]},{"textElement":"Examples","href":"igrc-platform/metadata/10-examples","children":[]}]},{"textElement":"Notification rules","href":"igrc-platform/notification-rules/","children":[{"textElement":"Using the editor","href":"igrc-platform/notification-rules/01-using-the-editor","children":[]},{"textElement":"Selecting recipients","href":"igrc-platform/notification-rules/02-selecting-recipients","children":[]},{"textElement":"Macros","href":"igrc-platform/notification-rules/03-macros","children":[]},{"textElement":"Reports as attachments","href":"igrc-platform/notification-rules/04-reports-as-attachments","children":[]},{"textElement":"Notification batch mode","href":"igrc-platform/notification-rules/05-notification-batch-mode","children":[]},{"textElement":"Internationalization of notification rules","href":"igrc-platform/notification-rules/06-internationalization-of-notification-rules","children":[]}]},{"textElement":"Pages","href":"igrc-platform/pages/","children":[{"textElement":"Using the wizard","href":"igrc-platform/pages/01-using-the-wizard","children":[]},{"textElement":"Home pages","href":"igrc-platform/pages/02-home-pages","children":[]},{"textElement":"Parameters","href":"igrc-platform/pages/03-parameters","children":[]},{"textElement":"Data binding","href":"igrc-platform/pages/04-data-binding","children":[]},{"textElement":"Advanced data binding","href":"igrc-platform/pages/05-advanced-data-binding","children":[]},{"textElement":"Variables","href":"igrc-platform/pages/06-variables","children":[]},{"textElement":"Widgets","href":"igrc-platform/pages/07-widgets","children":[]},{"textElement":"Containers widgets","href":"igrc-platform/pages/08-containers-widgets","children":[]},{"textElement":"Display widgets","href":"igrc-platform/pages/09-display-widgets","children":[]},{"textElement":"Selection widgets","href":"igrc-platform/pages/10-selection-widgets","children":[]},{"textElement":"Edition widgets","href":"igrc-platform/pages/11-edition-widgets","children":[]},{"textElement":"Chart widgets","href":"igrc-platform/pages/12-chart-widgets","children":[]},{"textElement":"Iterable widgets","href":"igrc-platform/pages/13-iterable-widgets","children":[]},{"textElement":"Special widgets","href":"igrc-platform/pages/14-special-widgets","children":[]},{"textElement":"Reports in pages","href":"igrc-platform/pages/15-reports-in-pages","children":[]},{"textElement":"Predicate functions","href":"igrc-platform/pages/16-predicate-functions","children":[]},{"textElement":"Mapping functions","href":"igrc-platform/pages/17-mapping-functions","children":[]},{"textElement":"Transform functions","href":"igrc-platform/pages/18-transform-functions","children":[]},{"textElement":"Dialog boxes","href":"igrc-platform/pages/19-dialog-boxes","children":[]},{"textElement":"Events and actions","href":"igrc-platform/pages/20-events-and-actions","children":[]},{"textElement":"Features and roles","href":"igrc-platform/pages/21-features-and-roles/","children":[{"textElement":"Label localisation","href":"igrc-platform/pages/21-features-and-roles/label-localisation","children":[]}]},{"textElement":"Advanced concepts","href":"igrc-platform/pages/22-advanced-concepts","children":[]},{"textElement":"Page fragments","href":"igrc-platform/pages/23-page-fragments","children":[]},{"textElement":"Cross table","href":"igrc-platform/pages/24-cross-table","children":[]},{"textElement":"Internationalisation","href":"igrc-platform/pages/25-internationalisation","children":[]},{"textElement":"Accessibility","href":"igrc-platform/pages/26-accessibility","children":[]},{"textElement":"Images and colors","href":"igrc-platform/pages/27-images-and-colors","children":[]}]},{"textElement":"Reconciliation","href":"igrc-platform/reconciliation/","children":[{"textElement":"Reconciliation policies","href":"igrc-platform/reconciliation/01-reconciliation-policies","children":[]}]},{"textElement":"Reports","href":"igrc-platform/reports/","children":[{"textElement":"Advanced concepts","href":"igrc-platform/reports/01-advanced-concepts","children":[]},{"textElement":"Best practice","href":"igrc-platform/reports/02-best-practice","children":[]}]},{"textElement":"Review wizard","href":"igrc-platform/review-wizard/","children":[{"textElement":"Generation","href":"igrc-platform/review-wizard/01-generation","children":[]},{"textElement":"Structure","href":"igrc-platform/review-wizard/02-structure","children":[]},{"textElement":"Editor","href":"igrc-platform/review-wizard/03-editor","children":[]},{"textElement":"Build","href":"igrc-platform/review-wizard/04-build","children":[]},{"textElement":"Migration","href":"igrc-platform/review-wizard/05-migration","children":[]}]},{"textElement":"Silos","href":"igrc-platform/silos/","children":[]},{"textElement":"Smart search","href":"igrc-platform/smart-search/","children":[]},{"textElement":"Technical configuration","href":"igrc-platform/technical-configuration/","children":[]},{"textElement":"Theoretical rights","href":"igrc-platform/theoretical-rights/","children":[]},{"textElement":"Timeslots and execution plan","href":"igrc-platform/timeslots-and-execution-plan/","children":[{"textElement":"Collect and silos","href":"igrc-platform/timeslots-and-execution-plan/01-collect-and-silos/","children":[{"textElement":"Dependances","href":"igrc-platform/timeslots-and-execution-plan/01-collect-and-silos/01-dependances","children":[]},{"textElement":"Silo execution plan","href":"igrc-platform/timeslots-and-execution-plan/01-collect-and-silos/02-silo-execution-plan","children":[]},{"textElement":"Iteration","href":"igrc-platform/timeslots-and-execution-plan/01-collect-and-silos/03-iteration","children":[]},{"textElement":"Dynamically change silos name","href":"igrc-platform/timeslots-and-execution-plan/01-collect-and-silos/04-dynamically-change-silos-name","children":[]},{"textElement":"Using silo contants","href":"igrc-platform/timeslots-and-execution-plan/01-collect-and-silos/05-using-silo-contants","children":[]},{"textElement":"Using silos within the ledger","href":"igrc-platform/timeslots-and-execution-plan/01-collect-and-silos/06-using-silos-within-the-ledger","children":[]},{"textElement":"Input file validation","href":"igrc-platform/timeslots-and-execution-plan/01-collect-and-silos/07-input-file-validation","children":[]}]},{"textElement":"Purge of timeslots","href":"igrc-platform/timeslots-and-execution-plan/02-purge-of-timeslots","children":[]}]},{"textElement":"Views","href":"igrc-platform/views/","children":[{"textElement":"Managing attributes","href":"igrc-platform/views/01-managing-attributes","children":[]},{"textElement":"Sorting the results","href":"igrc-platform/views/02-sorting-the-results","children":[]},{"textElement":"Configuring joins","href":"igrc-platform/views/03-configuring-joins","children":[]},{"textElement":"Filtering results","href":"igrc-platform/views/04-filtering-results","children":[]},{"textElement":"Advanced concepts","href":"igrc-platform/views/05-advanced-concepts","children":[]},{"textElement":"Tips and best practice","href":"igrc-platform/views/06-tips-and-best-practice","children":[]},{"textElement":"Standard views","href":"igrc-platform/views/07-standard-views","children":[]}]},{"textElement":"Workflow","href":"igrc-platform/workflow/","children":[{"textElement":"Workflow configuration","href":"igrc-platform/workflow/01-workflow-configuration","children":[]},{"textElement":"Workflow editor user guide","href":"igrc-platform/workflow/02-workflow-editor-user-guide","children":[]},{"textElement":"Roles","href":"igrc-platform/workflow/03-roles","children":[]},{"textElement":"Variables","href":"igrc-platform/workflow/04-variables","children":[]},{"textElement":"Manual tasks","href":"igrc-platform/workflow/05-manual-tasks","children":[]},{"textElement":"Iterations and subprocesses","href":"igrc-platform/workflow/06-iterations-and-subprocesses","children":[]},{"textElement":"Email notifications","href":"igrc-platform/workflow/07-email-notifications","children":[]},{"textElement":"Time management","href":"igrc-platform/workflow/08-time-management","children":[]},{"textElement":"Tickets and workflows","href":"igrc-platform/workflow/09-tickets-and-workflows","children":[]},{"textElement":"Tickets","href":"igrc-platform/workflow/10-tickets","children":[]},{"textElement":"Components","href":"igrc-platform/workflow/11-components","children":[]},{"textElement":"Debugging","href":"igrc-platform/workflow/12-debugging","children":[]},{"textElement":"Exception management","href":"igrc-platform/workflow/13-exception-management","children":[]},{"textElement":"Workflows and timeslots","href":"igrc-platform/workflow/14-workflows-and-timeslots","children":[]},{"textElement":"Running campaigns","href":"igrc-platform/workflow/15-running-campaigns","children":[]}]}]}}},"staticQueryHashes":["63159454"],"slicesMap":{"footer":"footer","header":"header"}}