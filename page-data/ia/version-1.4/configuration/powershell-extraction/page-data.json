{"componentChunkName":"component---src-templates-base-page-js","path":"/ia/version-1.4/configuration/powershell-extraction/","result":{"data":{"pageContent":{"html":"<h1 id=\"powershell-extraction-configuration\">Powershell extraction configuration</h1>\n<p>Identity Analytics offers a PowerShell script called <code class=\"language-text\">bw_data_collector.ps1</code> to help extract the following data:</p>\n<ul>\n<li>Users and groups from Active Directory.</li>\n<li>Identities from Active Directory accounts.</li>\n</ul>\n<p>The powershell script can also retrieve files from local or shared storage and package them with extracted files. This feature is helpful when dealing with data that cannot be exported with extractors ex (HR, custom Application, ....).</p>\n<blockquote>\n<p>[!note] The PowerShell script is signed, any modification of the script will make it ineffective unless the local security parameters are changed in order to authorize the execution of unsigned scripts.<br>\nPlease note that this modification can lead to potential risk.</p>\n</blockquote>\n<p>The PowerShell script generates a ZIP file that can be uploaded to the Identity Analytics platform.</p>\n<p>When creating the ZIP file, the PowerShell script also adds some files generated by other processes. This is done using a configuration file in JSON format. This configuration file describes all the data sources to be included in the ZIP file.</p>\n<h2 id=\"extraction-package-installation\">Extraction Package Installation</h2>\n<p>Download the <code class=\"language-text\">bw_data_collector.zip</code> using the following direct link:</p>\n<p><a href=\"https://repository.brainwavegrc.com/Brainwave/-/packages/generic/brainwave_data_collector/1.4\">https://repository.brainwavegrc.com/Brainwave/-/packages/generic/brainwave_data_collector/1.4</a></p>\n<p><code class=\"language-text\">bw_data_collector.zip</code> should be unzipped in a folder that has write access as the PowerShell script generates the output, along with temporary files, inside the installation folder.</p>\n<blockquote>\n<p>[!warning] The most important and mandatory action to do after unzipping the package is to rename the file <code class=\"language-text\">config.json.example</code> to <code class=\"language-text\">config.json</code>.</p>\n</blockquote>\n<p>At the root of the installation folder, there are 2 files:</p>\n<ul>\n<li><code class=\"language-text\">bw_data_collector.ps1</code>: the main script to launch the extraction and create the output ZIP file expected by Identity Analytics Platform.</li>\n<li><code class=\"language-text\">config.json</code>: the configuration of each data source to extract. This was the file <code class=\"language-text\">config.json.example</code> in the installation package.</li>\n</ul>\n<p>Out of the box, the file <code class=\"language-text\">config.json</code> contains some sample configurations. It should be edited in order to describe how to extract the different data sources before trying to run the script <code class=\"language-text\">bw_data_collector.ps1</code>. The content of this file is explained in the next chapter.</p>\n<p>Once the configuration is done, the script can be executed. Two new folders are created after the first execution:</p>\n<ul>\n<li><code class=\"language-text\">temp</code> contains the output files for each data source</li>\n<li><code class=\"language-text\">output</code> contains the ZIP file to upload to Identity Analytics Platform.</li>\n</ul>\n<p>The <code class=\"language-text\">bw_data_collector.ps1</code> scripts builds the output ZIP that can be uploaded to the Identity Analytics platform either manually or automatically.</p>\n<h2 id=\"extraction-package-upgrade\">Extraction Package Upgrade</h2>\n<p>To upgrade the extraction package, follow these steps:</p>\n<ul>\n<li>Download the newest extraction package from the Cloud service.</li>\n<li>Unzip the file inside the installation directory to override all the script files of the previous version.</li>\n</ul>\n<p>The <code class=\"language-text\">config.json</code> is not overwritten because it is not part of the extraction package. Instead, there is <code class=\"language-text\">config.json.example</code> file. If the upgrade contains some new features there may be new configuration blocks in the <code class=\"language-text\">config.json.example</code> file.</p>\n<p>If new features need to be activated then the corresponding configuration blocks should be copied to the customized <code class=\"language-text\">config.json</code>.</p>\n<h2 id=\"prerequisites\">Prerequisites</h2>\n<h3 id=\"main-script\">Main script</h3>\n<p>The script <code class=\"language-text\">bw_data_collector.ps1</code> requires the following prerequisites in order to run:</p>\n<ul>\n<li>PowerShell 5.1 or greater</li>\n<li>.NET Framework 4.5 or greater</li>\n</ul>\n<h3 id=\"active-directory\">Active Directory</h3>\n<p>The Active Directory needs to be executed using a domain user account with at least \"read\" privilege on attributes.</p>\n<h3 id=\"event-logs\">Event logs</h3>\n<p>The script <code class=\"language-text\">bw_data_collector.ps1</code> can write events to windows event log. In order to activate event logs, a new source should be created in the event log.</p>\n<p>Open a Powershell as Administrator and run the following command:</p>\n\n          <codeblockcopytag>New-EventLog -Source &quot;Identity Analytics Extractor&quot; -LogName Application</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\"><span class=\"token function\">New-EventLog</span> <span class=\"token operator\">-</span>Source <span class=\"token string\">\"Identity Analytics Extractor\"</span> <span class=\"token operator\">-</span>LogName Application</code></pre></div>\n<h2 id=\"extraction-methodology\">Extraction Methodology</h2>\n<p>The first step is to identify all the sources to be extracted:</p>\n<ul>\n<li>Which directories are referenced in applications? Are the directories of type Active Directory? Each directory will have to be extracted to retrieve users and groups.</li>\n<li>where are the data sources to find organizational information about employees and contractors?</li>\n</ul>\n<p>The second step is to decide with which account to perform the extractions on the platform. This choice has to be made now.</p>\n<p>The extraction script can be launched manually in a command window or automatically in the Windows Task Scheduler or any other task launching tool. The different extractions as well as the zip file upload to the Identity Analytics platform require credentials that need to be encrypted on the extraction platform. The encryption depends on the account used and the machine. If you perform all credential encryption operations with a personal account, the extraction script will only work if it is run with this same account (to allow it to decrypt the credentials). Once the configuration has been fine-tuned, it is a good idea to add the script to the Windows task scheduler to run it on a regular basis (once a week for example). If a service account is used for this automatic launch, the script will fail because it will not be able to decrypt the credentials that have been encrypted with the personal account.</p>\n<p>All credentials will have to be re-encrypted with this service account. It is therefore preferable to encrypt all credentials with the service account from the start. To do this, all the operations described in this documentation must be performed in a powershell linked to the service account using the following command (example with the login user1 from ACME domain):</p>\n\n          <codeblockcopytag>runas.exe /user:ACME\\user1 powershell</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\">runas<span class=\"token punctuation\">.</span>exe <span class=\"token operator\">/</span>user:ACME\\user1 powershell</code></pre></div>\n<p>The third step is to set up all the extractions following the documentation. Generally speaking, this consists in encrypting the credentials that will be used and setting up the extraction in the <code class=\"language-text\">config.json</code> file:</p>\n<ul>\n<li>Set the credentials for the Active Directory extraction and then configure the extraction.</li>\n<li>Prepare the HR extraction either from an HR source or using Active Directory if no HR source is available.</li>\n</ul>\n<p>The fourth step is to test the extraction by running the <code class=\"language-text\">bw_data_collector</code> command. The result is a zip file that you can open to see what was extracted. If the zip is complete (AD or LDAP, HR), then you can proceed to the next step.</p>\n<p>The fifth step is to connect to the Identity Analytics platform and upload the zip to load it into the data cube. You can then browse the portal to check the data quality.</p>\n<p>The sixth step is to automate the data upload to the Identity Analytics platform. To do so, you will have to authorize the upload in the <code class=\"language-text\">config.json</code> file as well as in the Identity Analytics platform. After that, each run of the <code class=\"language-text\">bw_data_collector</code> command will produce the zip and send it automatically to the Identity Analytics platform.</p>\n<p>The seventh and final step is to schedule the execution every week. To do this, you need to add the execution of the <code class=\"language-text\">bw_data_collector</code> command to the task scheduler.</p>\n<h2 id=\"command-line\">Command line</h2>\n<p>The PowerShell script <code class=\"language-text\">bw_data_collector.ps1</code> has no parameter as the configuration is read from the configuration file <code class=\"language-text\">config.json</code>.</p>\n<p>To run the extractions and get the output ZIP file, open a PowerShell console, change the current directory to the installation folder and type the command:</p>\n\n          <codeblockcopytag>bw_data_collector</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\">bw_data_collector</code></pre></div>\n<blockquote>\n<p>[!note] Do not forget to run the command in a powershell window run as the desired service account.</p>\n</blockquote>\n<p>The script will execute the extractions described in the <code class=\"language-text\">config.json</code> file and create a ZIP file in the output folder.</p>\n<h3 id=\"configure-automatic-upload\">Configure automatic upload</h3>\n<p>To activate automatic upload of the extracted files you need to configure Powershell script authentication to the Identity Analytics platform, to do so, please follow these steps:</p>\n<ul>\n<li>Go to <code class=\"language-text\">https://{{HOSTNAME}}/auth</code> and login with <code class=\"language-text\">setup</code> account</li>\n<li>Select <code class=\"language-text\">Clients</code> menu, then click on <code class=\"language-text\">extractor</code> client id in the shown list</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1100px; z-index: -1\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.36363636363636%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB3UlEQVR42m1S227TQBD1fxTSOM6lbtokvUWF0vKGRKXyCbWl9n/6MzwhCqGEKrzxzhsqxCVO7FDf1l77dGYbkCM60tHMrr1nzpldTddraHe6qNcNrKw8wcnJG5yfncGyrH845WxbsG1brW3bWvpehma0TNQJT6s1rFYNfBxcIZU50ixDURQo8lzlnHKeF6rOcoDKR0M7fvUaxy+OcLS9h73nhxiNviISEu7Uw2w2xc3tFN9//MbEnUEIgYwaiTRVWUqpchnafv8ZDvr7WDc3sNbu4PNwqDrFcQJIgbffXFy8d+D4QimUpJSDFTPhfwpb7U3UWuuo1Bqo6HV8IMsc/DPbi6JYkXPNkVCdJAlSUslZjaUErUdWzXYXVaOJKpFeX48eCEk+eHZsiw4rNaX13wa8V4bGNo2mCZ0IK4ThgjBb2GGLrGZpvbiwRy9ls7eD7tYuVomsaTRwdTl4IAwCyChC6HuYuy4yqvM4RuT7mE9cpPSd95YQBtC2dvo4OHwJnVT26Ol8eXeJNBRI6KCkQ3eTCaY3PxHPPORhiIDW3thBQE28X2Oqx5jfOvCdMe4cB5q50UF3exdGY01ZHnwa0rMAwiDmq0QUhJh7Hv54Ps1OICZSVdMTkjzbEni+9wsximWbXjqbAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"List of Keycloak clients\"\n        title=\"\"\n        src=\"/static/dd47810673293b17478c6bd29944f045/28a3f/client-id-2.png\"\n        srcset=\"/static/dd47810673293b17478c6bd29944f045/88b8e/client-id-2.png 275w,\n/static/dd47810673293b17478c6bd29944f045/8c3ad/client-id-2.png 550w,\n/static/dd47810673293b17478c6bd29944f045/28a3f/client-id-2.png 1100w,\n/static/dd47810673293b17478c6bd29944f045/02f69/client-id-2.png 1394w\"\n        sizes=\"(max-width: 1100px) 100vw, 1100px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>Go to <code class=\"language-text\">Credentials</code> pane and copy <code class=\"language-text\">Client secret</code></li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1100px; z-index: -1\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABXklEQVR42n2R+06DMBSHeQ3jluwCYxfJpu4S3LIli/672zMb49gW9S00sLlIKfQGnhamJqJfSmlIf+c7LZpeM9u9gaEbhUJxOr1drlaz2WyxWKoxX5yY56GZjVapXDk7L5arxv3DYxSRw96L4EVIkiRxEsNI/kCbTO/69qg7uIHZcZwgCFzXffOOr97R9/0PBUIoUkBFmBljsUKzRxN7OLY61+2r3tPzC9TDGFPKCKVhGAYSDA9KUQsokIUhYzatYqlaqtYcZwNtQphzDklKaZLuUk3GGXIBciGEdtkdGPUWJCtGfbPdwSb4Cq2GOEz+Q5nNlgWxNLw9haE3MIs8OKWCcS5iIWKtaXVqjYuTeQthxhk07CvA/w3GISGB5wb743sIFYSW3nNZN6V5l5mB9Hy/zdnH9MLgzH17WDFkeL12sAQERN5yHsj3ESYHxCiYpVOv/7ywr9+Yj9Jypf4ErMD0xyrsSMEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Client credentials\"\n        title=\"\"\n        src=\"/static/918d577b12ffd9226e2b143515f81082/28a3f/secret-id.png\"\n        srcset=\"/static/918d577b12ffd9226e2b143515f81082/88b8e/secret-id.png 275w,\n/static/918d577b12ffd9226e2b143515f81082/8c3ad/secret-id.png 550w,\n/static/918d577b12ffd9226e2b143515f81082/28a3f/secret-id.png 1100w,\n/static/918d577b12ffd9226e2b143515f81082/2637b/secret-id.png 1356w\"\n        sizes=\"(max-width: 1100px) 100vw, 1100px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Navigate to the place where you unzipped <code class=\"language-text\">bw_data_collector.zip</code> file and open a terminal in that location.</p>\n<p>Execute the following command to add authentication attributes to <code class=\"language-text\">config.json</code> and create a secure file containing the copied <code class=\"language-text\">Client secret</code> from <code class=\"language-text\">Keycloack</code>.</p>\n\n          <codeblockcopytag>.\\bw_data_collector.ps1 -createCreds \\$true -hostname &quot;HOSTNAME&quot; -realmname &quot;brainwave&quot; -tls \\$true -clientid &quot;extractor&quot;</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\"><span class=\"token punctuation\">.</span>\\bw_data_collector<span class=\"token punctuation\">.</span>ps1 <span class=\"token operator\">-</span>createCreds <span class=\"token boolean\">$true</span> <span class=\"token operator\">-</span>hostname <span class=\"token string\">\"HOSTNAME\"</span> <span class=\"token operator\">-</span>realmname <span class=\"token string\">\"brainwave\"</span> <span class=\"token operator\">-</span>tls <span class=\"token boolean\">$true</span> <span class=\"token operator\">-</span>clientid <span class=\"token string\">\"extractor\"</span></code></pre></div>\n<p>Copy paste <code class=\"language-text\">Client secret</code> to the terminal when requested.</p>\n<p>The commend will:</p>\n<ul>\n<li>Store the <code class=\"language-text\">Client secret</code> in <code class=\"language-text\">creds.xml</code> as a PSCredential object in the same directory as <code class=\"language-text\">bw_data_collector.ps1</code></li>\n<li>Add <code class=\"language-text\">hostname, realmname, tls and clientid</code> parameters to the <code class=\"language-text\">config.json</code> file</li>\n<li>Set <code class=\"language-text\">disableUpload</code> parameter to false if it value is true</li>\n</ul>\n<blockquote>\n<p>[!warning]</p>\n<ul>\n<li>Value of <code class=\"language-text\">hostname</code> parameter should not contain <code class=\"language-text\">http</code> or <code class=\"language-text\">https</code>.</li>\n<li>To disable ssl set <code class=\"language-text\">-tls</code> parameter to <code class=\"language-text\">False</code>.</li>\n<li><code class=\"language-text\">creds.xml</code> can only be used by the user session and the machine where the file was created, to run <code class=\"language-text\">bw_data_collector.ps1</code> under another user account you should provide the <code class=\"language-text\">creds.xml</code> again to allow the script to creation a new <code class=\"language-text\">PSCredential</code> compatible with the desired user account.</li>\n</ul>\n</blockquote>\n<h3 id=\"configuration-file\">Configuration file</h3>\n<p>The script <code class=\"language-text\">bw_data_collector.ps1</code> reads a file called <code class=\"language-text\">config.json</code> containing all the actions to execute.</p>\n<p>Here is a sample of a configuration file:</p>\n\n          <codeblockcopytag>{\r\n  &quot;auth_hostname&quot;:  &quot;localhost&quot;,\r\n  &quot;auth_realmname&quot;:  &quot;brainwave&quot;,\r\n  &quot;auth_tls&quot;:  false,\r\n  &quot;disableUpload&quot;:  true,\r\n  &quot;outputDirectory&quot;:  &quot;C:\\\\Temp\\\\onezip&quot;,\r\n  &quot;notificationEmail&quot;:  &quot;user@company.local&quot;,\r\n  &quot;notificationLang&quot;:  &quot;en&quot;,\r\n  &quot;proxyUri&quot;:  &quot;&quot;,\r\n  &quot;proxyCredential&quot;:  &quot;&quot;,\r\n  &quot;zipOutputFiles&quot;:  true,\r\n  &quot;forceUpload&quot;:  false,\r\n  &quot;configs&quot;:  [\r\n    {\r\n      &quot;name&quot;:  &quot;hr-1&quot;,\r\n      &quot;enabled&quot;:  true,\r\n      &quot;file&quot;:  &quot;C:/Applications/OneZip/tests/data_copy/hr/*&quot;,\r\n      &quot;csv_converter_config&quot;:  &quot;./tools/bw_csv_converter_*/hr-template.properties&quot;,\r\n      &quot;folder&quot;:  &quot;hr&quot;,\r\n      &quot;action&quot;:  &quot;copy&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;:  &quot;application-1&quot;,\r\n      &quot;enabled&quot;:  true,\r\n      &quot;file&quot;:  &quot;C:/Applications/OneZip/tests/data_copy/applications/*.csv&quot;,\r\n      &quot;folder&quot;:  &quot;applications&quot;,\r\n      &quot;action&quot;:  &quot;copy&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;:  &quot;merge-1&quot;,\r\n      &quot;enabled&quot;:  true,\r\n      &quot;file&quot;:  &quot;./tests/data_copy/zip/Data.zip&quot;,\r\n      &quot;action&quot;:  &quot;merge&quot;\r\n    },\r\n    {\r\n      &quot;_comment&quot;:  &quot;Extract AD data of the current forest with the current Creds&quot;,\r\n      &quot;name&quot;:  &quot;ad-1&quot;,\r\n      &quot;enabled&quot;:  true,\r\n      &quot;script&quot;:  &quot;ad&quot;,\r\n      &quot;folder&quot;:  &quot;ad&quot;,\r\n      &quot;credential&quot;:  &quot;C:/Applications/OneZip/tests/creds/acme_credential.xml&quot;,\r\n      &quot;servers&quot;:  &quot;C:/Applications/OneZip/tests/config/domain_controller.txt&quot;,\r\n      &quot;action&quot;:  &quot;script&quot;\r\n    },\r\n    {\r\n      &quot;_comment&quot;:  &quot;Use AD as HR source, get users list using ad script&quot;,\r\n      &quot;name&quot;:  &quot;ad-hr-1&quot;,\r\n      &quot;enabled&quot;:  true,\r\n      &quot;script&quot;:  &quot;hr&quot;,\r\n      &quot;folder&quot;:  &quot;hr&quot;,\r\n      &quot;credential&quot;:  &quot;C:/Applications/OneZip/tests/creds/acme_credential.xml&quot;,\r\n      &quot;servers&quot;:  &quot;C:/Applications/OneZip/tests/config/domain_controller.txt&quot;,\r\n      &quot;csv_converter_config&quot;:  &quot;./tools/bw_csv_converter_*/adhr-template.properties&quot;,\r\n      &quot;action&quot;:  &quot;script&quot;\r\n    }\r\n  ]\r\n}\r\n</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">\"auth_hostname\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"localhost\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"auth_realmname\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"brainwave\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"auth_tls\"</span><span class=\"token operator\">:</span>  <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"disableUpload\"</span><span class=\"token operator\">:</span>  <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"outputDirectory\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"C:\\\\Temp\\\\onezip\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"notificationEmail\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"user@company.local\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"notificationLang\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"en\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"proxyUri\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"proxyCredential\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"zipOutputFiles\"</span><span class=\"token operator\">:</span>  <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"forceUpload\"</span><span class=\"token operator\">:</span>  <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"configs\"</span><span class=\"token operator\">:</span>  <span class=\"token punctuation\">[</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"hr-1\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"enabled\"</span><span class=\"token operator\">:</span>  <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"file\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"C:/Applications/OneZip/tests/data_copy/hr/*\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"csv_converter_config\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"./tools/bw_csv_converter_*/hr-template.properties\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"folder\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"hr\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"action\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"copy\"</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"application-1\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"enabled\"</span><span class=\"token operator\">:</span>  <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"file\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"C:/Applications/OneZip/tests/data_copy/applications/*.csv\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"folder\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"applications\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"action\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"copy\"</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"merge-1\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"enabled\"</span><span class=\"token operator\">:</span>  <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"file\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"./tests/data_copy/zip/Data.zip\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"action\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"merge\"</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">\"_comment\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"Extract AD data of the current forest with the current Creds\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"ad-1\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"enabled\"</span><span class=\"token operator\">:</span>  <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"script\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"ad\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"folder\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"ad\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"credential\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"C:/Applications/OneZip/tests/creds/acme_credential.xml\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"servers\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"C:/Applications/OneZip/tests/config/domain_controller.txt\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"action\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"script\"</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">\"_comment\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"Use AD as HR source, get users list using ad script\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"ad-hr-1\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"enabled\"</span><span class=\"token operator\">:</span>  <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"script\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"hr\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"folder\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"hr\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"credential\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"C:/Applications/OneZip/tests/creds/acme_credential.xml\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"servers\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"C:/Applications/OneZip/tests/config/domain_controller.txt\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"csv_converter_config\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"./tools/bw_csv_converter_*/adhr-template.properties\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"action\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"script\"</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">]</span>\r\n<span class=\"token punctuation\">}</span>\r\n</code></pre></div>\n<p>The main configuration parameters are:</p>\n<ul>\n<li><code class=\"language-text\">auth_hostname</code>: Hostname of the server on which to upload the files. This is the server running the selfmanaged solution</li>\n<li><code class=\"language-text\">auth_realmname</code>: The authorization realm name as defined in Keycloak. By default this value should be set to <code class=\"language-text\">brainwave</code></li>\n<li><code class=\"language-text\">auth_tls</code>: Upload using https. This is the recommended parameter to use un a Prod environment</li>\n<li><code class=\"language-text\">disableUpload</code>: boolean value to disable zip upload, should be false to activate upload.</li>\n<li><code class=\"language-text\">outputDirectory</code>: path where the zip will be generated, by default the zip will be stored in root directory under <code class=\"language-text\">output</code> folder, this parameter should be set on decentralized extraction environment to be able to move the generated Zip file to a desired directory (ex:a shared folder).</li>\n<li><code class=\"language-text\">notificationEmail</code>: Email of the person to notify in case of success or failure of the upload</li>\n<li><code class=\"language-text\">notificationLang</code>: Email notification language. Supported locals are <code class=\"language-text\">fr</code> and <code class=\"language-text\">en</code></li>\n<li><code class=\"language-text\">zipFileName</code>: parameter to set the Zip file name without the extension, default value is <code class=\"language-text\">DataFile</code>.</li>\n<li><code class=\"language-text\">proxyUri</code>: parameter to set a proxy URL if needed.</li>\n<li><code class=\"language-text\">proxyCredential</code>: parameter to set a PScredential file path for proxy authentication if needed, if not set current user credential will be used.</li>\n<li><code class=\"language-text\">zipOutputFiles</code>: Boolean to toggle the creation of a Zip archive of on upload</li>\n<li><code class=\"language-text\">forceUpload</code>: Force the upload of the importfiles even if an extraction failed.</li>\n</ul>\n<blockquote>\n<p>[!warning] In the case of an instance running the script to upload to an EOC environment changes are required in the config.json file:</p>\n<ul>\n<li><code class=\"language-text\">auth_hostname</code>: The base URL to the EOC environment. For example: <code class=\"language-text\">\"auth_hostname\": \"ia-rlqa-usw2.dev01.radiantlogic.io\",</code></li>\n<li><code class=\"language-text\">auth_realmname</code>: The environment name that is used to provision the authorization realm. For example: <code class=\"language-text\">\"auth_realmname\": \"rlqa-usw2-mq01\",</code></li>\n</ul>\n<p>An additional parameter is required to allow to upload the files to the correct authorization context:</p>\n<ul>\n<li><code class=\"language-text\">auth_context</code>: This value should be set to the environment name. For example: <code class=\"language-text\">\"auth_context\": \"rlqa-usw2-mq01\",</code></li>\n</ul>\n</blockquote>\n<p>The <code class=\"language-text\">config.json</code> should contain different sections under <strong>configs</strong> block:</p>\n<ul>\n<li>HR data files to copy.</li>\n<li>LDAP data file files to copy.</li>\n<li>AD extraction parameters.</li>\n</ul>\n<p>Each JSON block describes an action to perform by the script <code class=\"language-text\">bw_data_collector.ps1</code>.</p>\n<p>The action attribute is mandatory and can be:</p>\n<ul>\n<li><code class=\"language-text\">copy</code>: it requests the script <code class=\"language-text\">bw_data_collector.ps1</code> to copy a file from another location to the temp folder. This is the way other data sources can be embedded in the output ZIP file.</li>\n<li><code class=\"language-text\">script</code>: it requests the script <code class=\"language-text\">bw_data_collector.ps1</code> to launch a built-in extractor to extract a known data source and put the output file(s) into the temp folder.</li>\n<li><code class=\"language-text\">merge</code>: it requests the script <code class=\"language-text\">bw_data_collector.ps1</code> to unzip an existing archive to the temp folder, see <strong>Decentralized Extractions</strong> section for more details.</li>\n</ul>\n<p>The folder attribute is the destination folder inside the temp folder. The accepted values are:</p>\n<ul>\n<li><code class=\"language-text\">hr</code>: This folder should contain all the HR files about identities, organizations... There can be multiple files if the identities are split into multiple files (for example employees in a first file and contractors in another file).</li>\n<li><code class=\"language-text\">ad</code>: This is the folder that should be used as the output when extracting Active Directory.</li>\n<li><code class=\"language-text\">ldap</code>: This is the folder that should contain LDIF files of LDAP severs different from Active Directory.</li>\n</ul>\n<blockquote>\n<p>The folder attribute may contain any value but only the folder specified above will be scanned and loaded in the Identity Analytics data cube. All the files located in an unknown folder will be ignored.</p>\n</blockquote>\n<p>To disable a copy or a built-in script, you may remove the section from the <code class=\"language-text\">config.json</code> file or change the enable attribute to \"false\". The section will be ignored when the script <code class=\"language-text\">bw_data_collector.ps1</code> is executed.</p>\n<p>The attribute name and <code class=\"language-text\">_comment</code> are not used to identify and document each section. This information is not used by Identity Analytics Platform. The comment is used to describe the data source and the action. The name is an identifier that is used in the log file to reference the section if an error is encountered while performing the action.</p>\n<blockquote>\n<p>The values for attributes <code class=\"language-text\">action</code>, <code class=\"language-text\">folder</code>, <code class=\"language-text\">script</code> and <code class=\"language-text\">enabled</code> should be written in lower case.</p>\n</blockquote>\n<h2 id=\"extractions\">Extractions</h2>\n<h3 id=\"external-extractions\">External Extractions</h3>\n<p>The script <code class=\"language-text\">bw_data_collector.ps1</code> allows to add in the ZIP file some data sources that are generated by extractors not provided by Identity Analytics. This is useful for the following types of data:</p>\n<ul>\n<li>HR data,</li>\n<li>Application data.</li>\n<li>LDAP data ( not from Active Directory)</li>\n</ul>\n<p>The HR and application extraction files must conform to a format and an encoding. The following chapters detail the expected formats.</p>\n<p>Extractions can be done manually or through an automated process. A section in <code class=\"language-text\">config.json</code> must be modified or added to indicate an action to copy a file to the \"hr\" or \"applications\" folder.<br>\nIn the following example, we consider that the contractors are collected via a process not described here but which provides a file in the format expected by Identity Analytics Platform.</p>\n\n          <codeblockcopytag>{\r\n  &quot;_comment&quot;: &quot;Embed the contractor file into the output ZIP file&quot;,\r\n  &quot;name&quot;: &quot;hr-2&quot;,\r\n  &quot;enabled&quot;: true,\r\n  &quot;file&quot;: &quot;C:/HR/extract-current/contractors.csv&quot;,\r\n  &quot;folder&quot;: &quot;hr&quot;,\r\n  &quot;action&quot;: &quot;copy&quot;\r\n},</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">\"_comment\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Embed the contractor file into the output ZIP file\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hr-2\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"enabled\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"file\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"C:/HR/extract-current/contractors.csv\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"folder\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hr\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"action\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"copy\"</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<blockquote>\n<p>[!note] The extracted file must be accessible on the disk (or on a network disk) from the computer where the script <code class=\"language-text\">bw_data_collector.ps1</code> is executed.</p>\n</blockquote>\n<p>This configuration section requests the <code class=\"language-text\">bw_data_collector.ps1</code> script to copy the file <code class=\"language-text\">C:/HR/extract-current/contractors.csv</code> to the \"hr\" folder so that it can be included in the output ZIP.</p>\n<p>If this file is generated with an extraction script on a different computer than the one where <code class=\"language-text\">bw_data_collector.ps1</code> is installed, you have to make sure that the file is transferred into the <code class=\"language-text\">C:/HR/extract-current</code> folder and is called <code class=\"language-text\">contractors.csv</code>.</p>\n<p>If the external extraction script can be run on the same computer, then it must be executed before bw_data_collector.ps1.</p>\n<h3 id=\"ldap-extractions\">LDAP extractions</h3>\n<p>Identity Analytics Platform supports to load data related to accounts, groups and group members using standard LDIF files. If you are using Active Directory, the Identity Analytics Platform provides the script that can handle the data extraction automatically, more information on the next section.</p>\n<p>If the data does not come from Active Directory, the LDIF file can be included into the ZIP file. Example:</p>\n\n          <codeblockcopytag>{\r\n  &quot;_comment&quot;: &quot;Embed the LDIF into the output ZIP file&quot;,\r\n  &quot;name&quot;: &quot;domain&quot;,\r\n  &quot;enabled&quot;: true,\r\n  &quot;file&quot;: &quot;C:/LDAP/extract-current/domain.ldif&quot;,\r\n  &quot;folder&quot;: &quot;ldap&quot;,\r\n  &quot;action&quot;: &quot;copy&quot;\r\n},</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">\"_comment\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Embed the LDIF into the output ZIP file\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"domain\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"enabled\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"file\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"C:/LDAP/extract-current/domain.ldif\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"folder\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ldap\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"action\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"copy\"</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>Identity Analytics Platform supports LDIF files that use the encoding <strong>ISO-8859-1</strong>.</p>\n<p>To identify the <strong>accounts</strong>, entries are filter by objectclass: user or person or inetorgperson. The ldap attributes that are used for the accounts are:</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Field</th>\n<th align=\"left\">LDAP Attribute</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">key</td>\n<td align=\"left\">dn or distinguishedname</td>\n</tr>\n<tr>\n<td align=\"left\">Given name</td>\n<td align=\"left\">givenname</td>\n</tr>\n<tr>\n<td align=\"left\">Surname</td>\n<td align=\"left\">sn</td>\n</tr>\n<tr>\n<td align=\"left\">Mail</td>\n<td align=\"left\">mail</td>\n</tr>\n<tr>\n<td align=\"left\">Login</td>\n<td align=\"left\">samaccountname or uid or cn</td>\n</tr>\n<tr>\n<td align=\"left\">Username</td>\n<td align=\"left\">displayname or '{givenname} {sn}' if they are not empty, or samaccountname or cn or uid</td>\n</tr>\n<tr>\n<td align=\"left\">Expire date</td>\n<td align=\"left\">loginexpirationtime</td>\n</tr>\n</tbody>\n</table>\n<p>To identify the <strong>groups</strong>, entries are filter by objectclass: group or groupofnames or groupofuniquenames. The ldap attributes that are used for the groups are:</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Field</th>\n<th align=\"left\">LDAP Attribute</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">Code</td>\n<td align=\"left\">dn or distinguishedname</td>\n</tr>\n<tr>\n<td align=\"left\">Display name</td>\n<td align=\"left\">samaccountname or cn or uid</td>\n</tr>\n<tr>\n<td align=\"left\">Description</td>\n<td align=\"left\">description</td>\n</tr>\n<tr>\n<td align=\"left\">Members</td>\n<td align=\"left\">member or uniquemember</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"active-directory-extractions\">Active Directory Extractions</h3>\n<p>Identity Analytics Platform requires an extraction of accounts and groups from Active Directory.</p>\n<p>The script <code class=\"language-text\">bw_data_collector.ps1</code> performs the Active Directory extraction and adds the output files into the ZIP file. The PowerShell script can be configured to extract several domains.</p>\n<p>Only one configuration section is needed to extract Active Directory even if there are multiple domains. The technical account used to run the script must have enough privileges to read the Active Directory content.</p>\n<p>Out of the box, the configuration section for Active Directory does not contain information about the credentials to use or the filtering to apply or the domains to extract. There is a list of options to add to the section in order to specify how the Active Directory extraction should be done.</p>\n<ul>\n<li>\n<p><code class=\"language-text\">filter</code>: An LDAP filter by default it is:</p>\n<ul>\n<li><code class=\"language-text\">((objectcategory=Person)(objectclass=group))</code></li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">ouFilter</code>: Filter on a specific organizationalUnit, should be a valid organizational Unit DN for example: <code class=\"language-text\">OU=Internal Users,DC=intra,DC=test,DC=local</code></p>\n</li>\n</ul>\n<blockquote>\n<p>This filter will apply on all domains if script launched on several servers (with <code class=\"language-text\">--server</code> option).</p>\n</blockquote>\n<ul>\n<li>\n<p><code class=\"language-text\">attributesfile</code>: File that contains the attribute names to include in the extraction (by default, <code class=\"language-text\">attributes.cfg</code>). For example: <code class=\"language-text\">attributes.txt</code> where it contains an attribute in each line. By default, this option contains the following attribute names:</p>\n<ul>\n<li>objectcategory</li>\n<li>objectguid</li>\n<li>objectsid</li>\n<li>sidhistory</li>\n<li>member</li>\n<li>objectclass</li>\n<li>accountexpires</li>\n<li>badpwdcount</li>\n<li>displayname</li>\n<li>givenname</li>\n<li>lastlogon</li>\n<li>logoncount</li>\n<li>lastlogontimestamp</li>\n<li>mail</li>\n<li>manager</li>\n<li>pwdlastset</li>\n<li>samaccountname</li>\n<li>sn</li>\n<li>whencreated</li>\n<li>useraccountcontrol</li>\n<li>createtimestamp</li>\n<li>description</li>\n<li>grouptype</li>\n<li>managedby</li>\n<li>modifytimestamp</li>\n<li>legacyexchangedn</li>\n<li>PrimaryGroupID</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">servers</code>: File that contains in each line a name of an AD server, if the file is not specified, the script will extract all the ActiveDirectory domains data in the current forest.</p>\n</li>\n<li>\n<p><code class=\"language-text\">credential</code>: File containing PSCredential used to extract objects in ActiveDirectory, see example to create and store PSCredential object to a file, if not set current session credential will be used.</p>\n</li>\n<li>\n<p><code class=\"language-text\">logLevel</code>: This parameters allow to specify a log level. The default value is <code class=\"language-text\">Error</code>.Possible values are:</p>\n<ul>\n<li>Error</li>\n<li>Warning</li>\n<li>Info</li>\n<li>Debug</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">errAction</code>: Specify the action to perform if an error occur. The default value is <code class=\"language-text\">Stop</code>. The possible values are:</p>\n<ul>\n<li>Continue</li>\n<li>SilentlyContinue</li>\n<li>Stop</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">port</code>: LDAP server port. The default value is 389.</p>\n</li>\n<li>\n<p><code class=\"language-text\">authType</code>: Authentication method to use in LDAP connection, for more details refer to <a href=\"https://msdn.microsoft.com/fr-fr/library/system.directoryservices.protocols.authtype(v=vs.110).aspx\">https://msdn.microsoft.com/fr-fr/library/system.directoryservices.protocols.authtype(v=vs.110).aspx</a></p>\n</li>\n<li>\n<p><code class=\"language-text\">useSSL</code>: Boolean value to activate SecureSocketLayer on LDAP connection. The default value is 'False'.</p>\n</li>\n</ul>\n<p>Here is a sample of the configuration to extract two servers:</p>\n\n          <codeblockcopytag>{\r\n  &quot;_comment&quot;: &quot;Extarct AD data of the current forest with the current Creds&quot;,\r\n  &quot;name&quot;: &quot;ad-1&quot;,\r\n  &quot;enabled&quot;: true,\r\n  &quot;folder&quot;: &quot;ad&quot;,\r\n  &quot;action&quot;: &quot;script&quot;,\r\n  &quot;servers&quot;: &quot;C:/extract_ad/servers.txt&quot;\r\n},</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">\"_comment\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Extarct AD data of the current forest with the current Creds\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ad-1\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"enabled\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"folder\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ad\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"action\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"script\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"servers\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"C:/extract_ad/servers.txt\"</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>The file servers.txt referenced in the \"servers\" option contains the following lines:</p>\n\n          <codeblockcopytag>server1\r\nserver2</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">server1\r\nserver2</code></pre></div>\n<h3 id=\"hr-extractions-from-active-directory\">HR Extractions from Active Directory</h3>\n<p>Usually, the identities are extracted from the HR database but the contractors are not part of the HR database. They may be present in Active Directory as accounts.\r\nActive Directory can also be used to deduce identities from the accounts (employees and/or contractors) if Active Directory is the only repository that contains the contractors' accounts.</p>\n<p>The script <code class=\"language-text\">bw_data_collector.ps1</code> meets both needs:</p>\n<ul>\n<li>the need to feed the Identity Analytics data cube with Active Directory accounts and groups. This is performed using a section in the configuration named \"ad-1\", and</li>\n<li>the need to populate the Identity Analytics data cube with identities from Active Directory. This is performed using a section in the configuration named \"ad-hr-1\".</li>\n</ul>\n<p>In order to extract identities from Active Directory accounts, the section \"ad-hr-1\" should be enabled by changing the \"enabled\" flag to true.</p>\n\n          <codeblockcopytag>{\r\n  &quot;_comment&quot;: &quot;Use AD as HR source, get users list using ad script&quot;,\r\n  &quot;name&quot;: &quot;ad-hr-1&quot;,\r\n  &quot;enabled&quot;: true,\r\n  &quot;folder&quot;: &quot;hr&quot;,\r\n  &quot;action&quot;: &quot;script&quot;\r\n},</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">\"_comment\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Use AD as HR source, get users list using ad script\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ad-hr-1\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"enabled\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"folder\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hr\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"action\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"script\"</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>By default, the script will use the following attributes mapping between HR attributes (csv file header) and Active Directory attributes.</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">HR attribute</th>\n<th align=\"left\">AD attribute</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">hrcode</td>\n<td align=\"left\">samaccountname</td>\n</tr>\n<tr>\n<td align=\"left\">givenname</td>\n<td align=\"left\">givenname</td>\n</tr>\n<tr>\n<td align=\"left\">surname</td>\n<td align=\"left\">sn</td>\n</tr>\n<tr>\n<td align=\"left\">altname</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">fullname</td>\n<td align=\"left\">displayname</td>\n</tr>\n<tr>\n<td align=\"left\">titlecode</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">mail</td>\n<td align=\"left\">mail</td>\n</tr>\n<tr>\n<td align=\"left\">phone</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">mobile</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">internal</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">employeetype</td>\n<td align=\"left\">employeetype</td>\n</tr>\n<tr>\n<td align=\"left\">arrivaldate</td>\n<td align=\"left\">createtimestamp</td>\n</tr>\n<tr>\n<td align=\"left\">departuredate</td>\n<td align=\"left\">accountexpires</td>\n</tr>\n<tr>\n<td align=\"left\">Jobtitlecode</td>\n<td align=\"left\">title</td>\n</tr>\n<tr>\n<td align=\"left\">jobtitledisplayname</td>\n<td align=\"left\">title</td>\n</tr>\n<tr>\n<td align=\"left\">organisationcode</td>\n<td align=\"left\">department</td>\n</tr>\n<tr>\n<td align=\"left\">organisationshortname</td>\n<td align=\"left\">department</td>\n</tr>\n<tr>\n<td align=\"left\">organisationdisplayname</td>\n<td align=\"left\">department</td>\n</tr>\n<tr>\n<td align=\"left\">organisationtype</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">Parentorganisationcode</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">linemanager</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">managedorgcode</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">analyticsgroup</td>\n<td align=\"left\"></td>\n</tr>\n</tbody>\n</table>\n<p>Some options are also available to change the behavior of the extraction. The options are very similar to the Active Directory extraction for users and groups. For this HR extraction from Active Directory, all the options described for the users and groups extraction may be used plus one more: <code class=\"language-text\">customHrAttributes</code>. The following section shows all options and their description</p>\n<ul>\n<li>\n<p><code class=\"language-text\">filter</code>: An LDAP filter by default it is:<code class=\"language-text\">(objectcategory=Person)</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">ouFilter</code>: Filter on a specific organizationalUnit, should be a valid organizational Unit DN. example: <code class=\"language-text\">OU=Internal Users,DC=intra,DC=test,DC=local</code></p>\n</li>\n</ul>\n<blockquote>\n<p>This filter will apply on all domains if script launched on several servers (with <code class=\"language-text\">--server</code> option).</p>\n</blockquote>\n<ul>\n<li>\n<p><code class=\"language-text\">attributesfile</code>: File that contains the attribute names to include in the extraction (by default, <code class=\"language-text\">attributes.cfg</code>).</p>\n<ul>\n<li>For example: <code class=\"language-text\">attributes.txt</code> where it contains an attribute in each line for example:\n<ul>\n<li>dn</li>\n<li>objectclass</li>\n<li>accountexpires</li>\n<li>givenname</li>\n</ul>\n</li>\n<li>By default, this option contains the following attribute names:\n<ul>\n<li>objectcategory</li>\n<li>objectguid</li>\n<li>objectsid</li>\n<li>sidhistory</li>\n<li>member</li>\n<li>objectclass</li>\n<li>accountexpires</li>\n<li>badpwdcount</li>\n<li>displayname</li>\n<li>givenname</li>\n<li>lastlogon</li>\n<li>logoncount</li>\n<li>lastlogontimestamp</li>\n<li>mail</li>\n<li>manager</li>\n<li>pwdlastset</li>\n<li>samaccountname</li>\n<li>sn</li>\n<li>whencreated</li>\n<li>useraccountcontrol</li>\n<li>createtimestamp</li>\n<li>description</li>\n<li>grouptype</li>\n<li>managedby</li>\n<li>modifytimestamp</li>\n<li>legacyexchangedn</li>\n<li>PrimaryGroupID</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">servers</code>: File that contains in each line a name of an AD server, if the file is not specified, the script will extract all the ActiveDirectory domains data in the current forest.</p>\n</li>\n<li>\n<p><code class=\"language-text\">credential</code>: File containing PSCredential used to extract objects in ActiveDirectory, see example to create and store PSCredential object to a file, if not set current session credential will be used.</p>\n</li>\n<li>\n<p><code class=\"language-text\">logLevel</code>: This parameters allow to specify a log level. The default value is <code class=\"language-text\">Error</code>.Possible values are:</p>\n<ul>\n<li>Error</li>\n<li>Warning</li>\n<li>Info</li>\n<li>Debug</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">errAction</code>: Specify the action to perform if an error occur. The default value is <code class=\"language-text\">Stop</code>. The possible values are:</p>\n<ul>\n<li>Continue</li>\n<li>SilentlyContinue</li>\n<li>Stop</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">port</code>: LDAP server port. The default value is 389.</p>\n</li>\n<li>\n<p><code class=\"language-text\">authType</code>: Authentication method to use in LDAP connection, for more details refer to [<a href=\"https://msdn.microsoft.com/fr-fr/library/system.directoryservices.protocols.authtype(v=vs.110).aspx\">https://msdn.microsoft.com/fr-fr/library/system.directoryservices.protocols.authtype(v=vs.110).aspx</a>]</p>\n</li>\n<li>\n<p><code class=\"language-text\">useSSL</code>: Boolean value to activate SecureSocketLayer on LDAP connection. The default value is 'False'.</p>\n</li>\n<li>\n<p><code class=\"language-text\">customHrAttributes</code>: Path to a file that contains a custom mapping between HR attributes and AD attributes.</p>\n</li>\n</ul>\n<p>The file specified in the option <code class=\"language-text\">customHrAttributes</code> can be used to override the default mapping. The file must be a CSV file and have the following format:</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">hr_attribute</th>\n<th align=\"left\">ad_attribute</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">hrcode</td>\n<td align=\"left\">sn</td>\n</tr>\n<tr>\n<td align=\"left\">altname</td>\n<td align=\"left\">SAMaccountname</td>\n</tr>\n</tbody>\n</table>\n<p>The csv delimiter should be <code class=\"language-text\">;</code>and the header must be:</p>\n<ul>\n<li><code class=\"language-text\">hr_attribute</code>: name of HR attribute, must be part of CSV header</li>\n<li><code class=\"language-text\">ad_attribute</code>: name of AD attribute, must be a valid AD attribute</li>\n</ul>\n<h2 id=\"active-directory-credentials\">Active Directory Credentials</h2>\n<p>To use a specific account to perform the Active Directory extraction (wether users/groups or identities), you can prepare a credential file</p>\n<p>The following command shows how to create a PSCredential and store it in a file called credential.xml. The password will automatically be encrypted by powershell API. The generated file can only work using the local machine and user session used to create it.</p>\n\n          <codeblockcopytag>Get-Credential -UserName test\\local -Message &quot;Credential&quot; | Export-CliXml credential.xml</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\"><span class=\"token function\">Get-Credential</span> <span class=\"token operator\">-</span>UserName test\\local <span class=\"token operator\">-</span>Message <span class=\"token string\">\"Credential\"</span> <span class=\"token punctuation\">|</span> <span class=\"token function\">Export-CliXml</span> credential<span class=\"token punctuation\">.</span>xml</code></pre></div>\n<blockquote>\n<p>[!note] Do not forget to run the command in a powershell on the behalf of a service account.</p>\n</blockquote>\n<h2 id=\"task-scheduler-and-credentials\">Task Scheduler and Credentials</h2>\n<p>The script <code class=\"language-text\">bw_data_collector.ps1</code> can be executed on a regular basis. A task can be created in the Windows Task Scheduler.</p>\n<p>Depending on the sections activated in the configuration, the script <code class=\"language-text\">bw_data_collector.ps1</code> may need to be run as an administrator.\r\nThis is important if local accounts and groups have to be extracted from the Windows servers.</p>\n<p>If several scripts need to be run in order to get all the extractions, the recommended method is to leave the script <code class=\"language-text\">bw_data_collector.ps1</code> without modification. It should be kept untouched to simplify future upgrades. The simplest method is as follows:\r\nCreate a PS1 main script that calls all your custom scripts and, at last, calls bw_data_collector.ps1. Your main script is the one to install in the Windows Task Scheduler if it should run on a regular basis.</p>\n<p>There are situations that do not allow to chain all extraction scripts. This is the case when each script has to be executed with different technical accounts. In our example with the contractors extraction, it is recommended to set up two tasks in the Windows Task Scheduler:</p>\n<ul>\n<li>One task extracts the contractors using a technical account.</li>\n<li>One hour later, a second task calls <code class=\"language-text\">bw_data_collector.ps1</code> to create the output ZIP with another technical account.</li>\n</ul>\n<h2 id=\"csv-data-conversion\">CSV data conversion</h2>\n<p>In case if you have some data files that should be edited to match the requested schema and data format, Identity Analytics provide a csv converter tool that allow you through Javascript expressions to build a new CSV file based on another one</p>\n<p>You can activate the csv converter by adding the parameter <code class=\"language-text\">csv_converter_config</code> on actions copy or script, this path should point to properties file containing the conversion options</p>\n\n          <codeblockcopytag>{\r\n  &quot;name&quot;: &quot;hr-1&quot;,\r\n  &quot;enabled&quot;: false,\r\n  &quot;file&quot;: &quot;./tests/data_copy/hr/*.xlsx&quot;,\r\n  &quot;folder&quot;: &quot;hr&quot;,\r\n  &quot;csv_converter_config&quot;: &quot;./tools/bw_csv_converter_*/hr-template.properties&quot;,\r\n  &quot;action&quot;: &quot;copy&quot;\r\n},</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hr-1\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"enabled\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"file\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./tests/data_copy/hr/*.xlsx\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"folder\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hr\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"csv_converter_config\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./tools/bw_csv_converter_*/hr-template.properties\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"action\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"copy\"</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>Please refer to the bw_csv_converter tool for more details and examples</p>\n<p>The documentation is situated in extraction package under tools/bw_csv_converter_*/doc/bw_csv_converter.pdf</p>\n<h2 id=\"output-zip-file-content\">Output ZIP File Content</h2>\n<p>The output ZIP file contains different folders for each kind of data source.</p>\n<blockquote>\n<p><strong>Warning:</strong> One very important point is to have all the extraction folders at the root of the ZIP file. If it is needed to change the content of the ZIP file to manually add or replace a file, then be careful to pay attention to keep the extraction folders (hr, ad, applications...) at the root. An intermediate folder can appear if the ZIP file is created from a parent folder.</p>\n</blockquote>\n<p>Despite the data source folders, there is a \"logs\" folder and a status file called \"status.csv\".\r\nThe file \"status.csv\" contains a line per action and the result status.</p>\n<h2 id=\"decentralized-extractions\">Decentralized Extractions</h2>\n<p>In some situations, the extractions of all the resources can not be performed from a single location. Some Domains may not be reachable.</p>\n<p>To overcome this issue, the extraction package should be installed on another server (called secondary server) that has access to the other resources. Then the configuration file <code class=\"language-text\">config.json.example</code> should be renamed to config.json.</p>\n<p>The upload should be disabled on the secondary server</p>\n<p>The configuration file on the secondary server should be edited to enable only the extractions that are missing from the original location.</p>\n<p>The output ZIP file should be transfered to the server where the main extraction script is installed. Or set the output directory of secondary extraction to a share drive that the main server can access.</p>\n<p>The <code class=\"language-text\">config.json</code> file on the main server should have a merge action that will take the generated ZIP file, unzip it in the working directory and add the files to the main output ZIP file.</p>\n<p>Example of secondary extraction config file</p>\n\n          <codeblockcopytag>{\r\n  &quot;disableUpload&quot;: true,\r\n  &quot;outputDirectory&quot;: &quot;R:/shared/zipFolder&quot;,\r\n  &quot;zipFileName&quot;: &quot;RandD_ENV&quot;,\r\n  &quot;configs&quot;: [\r\n    {\r\n      &quot;_comment&quot;: &quot;Extract an AD from another area of the network&quot;,\r\n      &quot;name&quot;: &quot;ad-2&quot;,\r\n      &quot;enabled&quot;: true,\r\n      &quot;folder&quot;: &quot;ad&quot;,\r\n      &quot;action&quot;: &quot;script&quot;\r\n    },\r\n  ]\r\n}</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">\"disableUpload\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"outputDirectory\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"R:/shared/zipFolder\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"zipFileName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"RandD_ENV\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"configs\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">\"_comment\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Extract an AD from another area of the network\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ad-2\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"enabled\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"folder\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ad\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"action\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"script\"</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">]</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This config will allow to extarct only AD data and generate <code class=\"language-text\">RandD_ENV.zip</code> under <code class=\"language-text\">R:\\shared\\zipFolder</code> directory</p>\n<p>Example of main extraction config file</p>\n\n          <codeblockcopytag>{\r\n  &quot;disableUpload&quot;: false,\r\n  &quot;configs&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;hr-1&quot;,\r\n      &quot;enabled&quot;: true,\r\n      &quot;file&quot;: &quot;../../importfiles/test-file-copy/hr/*.xlsx&quot;,\r\n      &quot;folder&quot;: &quot;hr&quot;,\r\n      &quot;action&quot;: &quot;copy&quot;\r\n    },\r\n    {\r\n      &quot;_comment&quot;: &quot;Extract AD data of the current forest with the current credentials&quot;,\r\n      &quot;name&quot;: &quot;ad-1&quot;,\r\n      &quot;enabled&quot;: true,\r\n      &quot;folder&quot;: &quot;ad&quot;,\r\n      &quot;action&quot;: &quot;script&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;merge-secondary-extraction&quot;,\r\n      &quot;enabled&quot;: true,\r\n      &quot;file&quot;: &quot;R:/shared/zipFolder/RandD_ENV.zip&quot;,\r\n      &quot;action&quot;: &quot;merge&quot;\r\n    }\r\n  ]\r\n}</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">\"disableUpload\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"configs\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hr-1\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"enabled\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"file\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"../../importfiles/test-file-copy/hr/*.xlsx\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"folder\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hr\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"action\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"copy\"</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">\"_comment\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Extract AD data of the current forest with the current credentials\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ad-1\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"enabled\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"folder\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ad\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"action\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"script\"</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"merge-secondary-extraction\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"enabled\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"file\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"R:/shared/zipFolder/RandD_ENV.zip\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"action\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"merge\"</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">]</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This config will copy hr files, extarct ActiveDirectory data from current domain, unzip the content of <code class=\"language-text\">RandD_ENV.zip</code> to the working directory and upload the resulting zip file to the Identity Analytics Platform.</p>\n<h3 id=\"hr-configuration-example\">HR Configuration Example</h3>\n<p>This example demonstrates how to configure a HR extraction from AD executed on a secondary server. On this server a configuration section has been enabled to run the script to get identities from Active Directory users:</p>\n\n          <codeblockcopytag>{\r\n  &quot;_comment&quot;: &quot;Use AD as HR source, get users list using ad script&quot;,\r\n  &quot;name&quot;: &quot;ad-hr-1&quot;,\r\n  &quot;enabled&quot;: true,\r\n  &quot;folder&quot;: &quot;hr&quot;,\r\n  &quot;action&quot;: &quot;script&quot;\r\n},</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">\"_comment\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Use AD as HR source, get users list using ad script\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ad-hr-1\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"enabled\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"folder\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hr\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"action\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"script\"</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>The output ZIP file should be copied either manually or automatically to the main server. The ZIP file should be unzipped into a folder. In this example, the output ZIP file is unzipped into the folder <code class=\"language-text\">C:\\transfer\\extraction</code>. On the main server, the configuration block is enabled. It requests a copy of the file containing the HR data extracted from the domain ACME.</p>\n\n          <codeblockcopytag>{\r\n  &quot;_comment&quot;: &quot;Copy the HR file generated on another platform&quot;,\r\n  &quot;name&quot;: &quot;ad-hr-1&quot;,\r\n  &quot;enabled&quot;: true,\r\n  &quot;folder&quot;: &quot;hr&quot;,\r\n  &quot;action&quot;: &quot;copy&quot;,\r\n  &quot;file&quot;: &quot;C:/transfer/extraction/acme.csv&quot;\r\n},</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">\"_comment\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Copy the HR file generated on another platform\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ad-hr-1\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"enabled\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"folder\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hr\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"action\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"copy\"</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token property\">\"file\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"C:/transfer/extraction/acme.csv\"</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<h2 id=\"file-formats\">File Formats</h2>\n<p>For the HR data, one or more Excel or CSV files is needed. For example, one Excel file can contain the employees, while another can contain the contractors. An Excel file template and a CSV file are available in the service. After deleting the example data, it will be necessary to download and integrate the HR data into one of these templates. They contain columns for descriptions of the identities as well as their attachment to an organization. They also contain the ability to describe the hierarchy of organizations which is important for the analysis.</p>\n<h3 id=\"hr-file-format\">HR File Format</h3>\n<p>The HR file template is an Excel file containing columns that are mostly optional. A CSV file template is also available with the same columns. The CSV file must be in UTF-8 format (with or without BOM header). However, it is recommended that as many characteristics as possible are gathered in order to have complete information. The HR extraction from an HR database is shown in the top branch in the following diagram:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; z-index: -1\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35.27272727272727%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABQUlEQVR42o1RTUvDQBDNn/Gf+CO8exbx4NWLJymCf0D0oFgPXkR7rhQUCtJWFNNY09oa0iRN3Xxu87H73GxrSwsFH8xh37zZeTOj7F42cXDzhgLjMEHpvo3HjivfnGMJxXuVW80pexctbB7VYPxQmITi1fBRrqrQjbEUMsanYvwPCk0ZKi0TJE7nZKNjoWd5i84zvt0foaGZiEVNmrOZNdFUxMvAk6aUhWUuElwW/wl6ToSuHUIzA6hmiJPyE3aO71DXx+hYIQZujHcxUVV1sH3WxOFtG0qac1hBhpzx+ceWGJ1EKYpcnOSIJjnSjOFjGKClOyA+lVoquEQEiTJc1w3UNBfK1pWBjdInvlwK25tA/SboD4l0uwrbT6ALx7ZH1+/w/Jlgv2IhEC7iJMPpQxejNQWZmMIXuy5cL11YxvR4v/YIEfYcxhyYAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"HR Extraction diagram\"\n        title=\"\"\n        src=\"/static/0e2a7202c4a7cdc5795dc8f2f2e688a7/dface/prepare_HR.png\"\n        srcset=\"/static/0e2a7202c4a7cdc5795dc8f2f2e688a7/88b8e/prepare_HR.png 275w,\n/static/0e2a7202c4a7cdc5795dc8f2f2e688a7/8c3ad/prepare_HR.png 550w,\n/static/0e2a7202c4a7cdc5795dc8f2f2e688a7/dface/prepare_HR.png 600w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>The bottom branch represents an extraction from Active Directory that is used, for example, to build the list of contractors. This path is explained in the chapter on Active Directory.</p>\n<p>The file template provides a list of identities. The content of the file also allows the indirect reconstruction of the hierarchy of organizations. For each identity, the template asks for information about the organization in which the person works as well as his job title. An additional column makes it possible to specify which organization is the direct parent of the one in which the person works.</p>\n<p>All the other columns correspond to the identity's characteristics, such as the employee ID number, email, type of employee, etc...</p>\n<p>The following table describes the columns required by the model.</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Column</th>\n<th align=\"left\">Example</th>\n<th align=\"left\">Mandatory?</th>\n<th align=\"left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">hrcode</td>\n<td align=\"left\">ID0000183</td>\n<td align=\"left\">No</td>\n<td align=\"left\">Employee ID number</td>\n</tr>\n<tr>\n<td align=\"left\">givenname</td>\n<td align=\"left\">Denis</td>\n<td align=\"left\">Yes</td>\n<td align=\"left\">First name</td>\n</tr>\n<tr>\n<td align=\"left\">surname</td>\n<td align=\"left\">GEOFFRAY</td>\n<td align=\"left\">Yes</td>\n<td align=\"left\">Last name</td>\n</tr>\n<tr>\n<td align=\"left\">altname</td>\n<td align=\"left\">JACOB</td>\n<td align=\"left\">No</td>\n<td align=\"left\">Alternative or maiden name</td>\n</tr>\n<tr>\n<td align=\"left\">fullname</td>\n<td align=\"left\">Denis GEOFFRAY</td>\n<td align=\"left\">Yes</td>\n<td align=\"left\">Complete name</td>\n</tr>\n<tr>\n<td align=\"left\">titlecode</td>\n<td align=\"left\">Mr</td>\n<td align=\"left\">No</td>\n<td align=\"left\">Civil title</td>\n</tr>\n<tr>\n<td align=\"left\">mail</td>\n<td align=\"left\"><a href=\"mailto:DGEOFFRAY@gmail.com\">DGEOFFRAY@gmail.com</a></td>\n<td align=\"left\">No</td>\n<td align=\"left\">Email address</td>\n</tr>\n<tr>\n<td align=\"left\">phone</td>\n<td align=\"left\">+33123456789</td>\n<td align=\"left\">No</td>\n<td align=\"left\">Home phone</td>\n</tr>\n<tr>\n<td align=\"left\">mobile</td>\n<td align=\"left\">+33666666666</td>\n<td align=\"left\">No</td>\n<td align=\"left\">Cell phone</td>\n</tr>\n<tr>\n<td align=\"left\">internal</td>\n<td align=\"left\">true</td>\n<td align=\"left\">Yes</td>\n<td align=\"left\">Employee?</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\">(true for Employee, false for Contractor)</td>\n</tr>\n<tr>\n<td align=\"left\">employeetype</td>\n<td align=\"left\">CDD</td>\n<td align=\"left\">No</td>\n<td align=\"left\">Type of employee or contract</td>\n</tr>\n<tr>\n<td align=\"left\">arrivaldate</td>\n<td align=\"left\">12/1/2020</td>\n<td align=\"left\">No</td>\n<td align=\"left\">Hire date</td>\n</tr>\n<tr>\n<td align=\"left\">departuredate</td>\n<td align=\"left\">31/5/2021</td>\n<td align=\"left\">No</td>\n<td align=\"left\">Departure date</td>\n</tr>\n<tr>\n<td align=\"left\">active</td>\n<td align=\"left\">true</td>\n<td align=\"left\">No</td>\n<td align=\"left\">Is the employee still in the company? (T/F)</td>\n</tr>\n<tr>\n<td align=\"left\">jobtitlecode</td>\n<td align=\"left\">TecQu</td>\n<td align=\"left\">No</td>\n<td align=\"left\">Job function code</td>\n</tr>\n<tr>\n<td align=\"left\">jobtitledisplayname</td>\n<td align=\"left\">Qualification</td>\n<td align=\"left\">No</td>\n<td align=\"left\">Job function display name</td>\n</tr>\n<tr>\n<td align=\"left\">organisationcode</td>\n<td align=\"left\">STECQU</td>\n<td align=\"left\">No</td>\n<td align=\"left\">Department code</td>\n</tr>\n<tr>\n<td align=\"left\">organisationshortname</td>\n<td align=\"left\">STECQU</td>\n<td align=\"left\">No</td>\n<td align=\"left\">Department short name</td>\n</tr>\n<tr>\n<td align=\"left\">organisationdisplayname</td>\n<td align=\"left\">Quality Assurance</td>\n<td align=\"left\">No</td>\n<td align=\"left\">Display name of job function</td>\n</tr>\n<tr>\n<td align=\"left\">organisationtype</td>\n<td align=\"left\">Service</td>\n<td align=\"left\">No</td>\n<td align=\"left\">Department display name</td>\n</tr>\n<tr>\n<td align=\"left\">parentorganisationcode</td>\n<td align=\"left\">DTECPR</td>\n<td align=\"left\">No</td>\n<td align=\"left\">Parent department code</td>\n</tr>\n<tr>\n<td align=\"left\">linemanager</td>\n<td align=\"left\">ID0000121</td>\n<td align=\"left\">No</td>\n<td align=\"left\">Manager's employee ID number</td>\n</tr>\n<tr>\n<td align=\"left\">managedorgcode</td>\n<td align=\"left\">STECRD</td>\n<td align=\"left\">No</td>\n<td align=\"left\">Manager's department code</td>\n</tr>\n<tr>\n<td align=\"left\">analyticsgroup</td>\n<td align=\"left\">group1</td>\n<td align=\"left\">No</td>\n<td align=\"left\">Reserved for future use</td>\n</tr>\n<tr>\n<td align=\"left\">reconciliation1</td>\n<td align=\"left\">183</td>\n<td align=\"left\">No</td>\n<td align=\"left\">reconciliation key #1</td>\n</tr>\n<tr>\n<td align=\"left\">reconciliation2</td>\n<td align=\"left\">GEOFFRAY183</td>\n<td align=\"left\">No</td>\n<td align=\"left\">reconciliation key #2</td>\n</tr>\n<tr>\n<td align=\"left\">reconciliation3</td>\n<td align=\"left\">DGEOFFRAY183</td>\n<td align=\"left\">No</td>\n<td align=\"left\">reconciliation key #3</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>If data is not available for a certain column, it is best to leave the column header present. The header row should not be changed.</p>\n</blockquote>\n<blockquote>\n<p>The case of the header (uppercase/lowercase) is important. For example, if a column heading is changed to capital letters, the column will no longer be recognized.</p>\n</blockquote>\n<blockquote>\n<p>All dates should use the European format (DD/MM/YYYY)</p>\n</blockquote>\n<blockquote>\n<p>The active column is not mandatory. If empty, the identity is considered as inactive!</p>\n</blockquote>\n<blockquote>\n<p>Depending on Excel version and language used, the internal and active columns may appear differently and with a different case. The real value should be true or false.</p>\n</blockquote>\n<blockquote>\n<p>The last 3 columns about reconciliation are explained in the chapter \"Account Owners\".</p>\n</blockquote>\n<h4 id=\"individuals-who-have-left-the-company\">Individuals who have left the company</h4>\n<p>The departure date is very important. It should be taken from the HR database or Active Directory if available because many ITGC controls make use of it. For example, finding active accounts which belongs to identities who have left the company is not possible if the departure date is not provided.</p>\n<p>For the same reason, knowing if an account is active or disabled is essential. Without this information, all accounts will be considered as active and false positives may appear in the ITGC controls. Looking at the previous example, the service would display some identities who have left the company because they have an active account but this is a false positive if the account is truly disabled.</p>\n<h2 id=\"monitoring\">Monitoring</h2>\n<p>To track both extraction and upload of zip files, several systems have been set up:</p>\n<h3 id=\"extraction-logs\">Extraction logs</h3>\n<p>The extraction script generates several log files which are then archived in a zip file for later consultation.\r\nThe zip file is called <code class=\"language-text\">bw_data_collector_logs_&lt;date>.zip</code>\r\nThe zip contains the following files:</p>\n<ul>\n<li><code class=\"language-text\">ExtractAD_&lt;date>.log</code>: log file of the Active Directory extraction if it was requested.</li>\n<li><code class=\"language-text\">ExtractADHR_&lt;date>.log</code>: log file of the HR extraction using Active Directory if it was requested.</li>\n<li><code class=\"language-text\">bw_data_collector_&lt;date>.log</code>: log file to track the reading of the <code class=\"language-text\">config.json</code> file, the launch of the extraction scripts and the upload to the Identity Analytics platform.</li>\n</ul>\n<p>After an extraction is finished, the zipped log files remains on the extraction platform so they can be opened at a later time.</p>\n<h3 id=\"event-log\">Event log</h3>\n<p>The extraction script also generates events in the Windows Event log. These are Application logs with a source called \"Identity Analytics Extraction\".</p>\n<p>Only important events are logged in the event log:</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Message</th>\n<th align=\"left\">Level</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">bw_data_collector has started</td>\n<td align=\"left\">Information</td>\n</tr>\n<tr>\n<td align=\"left\">bw_data_collector upload zip started</td>\n<td align=\"left\">Information</td>\n</tr>\n<tr>\n<td align=\"left\">Request sent without Zip file</td>\n<td align=\"left\">Information</td>\n</tr>\n<tr>\n<td align=\"left\">bw_data_collector zip file successfully uploaded</td>\n<td align=\"left\">Information</td>\n</tr>\n<tr>\n<td align=\"left\">bw_data_collector zip upload failed</td>\n<td align=\"left\">Error</td>\n</tr>\n<tr>\n<td align=\"left\">bw_data_collector has finished with code 0</td>\n<td align=\"left\">Information</td>\n</tr>\n<tr>\n<td align=\"left\">bw_data_collector has finished with code 1</td>\n<td align=\"left\">Error</td>\n</tr>\n<tr>\n<td align=\"left\">bw_data_collector has finished with code 0 (forceUpload=True)</td>\n<td align=\"left\">Information</td>\n</tr>\n<tr>\n<td align=\"left\">Unable to compress log files</td>\n<td align=\"left\">Error</td>\n</tr>\n<tr>\n<td align=\"left\">Unable to clean working directories</td>\n<td align=\"left\">Error</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"upgrade\">Upgrade</h3>\n<p>It is higly recomemded to keep your your bw_data_collector up to date, this will allow you to get bug fixes,extraction improvments, new extraction capabilities, ...</p>\n<p>Before upgrading check you version by executing the folowing PowerShell cmdlet</p>\n\n          <codeblockcopytag>Test-ScriptFileInfo .\\bw_data_collector.ps1</codeblockcopytag>\n          \n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\"><span class=\"token function\">Test-ScriptFileInfo</span> <span class=\"token punctuation\">.</span>\\bw_data_collector<span class=\"token punctuation\">.</span>ps1</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 771px; z-index: -1\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.999999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAx0lEQVR42oWPzQ6DIBCEuaq4+ANFFNC2iVETqfH9H65TiEl76neYrMvO7MqWZQkhHMdxnue+79u2resawmue594o77T3epqMtTfgnNNad13X9z0KNgxDWZZCCM453tq2zfMcNZpVRUq1z+ddyoaIEwkpJWbGcYSLiD7mNJ1lWepiAtlN06ADxS3WWuwrI4+I9x5PLO1EF1rXtVIKZijqoigQj2tlBDVm4KkvmDHGRRCGDfhMvwRFIvy4KymPFF8w5IkL+oX/4w33yxzWbzOguQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Before upgrade\"\n        title=\"\"\n        src=\"/static/3747ddb9832d6b61c9c685d7c5b1a56e/f0a60/before-upgrade.png\"\n        srcset=\"/static/3747ddb9832d6b61c9c685d7c5b1a56e/88b8e/before-upgrade.png 275w,\n/static/3747ddb9832d6b61c9c685d7c5b1a56e/8c3ad/before-upgrade.png 550w,\n/static/3747ddb9832d6b61c9c685d7c5b1a56e/f0a60/before-upgrade.png 771w\"\n        sizes=\"(max-width: 771px) 100vw, 771px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h4 id=\"upgrade-steps\">Upgrade steps</h4>\n<ul>\n<li>Donwload the latest version of <code class=\"language-text\">bw_data_collector.ps1</code></li>\n<li>Copy the zip file to the directory where your <code class=\"language-text\">bw_data_collector.ps1</code> is installed</li>\n<li>Unzip the downloaded package and override existing files</li>\n<li>Configuration file config.json will not be overitten</li>\n<li>Chek the new version to validate the migration</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 840px; z-index: -1\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 24%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAoUlEQVR42nWOyxKDIAxF3SkoLwd5C7bU//9Fb8F20ZneRSY3yUkyxBj3fS+l5JyP4/DehxAQU7Ql+1rT8+Gt1W0s9TFr7dI0pJQopYQQzjlgIQRvmiailKr1JaVijI/jCOY8T8Do3vC6roDneYZxzmECcds2VADjFLajCKu1xlPIjTE3DNM/R+w914QXANCmvvrHvmEMyY9w6pv3Nmta/ugCxWAWDBQ3n40AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"After upgrade\"\n        title=\"\"\n        src=\"/static/31a8a59ff6ae7d1e705cb9839d560f76/2d81a/after-upgrade.png\"\n        srcset=\"/static/31a8a59ff6ae7d1e705cb9839d560f76/88b8e/after-upgrade.png 275w,\n/static/31a8a59ff6ae7d1e705cb9839d560f76/8c3ad/after-upgrade.png 550w,\n/static/31a8a59ff6ae7d1e705cb9839d560f76/2d81a/after-upgrade.png 840w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{"id":"powershell-extraction-configuration"},"children":[{"type":"text","value":"Powershell extraction configuration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Identity Analytics offers a PowerShell script called "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" to help extract the following data:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Users and groups from Active Directory."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Identities from Active Directory accounts."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The powershell script can also retrieve files from local or shared storage and package them with extracted files. This feature is helpful when dealing with data that cannot be exported with extractors ex (HR, custom Application, ....)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"[!note] The PowerShell script is signed, any modification of the script will make it ineffective unless the local security parameters are changed in order to authorize the execution of unsigned scripts."},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\nPlease note that this modification can lead to potential risk."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The PowerShell script generates a ZIP file that can be uploaded to the Identity Analytics platform."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When creating the ZIP file, the PowerShell script also adds some files generated by other processes. This is done using a configuration file in JSON format. This configuration file describes all the data sources to be included in the ZIP file."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"extraction-package-installation"},"children":[{"type":"text","value":"Extraction Package Installation"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Download the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.zip"}]},{"type":"text","value":" using the following direct link:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://repository.brainwavegrc.com/Brainwave/-/packages/generic/brainwave_data_collector/1.4"},"children":[{"type":"text","value":"https://repository.brainwavegrc.com/Brainwave/-/packages/generic/brainwave_data_collector/1.4"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.zip"}]},{"type":"text","value":" should be unzipped in a folder that has write access as the PowerShell script generates the output, along with temporary files, inside the installation folder."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"[!warning] The most important and mandatory action to do after unzipping the package is to rename the file "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json.example"}]},{"type":"text","value":" to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"At the root of the installation folder, there are 2 files:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":": the main script to launch the extraction and create the output ZIP file expected by Identity Analytics Platform."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json"}]},{"type":"text","value":": the configuration of each data source to extract. This was the file "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json.example"}]},{"type":"text","value":" in the installation package."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Out of the box, the file "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json"}]},{"type":"text","value":" contains some sample configurations. It should be edited in order to describe how to extract the different data sources before trying to run the script "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":". The content of this file is explained in the next chapter."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once the configuration is done, the script can be executed. Two new folders are created after the first execution:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"temp"}]},{"type":"text","value":" contains the output files for each data source"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"output"}]},{"type":"text","value":" contains the ZIP file to upload to Identity Analytics Platform."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" scripts builds the output ZIP that can be uploaded to the Identity Analytics platform either manually or automatically."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"extraction-package-upgrade"},"children":[{"type":"text","value":"Extraction Package Upgrade"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To upgrade the extraction package, follow these steps:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Download the newest extraction package from the Cloud service."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Unzip the file inside the installation directory to override all the script files of the previous version."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json"}]},{"type":"text","value":" is not overwritten because it is not part of the extraction package. Instead, there is "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json.example"}]},{"type":"text","value":" file. If the upgrade contains some new features there may be new configuration blocks in the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json.example"}]},{"type":"text","value":" file."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If new features need to be activated then the corresponding configuration blocks should be copied to the customized "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"prerequisites"},"children":[{"type":"text","value":"Prerequisites"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"main-script"},"children":[{"type":"text","value":"Main script"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The script "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" requires the following prerequisites in order to run:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"PowerShell 5.1 or greater"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":".NET Framework 4.5 or greater"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"active-directory"},"children":[{"type":"text","value":"Active Directory"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The Active Directory needs to be executed using a domain user account with at least \"read\" privilege on attributes."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"event-logs"},"children":[{"type":"text","value":"Event logs"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The script "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" can write events to windows event log. In order to activate event logs, a new source should be created in the event log."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Open a Powershell as Administrator and run the following command:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"New-EventLog -Source \"Identity Analytics Extractor\" -LogName Application"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"powershell"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-powershell"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-powershell"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"New-EventLog"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"Source "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Identity Analytics Extractor\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"LogName Application"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"extraction-methodology"},"children":[{"type":"text","value":"Extraction Methodology"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The first step is to identify all the sources to be extracted:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Which directories are referenced in applications? Are the directories of type Active Directory? Each directory will have to be extracted to retrieve users and groups."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"where are the data sources to find organizational information about employees and contractors?"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The second step is to decide with which account to perform the extractions on the platform. This choice has to be made now."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The extraction script can be launched manually in a command window or automatically in the Windows Task Scheduler or any other task launching tool. The different extractions as well as the zip file upload to the Identity Analytics platform require credentials that need to be encrypted on the extraction platform. The encryption depends on the account used and the machine. If you perform all credential encryption operations with a personal account, the extraction script will only work if it is run with this same account (to allow it to decrypt the credentials). Once the configuration has been fine-tuned, it is a good idea to add the script to the Windows task scheduler to run it on a regular basis (once a week for example). If a service account is used for this automatic launch, the script will fail because it will not be able to decrypt the credentials that have been encrypted with the personal account."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"All credentials will have to be re-encrypted with this service account. It is therefore preferable to encrypt all credentials with the service account from the start. To do this, all the operations described in this documentation must be performed in a powershell linked to the service account using the following command (example with the login user1 from ACME domain):"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"runas.exe /user:ACME\\user1 powershell"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"powershell"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-powershell"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-powershell"]},"children":[{"type":"text","value":"runas"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"exe "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"/"}]},{"type":"text","value":"user:ACME\\user1 powershell"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The third step is to set up all the extractions following the documentation. Generally speaking, this consists in encrypting the credentials that will be used and setting up the extraction in the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json"}]},{"type":"text","value":" file:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Set the credentials for the Active Directory extraction and then configure the extraction."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Prepare the HR extraction either from an HR source or using Active Directory if no HR source is available."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The fourth step is to test the extraction by running the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector"}]},{"type":"text","value":" command. The result is a zip file that you can open to see what was extracted. If the zip is complete (AD or LDAP, HR), then you can proceed to the next step."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The fifth step is to connect to the Identity Analytics platform and upload the zip to load it into the data cube. You can then browse the portal to check the data quality."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The sixth step is to automate the data upload to the Identity Analytics platform. To do so, you will have to authorize the upload in the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json"}]},{"type":"text","value":" file as well as in the Identity Analytics platform. After that, each run of the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector"}]},{"type":"text","value":" command will produce the zip and send it automatically to the Identity Analytics platform."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The seventh and final step is to schedule the execution every week. To do this, you need to add the execution of the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector"}]},{"type":"text","value":" command to the task scheduler."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"command-line"},"children":[{"type":"text","value":"Command line"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The PowerShell script "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" has no parameter as the configuration is read from the configuration file "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To run the extractions and get the output ZIP file, open a PowerShell console, change the current directory to the installation folder and type the command:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"bw_data_collector"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"powershell"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-powershell"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-powershell"]},"children":[{"type":"text","value":"bw_data_collector"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"[!note] Do not forget to run the command in a powershell window run as the desired service account."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The script will execute the extractions described in the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json"}]},{"type":"text","value":" file and create a ZIP file in the output folder."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"configure-automatic-upload"},"children":[{"type":"text","value":"Configure automatic upload"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To activate automatic upload of the extracted files you need to configure Powershell script authentication to the Identity Analytics platform, to do so, please follow these steps:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Go to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"https://{{HOSTNAME}}/auth"}]},{"type":"text","value":" and login with "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"setup"}]},{"type":"text","value":" account"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Select "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Clients"}]},{"type":"text","value":" menu, then click on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"extractor"}]},{"type":"text","value":" client id in the shown list"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1100px; z-index: -1"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 52.36363636363636%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB3UlEQVR42m1S227TQBD1fxTSOM6lbtokvUWF0vKGRKXyCbWl9n/6MzwhCqGEKrzxzhsqxCVO7FDf1l77dGYbkCM60tHMrr1nzpldTddraHe6qNcNrKw8wcnJG5yfncGyrH845WxbsG1brW3bWvpehma0TNQJT6s1rFYNfBxcIZU50ixDURQo8lzlnHKeF6rOcoDKR0M7fvUaxy+OcLS9h73nhxiNviISEu7Uw2w2xc3tFN9//MbEnUEIgYwaiTRVWUqpchnafv8ZDvr7WDc3sNbu4PNwqDrFcQJIgbffXFy8d+D4QimUpJSDFTPhfwpb7U3UWuuo1Bqo6HV8IMsc/DPbi6JYkXPNkVCdJAlSUslZjaUErUdWzXYXVaOJKpFeX48eCEk+eHZsiw4rNaX13wa8V4bGNo2mCZ0IK4ThgjBb2GGLrGZpvbiwRy9ls7eD7tYuVomsaTRwdTl4IAwCyChC6HuYuy4yqvM4RuT7mE9cpPSd95YQBtC2dvo4OHwJnVT26Ol8eXeJNBRI6KCkQ3eTCaY3PxHPPORhiIDW3thBQE28X2Oqx5jfOvCdMe4cB5q50UF3exdGY01ZHnwa0rMAwiDmq0QUhJh7Hv54Ps1OICZSVdMTkjzbEni+9wsximWbXjqbAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"List of Keycloak clients","title":"","src":"/static/dd47810673293b17478c6bd29944f045/28a3f/client-id-2.png","srcSet":["/static/dd47810673293b17478c6bd29944f045/88b8e/client-id-2.png 275w","/static/dd47810673293b17478c6bd29944f045/8c3ad/client-id-2.png 550w","/static/dd47810673293b17478c6bd29944f045/28a3f/client-id-2.png 1100w","/static/dd47810673293b17478c6bd29944f045/02f69/client-id-2.png 1394w"],"sizes":"(max-width: 1100px) 100vw, 1100px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Go to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Credentials"}]},{"type":"text","value":" pane and copy "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Client secret"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1100px; z-index: -1"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 55.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABXklEQVR42n2R+06DMBSHeQ3jluwCYxfJpu4S3LIli/672zMb49gW9S00sLlIKfQGnhamJqJfSmlIf+c7LZpeM9u9gaEbhUJxOr1drlaz2WyxWKoxX5yY56GZjVapXDk7L5arxv3DYxSRw96L4EVIkiRxEsNI/kCbTO/69qg7uIHZcZwgCFzXffOOr97R9/0PBUIoUkBFmBljsUKzRxN7OLY61+2r3tPzC9TDGFPKCKVhGAYSDA9KUQsokIUhYzatYqlaqtYcZwNtQphzDklKaZLuUk3GGXIBciGEdtkdGPUWJCtGfbPdwSb4Cq2GOEz+Q5nNlgWxNLw9haE3MIs8OKWCcS5iIWKtaXVqjYuTeQthxhk07CvA/w3GISGB5wb743sIFYSW3nNZN6V5l5mB9Hy/zdnH9MLgzH17WDFkeL12sAQERN5yHsj3ESYHxCiYpVOv/7ywr9+Yj9Jypf4ErMD0xyrsSMEAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"Client credentials","title":"","src":"/static/918d577b12ffd9226e2b143515f81082/28a3f/secret-id.png","srcSet":["/static/918d577b12ffd9226e2b143515f81082/88b8e/secret-id.png 275w","/static/918d577b12ffd9226e2b143515f81082/8c3ad/secret-id.png 550w","/static/918d577b12ffd9226e2b143515f81082/28a3f/secret-id.png 1100w","/static/918d577b12ffd9226e2b143515f81082/2637b/secret-id.png 1356w"],"sizes":"(max-width: 1100px) 100vw, 1100px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Navigate to the place where you unzipped "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.zip"}]},{"type":"text","value":" file and open a terminal in that location."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Execute the following command to add authentication attributes to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json"}]},{"type":"text","value":" and create a secure file containing the copied "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Client secret"}]},{"type":"text","value":" from "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Keycloack"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":".\\bw_data_collector.ps1 -createCreds \\$true -hostname \"HOSTNAME\" -realmname \"brainwave\" -tls \\$true -clientid \"extractor\""}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"powershell"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-powershell"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-powershell"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"\\bw_data_collector"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"ps1 "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"createCreds "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"$true"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"hostname "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"HOSTNAME\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"realmname "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"brainwave\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"tls "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"$true"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"clientid "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"extractor\""}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Copy paste "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Client secret"}]},{"type":"text","value":" to the terminal when requested."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The commend will:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Store the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Client secret"}]},{"type":"text","value":" in "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"creds.xml"}]},{"type":"text","value":" as a PSCredential object in the same directory as "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Add "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"hostname, realmname, tls and clientid"}]},{"type":"text","value":" parameters to the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json"}]},{"type":"text","value":" file"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Set "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"disableUpload"}]},{"type":"text","value":" parameter to false if it value is true"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"[!warning]"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Value of "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"hostname"}]},{"type":"text","value":" parameter should not contain "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"http"}]},{"type":"text","value":" or "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"https"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"To disable ssl set "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-tls"}]},{"type":"text","value":" parameter to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"False"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"creds.xml"}]},{"type":"text","value":" can only be used by the user session and the machine where the file was created, to run "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" under another user account you should provide the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"creds.xml"}]},{"type":"text","value":" again to allow the script to creation a new "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"PSCredential"}]},{"type":"text","value":" compatible with the desired user account."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"configuration-file"},"children":[{"type":"text","value":"Configuration file"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The script "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" reads a file called "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json"}]},{"type":"text","value":" containing all the actions to execute."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Here is a sample of a configuration file:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"{\n  \"auth_hostname\":  \"localhost\",\n  \"auth_realmname\":  \"brainwave\",\n  \"auth_tls\":  false,\n  \"disableUpload\":  true,\n  \"outputDirectory\":  \"C:\\\\Temp\\\\onezip\",\n  \"notificationEmail\":  \"user@company.local\",\n  \"notificationLang\":  \"en\",\n  \"proxyUri\":  \"\",\n  \"proxyCredential\":  \"\",\n  \"zipOutputFiles\":  true,\n  \"forceUpload\":  false,\n  \"configs\":  [\n    {\n      \"name\":  \"hr-1\",\n      \"enabled\":  true,\n      \"file\":  \"C:/Applications/OneZip/tests/data_copy/hr/*\",\n      \"csv_converter_config\":  \"./tools/bw_csv_converter_*/hr-template.properties\",\n      \"folder\":  \"hr\",\n      \"action\":  \"copy\"\n    },\n    {\n      \"name\":  \"application-1\",\n      \"enabled\":  true,\n      \"file\":  \"C:/Applications/OneZip/tests/data_copy/applications/*.csv\",\n      \"folder\":  \"applications\",\n      \"action\":  \"copy\"\n    },\n    {\n      \"name\":  \"merge-1\",\n      \"enabled\":  true,\n      \"file\":  \"./tests/data_copy/zip/Data.zip\",\n      \"action\":  \"merge\"\n    },\n    {\n      \"_comment\":  \"Extract AD data of the current forest with the current Creds\",\n      \"name\":  \"ad-1\",\n      \"enabled\":  true,\n      \"script\":  \"ad\",\n      \"folder\":  \"ad\",\n      \"credential\":  \"C:/Applications/OneZip/tests/creds/acme_credential.xml\",\n      \"servers\":  \"C:/Applications/OneZip/tests/config/domain_controller.txt\",\n      \"action\":  \"script\"\n    },\n    {\n      \"_comment\":  \"Use AD as HR source, get users list using ad script\",\n      \"name\":  \"ad-hr-1\",\n      \"enabled\":  true,\n      \"script\":  \"hr\",\n      \"folder\":  \"hr\",\n      \"credential\":  \"C:/Applications/OneZip/tests/creds/acme_credential.xml\",\n      \"servers\":  \"C:/Applications/OneZip/tests/config/domain_controller.txt\",\n      \"csv_converter_config\":  \"./tools/bw_csv_converter_*/adhr-template.properties\",\n      \"action\":  \"script\"\n    }\n  ]\n}\n"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"json"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"auth_hostname\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"localhost\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"auth_realmname\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"brainwave\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"auth_tls\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"false"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"disableUpload\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"outputDirectory\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"C:\\\\Temp\\\\onezip\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"notificationEmail\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"user@company.local\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"notificationLang\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"en\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"proxyUri\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"proxyCredential\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"zipOutputFiles\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"forceUpload\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"false"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"configs\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"hr-1\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"enabled\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"file\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"C:/Applications/OneZip/tests/data_copy/hr/*\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"csv_converter_config\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"./tools/bw_csv_converter_*/hr-template.properties\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"folder\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"hr\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"action\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"copy\""}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"application-1\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"enabled\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"file\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"C:/Applications/OneZip/tests/data_copy/applications/*.csv\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"folder\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"applications\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"action\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"copy\""}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"merge-1\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"enabled\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"file\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"./tests/data_copy/zip/Data.zip\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"action\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"merge\""}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"_comment\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Extract AD data of the current forest with the current Creds\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"ad-1\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"enabled\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"script\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"ad\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"folder\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"ad\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"credential\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"C:/Applications/OneZip/tests/creds/acme_credential.xml\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"servers\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"C:/Applications/OneZip/tests/config/domain_controller.txt\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"action\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"script\""}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"_comment\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Use AD as HR source, get users list using ad script\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"ad-hr-1\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"enabled\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"script\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"hr\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"folder\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"hr\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"credential\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"C:/Applications/OneZip/tests/creds/acme_credential.xml\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"servers\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"C:/Applications/OneZip/tests/config/domain_controller.txt\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"csv_converter_config\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"./tools/bw_csv_converter_*/adhr-template.properties\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"action\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"script\""}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The main configuration parameters are:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"auth_hostname"}]},{"type":"text","value":": Hostname of the server on which to upload the files. This is the server running the selfmanaged solution"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"auth_realmname"}]},{"type":"text","value":": The authorization realm name as defined in Keycloak. By default this value should be set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"brainwave"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"auth_tls"}]},{"type":"text","value":": Upload using https. This is the recommended parameter to use un a Prod environment"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"disableUpload"}]},{"type":"text","value":": boolean value to disable zip upload, should be false to activate upload."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"outputDirectory"}]},{"type":"text","value":": path where the zip will be generated, by default the zip will be stored in root directory under "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"output"}]},{"type":"text","value":" folder, this parameter should be set on decentralized extraction environment to be able to move the generated Zip file to a desired directory (ex:a shared folder)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"notificationEmail"}]},{"type":"text","value":": Email of the person to notify in case of success or failure of the upload"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"notificationLang"}]},{"type":"text","value":": Email notification language. Supported locals are "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"fr"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"en"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"zipFileName"}]},{"type":"text","value":": parameter to set the Zip file name without the extension, default value is "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"DataFile"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"proxyUri"}]},{"type":"text","value":": parameter to set a proxy URL if needed."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"proxyCredential"}]},{"type":"text","value":": parameter to set a PScredential file path for proxy authentication if needed, if not set current user credential will be used."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"zipOutputFiles"}]},{"type":"text","value":": Boolean to toggle the creation of a Zip archive of on upload"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"forceUpload"}]},{"type":"text","value":": Force the upload of the importfiles even if an extraction failed."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"[!warning] In the case of an instance running the script to upload to an EOC environment changes are required in the config.json file:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"auth_hostname"}]},{"type":"text","value":": The base URL to the EOC environment. For example: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"\"auth_hostname\": \"ia-rlqa-usw2.dev01.radiantlogic.io\","}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"auth_realmname"}]},{"type":"text","value":": The environment name that is used to provision the authorization realm. For example: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"\"auth_realmname\": \"rlqa-usw2-mq01\","}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"An additional parameter is required to allow to upload the files to the correct authorization context:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"auth_context"}]},{"type":"text","value":": This value should be set to the environment name. For example: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"\"auth_context\": \"rlqa-usw2-mq01\","}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json"}]},{"type":"text","value":" should contain different sections under "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"configs"}]},{"type":"text","value":" block:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"HR data files to copy."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"LDAP data file files to copy."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"AD extraction parameters."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Each JSON block describes an action to perform by the script "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The action attribute is mandatory and can be:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"copy"}]},{"type":"text","value":": it requests the script "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" to copy a file from another location to the temp folder. This is the way other data sources can be embedded in the output ZIP file."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"script"}]},{"type":"text","value":": it requests the script "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" to launch a built-in extractor to extract a known data source and put the output file(s) into the temp folder."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"merge"}]},{"type":"text","value":": it requests the script "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" to unzip an existing archive to the temp folder, see "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Decentralized Extractions"}]},{"type":"text","value":" section for more details."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The folder attribute is the destination folder inside the temp folder. The accepted values are:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"hr"}]},{"type":"text","value":": This folder should contain all the HR files about identities, organizations... There can be multiple files if the identities are split into multiple files (for example employees in a first file and contractors in another file)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ad"}]},{"type":"text","value":": This is the folder that should be used as the output when extracting Active Directory."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ldap"}]},{"type":"text","value":": This is the folder that should contain LDIF files of LDAP severs different from Active Directory."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The folder attribute may contain any value but only the folder specified above will be scanned and loaded in the Identity Analytics data cube. All the files located in an unknown folder will be ignored."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To disable a copy or a built-in script, you may remove the section from the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json"}]},{"type":"text","value":" file or change the enable attribute to \"false\". The section will be ignored when the script "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" is executed."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The attribute name and "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"_comment"}]},{"type":"text","value":" are not used to identify and document each section. This information is not used by Identity Analytics Platform. The comment is used to describe the data source and the action. The name is an identifier that is used in the log file to reference the section if an error is encountered while performing the action."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The values for attributes "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"action"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"folder"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"script"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"enabled"}]},{"type":"text","value":" should be written in lower case."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"extractions"},"children":[{"type":"text","value":"Extractions"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"external-extractions"},"children":[{"type":"text","value":"External Extractions"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The script "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" allows to add in the ZIP file some data sources that are generated by extractors not provided by Identity Analytics. This is useful for the following types of data:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"HR data,"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Application data."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"LDAP data ( not from Active Directory)"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The HR and application extraction files must conform to a format and an encoding. The following chapters detail the expected formats."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Extractions can be done manually or through an automated process. A section in "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json"}]},{"type":"text","value":" must be modified or added to indicate an action to copy a file to the \"hr\" or \"applications\" folder."},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\nIn the following example, we consider that the contractors are collected via a process not described here but which provides a file in the format expected by Identity Analytics Platform."}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"{\n  \"_comment\": \"Embed the contractor file into the output ZIP file\",\n  \"name\": \"hr-2\",\n  \"enabled\": true,\n  \"file\": \"C:/HR/extract-current/contractors.csv\",\n  \"folder\": \"hr\",\n  \"action\": \"copy\"\n},"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"json"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"_comment\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Embed the contractor file into the output ZIP file\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"hr-2\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"enabled\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"file\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"C:/HR/extract-current/contractors.csv\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"folder\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"hr\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"action\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"copy\""}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"[!note] The extracted file must be accessible on the disk (or on a network disk) from the computer where the script "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" is executed."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This configuration section requests the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" script to copy the file "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"C:/HR/extract-current/contractors.csv"}]},{"type":"text","value":" to the \"hr\" folder so that it can be included in the output ZIP."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If this file is generated with an extraction script on a different computer than the one where "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" is installed, you have to make sure that the file is transferred into the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"C:/HR/extract-current"}]},{"type":"text","value":" folder and is called "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"contractors.csv"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the external extraction script can be run on the same computer, then it must be executed before bw_data_collector.ps1."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"ldap-extractions"},"children":[{"type":"text","value":"LDAP extractions"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Identity Analytics Platform supports to load data related to accounts, groups and group members using standard LDIF files. If you are using Active Directory, the Identity Analytics Platform provides the script that can handle the data extraction automatically, more information on the next section."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the data does not come from Active Directory, the LDIF file can be included into the ZIP file. Example:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"{\n  \"_comment\": \"Embed the LDIF into the output ZIP file\",\n  \"name\": \"domain\",\n  \"enabled\": true,\n  \"file\": \"C:/LDAP/extract-current/domain.ldif\",\n  \"folder\": \"ldap\",\n  \"action\": \"copy\"\n},"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"json"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"_comment\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Embed the LDIF into the output ZIP file\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"domain\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"enabled\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"file\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"C:/LDAP/extract-current/domain.ldif\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"folder\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"ldap\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"action\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"copy\""}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Identity Analytics Platform supports LDIF files that use the encoding "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"ISO-8859-1"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To identify the "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"accounts"}]},{"type":"text","value":", entries are filter by objectclass: user or person or inetorgperson. The ldap attributes that are used for the accounts are:"}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"Field"}]},{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"LDAP Attribute"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"key"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"dn or distinguishedname"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Given name"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"givenname"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Surname"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"sn"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Mail"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"mail"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Login"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"samaccountname or uid or cn"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Username"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"displayname or '{givenname} {sn}' if they are not empty, or samaccountname or cn or uid"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Expire date"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"loginexpirationtime"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To identify the "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"groups"}]},{"type":"text","value":", entries are filter by objectclass: group or groupofnames or groupofuniquenames. The ldap attributes that are used for the groups are:"}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"Field"}]},{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"LDAP Attribute"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Code"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"dn or distinguishedname"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Display name"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"samaccountname or cn or uid"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Description"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"description"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Members"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"member or uniquemember"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"active-directory-extractions"},"children":[{"type":"text","value":"Active Directory Extractions"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Identity Analytics Platform requires an extraction of accounts and groups from Active Directory."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The script "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" performs the Active Directory extraction and adds the output files into the ZIP file. The PowerShell script can be configured to extract several domains."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Only one configuration section is needed to extract Active Directory even if there are multiple domains. The technical account used to run the script must have enough privileges to read the Active Directory content."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Out of the box, the configuration section for Active Directory does not contain information about the credentials to use or the filtering to apply or the domains to extract. There is a list of options to add to the section in order to specify how the Active Directory extraction should be done."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"filter"}]},{"type":"text","value":": An LDAP filter by default it is:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"((objectcategory=Person)(objectclass=group))"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ouFilter"}]},{"type":"text","value":": Filter on a specific organizationalUnit, should be a valid organizational Unit DN for example: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"OU=Internal Users,DC=intra,DC=test,DC=local"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This filter will apply on all domains if script launched on several servers (with "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"--server"}]},{"type":"text","value":" option)."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"attributesfile"}]},{"type":"text","value":": File that contains the attribute names to include in the extraction (by default, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"attributes.cfg"}]},{"type":"text","value":"). For example: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"attributes.txt"}]},{"type":"text","value":" where it contains an attribute in each line. By default, this option contains the following attribute names:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"objectcategory"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"objectguid"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"objectsid"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"sidhistory"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"member"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"objectclass"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"accountexpires"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"badpwdcount"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"displayname"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"givenname"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"lastlogon"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"logoncount"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"lastlogontimestamp"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"mail"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"manager"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"pwdlastset"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"samaccountname"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"sn"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"whencreated"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"useraccountcontrol"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"createtimestamp"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"description"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"grouptype"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"managedby"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"modifytimestamp"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"legacyexchangedn"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"PrimaryGroupID"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"servers"}]},{"type":"text","value":": File that contains in each line a name of an AD server, if the file is not specified, the script will extract all the ActiveDirectory domains data in the current forest."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"credential"}]},{"type":"text","value":": File containing PSCredential used to extract objects in ActiveDirectory, see example to create and store PSCredential object to a file, if not set current session credential will be used."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"logLevel"}]},{"type":"text","value":": This parameters allow to specify a log level. The default value is "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Error"}]},{"type":"text","value":".Possible values are:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Error"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Warning"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Info"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Debug"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"errAction"}]},{"type":"text","value":": Specify the action to perform if an error occur. The default value is "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Stop"}]},{"type":"text","value":". The possible values are:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Continue"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"SilentlyContinue"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Stop"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"port"}]},{"type":"text","value":": LDAP server port. The default value is 389."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"authType"}]},{"type":"text","value":": Authentication method to use in LDAP connection, for more details refer to "},{"type":"element","tagName":"a","properties":{"href":"https://msdn.microsoft.com/fr-fr/library/system.directoryservices.protocols.authtype(v=vs.110).aspx"},"children":[{"type":"text","value":"https://msdn.microsoft.com/fr-fr/library/system.directoryservices.protocols.authtype(v=vs.110).aspx"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"useSSL"}]},{"type":"text","value":": Boolean value to activate SecureSocketLayer on LDAP connection. The default value is 'False'."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Here is a sample of the configuration to extract two servers:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"{\n  \"_comment\": \"Extarct AD data of the current forest with the current Creds\",\n  \"name\": \"ad-1\",\n  \"enabled\": true,\n  \"folder\": \"ad\",\n  \"action\": \"script\",\n  \"servers\": \"C:/extract_ad/servers.txt\"\n},"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"json"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"_comment\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Extarct AD data of the current forest with the current Creds\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"ad-1\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"enabled\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"folder\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"ad\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"action\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"script\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"servers\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"C:/extract_ad/servers.txt\""}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The file servers.txt referenced in the \"servers\" option contains the following lines:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"server1\nserver2"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"server1\nserver2"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"hr-extractions-from-active-directory"},"children":[{"type":"text","value":"HR Extractions from Active Directory"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Usually, the identities are extracted from the HR database but the contractors are not part of the HR database. They may be present in Active Directory as accounts.\r\nActive Directory can also be used to deduce identities from the accounts (employees and/or contractors) if Active Directory is the only repository that contains the contractors' accounts."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The script "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" meets both needs:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"the need to feed the Identity Analytics data cube with Active Directory accounts and groups. This is performed using a section in the configuration named \"ad-1\", and"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"the need to populate the Identity Analytics data cube with identities from Active Directory. This is performed using a section in the configuration named \"ad-hr-1\"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In order to extract identities from Active Directory accounts, the section \"ad-hr-1\" should be enabled by changing the \"enabled\" flag to true."}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"{\n  \"_comment\": \"Use AD as HR source, get users list using ad script\",\n  \"name\": \"ad-hr-1\",\n  \"enabled\": true,\n  \"folder\": \"hr\",\n  \"action\": \"script\"\n},"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"json"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"_comment\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Use AD as HR source, get users list using ad script\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"ad-hr-1\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"enabled\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"folder\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"hr\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"action\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"script\""}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"By default, the script will use the following attributes mapping between HR attributes (csv file header) and Active Directory attributes."}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"HR attribute"}]},{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"AD attribute"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"hrcode"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"samaccountname"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"givenname"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"givenname"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"surname"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"sn"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"altname"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"fullname"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"displayname"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"titlecode"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"mail"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"mail"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"phone"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"mobile"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"employeetype"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"employeetype"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"arrivaldate"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"createtimestamp"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"departuredate"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"accountexpires"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Jobtitlecode"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"title"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"jobtitledisplayname"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"title"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"organisationcode"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"department"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"organisationshortname"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"department"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"organisationdisplayname"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"department"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"organisationtype"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Parentorganisationcode"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"linemanager"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"managedorgcode"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"analyticsgroup"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Some options are also available to change the behavior of the extraction. The options are very similar to the Active Directory extraction for users and groups. For this HR extraction from Active Directory, all the options described for the users and groups extraction may be used plus one more: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"customHrAttributes"}]},{"type":"text","value":". The following section shows all options and their description"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"filter"}]},{"type":"text","value":": An LDAP filter by default it is:"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"(objectcategory=Person)"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ouFilter"}]},{"type":"text","value":": Filter on a specific organizationalUnit, should be a valid organizational Unit DN. example: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"OU=Internal Users,DC=intra,DC=test,DC=local"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This filter will apply on all domains if script launched on several servers (with "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"--server"}]},{"type":"text","value":" option)."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"attributesfile"}]},{"type":"text","value":": File that contains the attribute names to include in the extraction (by default, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"attributes.cfg"}]},{"type":"text","value":")."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"For example: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"attributes.txt"}]},{"type":"text","value":" where it contains an attribute in each line for example:\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"dn"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"objectclass"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"accountexpires"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"givenname"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"By default, this option contains the following attribute names:\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"objectcategory"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"objectguid"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"objectsid"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"sidhistory"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"member"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"objectclass"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"accountexpires"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"badpwdcount"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"displayname"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"givenname"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"lastlogon"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"logoncount"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"lastlogontimestamp"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"mail"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"manager"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"pwdlastset"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"samaccountname"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"sn"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"whencreated"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"useraccountcontrol"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"createtimestamp"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"description"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"grouptype"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"managedby"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"modifytimestamp"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"legacyexchangedn"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"PrimaryGroupID"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"servers"}]},{"type":"text","value":": File that contains in each line a name of an AD server, if the file is not specified, the script will extract all the ActiveDirectory domains data in the current forest."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"credential"}]},{"type":"text","value":": File containing PSCredential used to extract objects in ActiveDirectory, see example to create and store PSCredential object to a file, if not set current session credential will be used."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"logLevel"}]},{"type":"text","value":": This parameters allow to specify a log level. The default value is "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Error"}]},{"type":"text","value":".Possible values are:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Error"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Warning"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Info"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Debug"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"errAction"}]},{"type":"text","value":": Specify the action to perform if an error occur. The default value is "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Stop"}]},{"type":"text","value":". The possible values are:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Continue"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"SilentlyContinue"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Stop"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"port"}]},{"type":"text","value":": LDAP server port. The default value is 389."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"authType"}]},{"type":"text","value":": Authentication method to use in LDAP connection, for more details refer to ["},{"type":"element","tagName":"a","properties":{"href":"https://msdn.microsoft.com/fr-fr/library/system.directoryservices.protocols.authtype(v=vs.110).aspx"},"children":[{"type":"text","value":"https://msdn.microsoft.com/fr-fr/library/system.directoryservices.protocols.authtype(v=vs.110).aspx"}]},{"type":"text","value":"]"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"useSSL"}]},{"type":"text","value":": Boolean value to activate SecureSocketLayer on LDAP connection. The default value is 'False'."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"customHrAttributes"}]},{"type":"text","value":": Path to a file that contains a custom mapping between HR attributes and AD attributes."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The file specified in the option "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"customHrAttributes"}]},{"type":"text","value":" can be used to override the default mapping. The file must be a CSV file and have the following format:"}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"hr_attribute"}]},{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"ad_attribute"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"hrcode"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"sn"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"altname"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"SAMaccountname"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The csv delimiter should be "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"and the header must be:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"hr_attribute"}]},{"type":"text","value":": name of HR attribute, must be part of CSV header"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ad_attribute"}]},{"type":"text","value":": name of AD attribute, must be a valid AD attribute"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"active-directory-credentials"},"children":[{"type":"text","value":"Active Directory Credentials"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To use a specific account to perform the Active Directory extraction (wether users/groups or identities), you can prepare a credential file"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The following command shows how to create a PSCredential and store it in a file called credential.xml. The password will automatically be encrypted by powershell API. The generated file can only work using the local machine and user session used to create it."}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"Get-Credential -UserName test\\local -Message \"Credential\" | Export-CliXml credential.xml"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"powershell"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-powershell"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-powershell"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"Get-Credential"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"UserName test\\local "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"Message "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Credential\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"Export-CliXml"}]},{"type":"text","value":" credential"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"xml"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"[!note] Do not forget to run the command in a powershell on the behalf of a service account."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"task-scheduler-and-credentials"},"children":[{"type":"text","value":"Task Scheduler and Credentials"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The script "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" can be executed on a regular basis. A task can be created in the Windows Task Scheduler."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Depending on the sections activated in the configuration, the script "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" may need to be run as an administrator.\r\nThis is important if local accounts and groups have to be extracted from the Windows servers."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If several scripts need to be run in order to get all the extractions, the recommended method is to leave the script "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" without modification. It should be kept untouched to simplify future upgrades. The simplest method is as follows:\r\nCreate a PS1 main script that calls all your custom scripts and, at last, calls bw_data_collector.ps1. Your main script is the one to install in the Windows Task Scheduler if it should run on a regular basis."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are situations that do not allow to chain all extraction scripts. This is the case when each script has to be executed with different technical accounts. In our example with the contractors extraction, it is recommended to set up two tasks in the Windows Task Scheduler:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"One task extracts the contractors using a technical account."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"One hour later, a second task calls "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" to create the output ZIP with another technical account."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"csv-data-conversion"},"children":[{"type":"text","value":"CSV data conversion"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In case if you have some data files that should be edited to match the requested schema and data format, Identity Analytics provide a csv converter tool that allow you through Javascript expressions to build a new CSV file based on another one"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can activate the csv converter by adding the parameter "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"csv_converter_config"}]},{"type":"text","value":" on actions copy or script, this path should point to properties file containing the conversion options"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"{\n  \"name\": \"hr-1\",\n  \"enabled\": false,\n  \"file\": \"./tests/data_copy/hr/*.xlsx\",\n  \"folder\": \"hr\",\n  \"csv_converter_config\": \"./tools/bw_csv_converter_*/hr-template.properties\",\n  \"action\": \"copy\"\n},"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"json"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"hr-1\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"enabled\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"false"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"file\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"./tests/data_copy/hr/*.xlsx\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"folder\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"hr\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"csv_converter_config\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"./tools/bw_csv_converter_*/hr-template.properties\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"action\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"copy\""}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Please refer to the bw_csv_converter tool for more details and examples"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The documentation is situated in extraction package under tools/bw_csv_converter_*/doc/bw_csv_converter.pdf"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"output-zip-file-content"},"children":[{"type":"text","value":"Output ZIP File Content"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The output ZIP file contains different folders for each kind of data source."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Warning:"}]},{"type":"text","value":" One very important point is to have all the extraction folders at the root of the ZIP file. If it is needed to change the content of the ZIP file to manually add or replace a file, then be careful to pay attention to keep the extraction folders (hr, ad, applications...) at the root. An intermediate folder can appear if the ZIP file is created from a parent folder."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Despite the data source folders, there is a \"logs\" folder and a status file called \"status.csv\".\r\nThe file \"status.csv\" contains a line per action and the result status."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"decentralized-extractions"},"children":[{"type":"text","value":"Decentralized Extractions"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In some situations, the extractions of all the resources can not be performed from a single location. Some Domains may not be reachable."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To overcome this issue, the extraction package should be installed on another server (called secondary server) that has access to the other resources. Then the configuration file "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json.example"}]},{"type":"text","value":" should be renamed to config.json."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The upload should be disabled on the secondary server"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The configuration file on the secondary server should be edited to enable only the extractions that are missing from the original location."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The output ZIP file should be transfered to the server where the main extraction script is installed. Or set the output directory of secondary extraction to a share drive that the main server can access."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json"}]},{"type":"text","value":" file on the main server should have a merge action that will take the generated ZIP file, unzip it in the working directory and add the files to the main output ZIP file."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Example of secondary extraction config file"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"{\n  \"disableUpload\": true,\n  \"outputDirectory\": \"R:/shared/zipFolder\",\n  \"zipFileName\": \"RandD_ENV\",\n  \"configs\": [\n    {\n      \"_comment\": \"Extract an AD from another area of the network\",\n      \"name\": \"ad-2\",\n      \"enabled\": true,\n      \"folder\": \"ad\",\n      \"action\": \"script\"\n    },\n  ]\n}"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"json"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"disableUpload\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"outputDirectory\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"R:/shared/zipFolder\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"zipFileName\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"RandD_ENV\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"configs\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"_comment\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Extract an AD from another area of the network\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"ad-2\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"enabled\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"folder\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"ad\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"action\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"script\""}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This config will allow to extarct only AD data and generate "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"RandD_ENV.zip"}]},{"type":"text","value":" under "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"R:\\shared\\zipFolder"}]},{"type":"text","value":" directory"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Example of main extraction config file"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"{\n  \"disableUpload\": false,\n  \"configs\": [\n    {\n      \"name\": \"hr-1\",\n      \"enabled\": true,\n      \"file\": \"../../importfiles/test-file-copy/hr/*.xlsx\",\n      \"folder\": \"hr\",\n      \"action\": \"copy\"\n    },\n    {\n      \"_comment\": \"Extract AD data of the current forest with the current credentials\",\n      \"name\": \"ad-1\",\n      \"enabled\": true,\n      \"folder\": \"ad\",\n      \"action\": \"script\"\n    },\n    {\n      \"name\": \"merge-secondary-extraction\",\n      \"enabled\": true,\n      \"file\": \"R:/shared/zipFolder/RandD_ENV.zip\",\n      \"action\": \"merge\"\n    }\n  ]\n}"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"json"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"disableUpload\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"false"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"configs\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"hr-1\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"enabled\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"file\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"../../importfiles/test-file-copy/hr/*.xlsx\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"folder\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"hr\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"action\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"copy\""}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"_comment\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Extract AD data of the current forest with the current credentials\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"ad-1\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"enabled\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"folder\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"ad\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"action\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"script\""}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"merge-secondary-extraction\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"enabled\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"file\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"R:/shared/zipFolder/RandD_ENV.zip\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"action\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"merge\""}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This config will copy hr files, extarct ActiveDirectory data from current domain, unzip the content of "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"RandD_ENV.zip"}]},{"type":"text","value":" to the working directory and upload the resulting zip file to the Identity Analytics Platform."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"hr-configuration-example"},"children":[{"type":"text","value":"HR Configuration Example"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This example demonstrates how to configure a HR extraction from AD executed on a secondary server. On this server a configuration section has been enabled to run the script to get identities from Active Directory users:"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"{\n  \"_comment\": \"Use AD as HR source, get users list using ad script\",\n  \"name\": \"ad-hr-1\",\n  \"enabled\": true,\n  \"folder\": \"hr\",\n  \"action\": \"script\"\n},"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"json"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"_comment\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Use AD as HR source, get users list using ad script\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"ad-hr-1\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"enabled\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"folder\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"hr\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"action\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"script\""}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The output ZIP file should be copied either manually or automatically to the main server. The ZIP file should be unzipped into a folder. In this example, the output ZIP file is unzipped into the folder "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"C:\\transfer\\extraction"}]},{"type":"text","value":". On the main server, the configuration block is enabled. It requests a copy of the file containing the HR data extracted from the domain ACME."}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"{\n  \"_comment\": \"Copy the HR file generated on another platform\",\n  \"name\": \"ad-hr-1\",\n  \"enabled\": true,\n  \"folder\": \"hr\",\n  \"action\": \"copy\",\n  \"file\": \"C:/transfer/extraction/acme.csv\"\n},"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"json"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"_comment\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Copy the HR file generated on another platform\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"ad-hr-1\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"enabled\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"folder\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"hr\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"action\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"copy\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"file\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"C:/transfer/extraction/acme.csv\""}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"file-formats"},"children":[{"type":"text","value":"File Formats"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For the HR data, one or more Excel or CSV files is needed. For example, one Excel file can contain the employees, while another can contain the contractors. An Excel file template and a CSV file are available in the service. After deleting the example data, it will be necessary to download and integrate the HR data into one of these templates. They contain columns for descriptions of the identities as well as their attachment to an organization. They also contain the ability to describe the hierarchy of organizations which is important for the analysis."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"hr-file-format"},"children":[{"type":"text","value":"HR File Format"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The HR file template is an Excel file containing columns that are mostly optional. A CSV file template is also available with the same columns. The CSV file must be in UTF-8 format (with or without BOM header). However, it is recommended that as many characteristics as possible are gathered in order to have complete information. The HR extraction from an HR database is shown in the top branch in the following diagram:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; z-index: -1"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 35.27272727272727%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABQUlEQVR42o1RTUvDQBDNn/Gf+CO8exbx4NWLJymCf0D0oFgPXkR7rhQUCtJWFNNY09oa0iRN3Xxu87H73GxrSwsFH8xh37zZeTOj7F42cXDzhgLjMEHpvo3HjivfnGMJxXuVW80pexctbB7VYPxQmITi1fBRrqrQjbEUMsanYvwPCk0ZKi0TJE7nZKNjoWd5i84zvt0foaGZiEVNmrOZNdFUxMvAk6aUhWUuElwW/wl6ToSuHUIzA6hmiJPyE3aO71DXx+hYIQZujHcxUVV1sH3WxOFtG0qac1hBhpzx+ceWGJ1EKYpcnOSIJjnSjOFjGKClOyA+lVoquEQEiTJc1w3UNBfK1pWBjdInvlwK25tA/SboD4l0uwrbT6ALx7ZH1+/w/Jlgv2IhEC7iJMPpQxejNQWZmMIXuy5cL11YxvR4v/YIEfYcxhyYAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"HR Extraction diagram","title":"","src":"/static/0e2a7202c4a7cdc5795dc8f2f2e688a7/dface/prepare_HR.png","srcSet":["/static/0e2a7202c4a7cdc5795dc8f2f2e688a7/88b8e/prepare_HR.png 275w","/static/0e2a7202c4a7cdc5795dc8f2f2e688a7/8c3ad/prepare_HR.png 550w","/static/0e2a7202c4a7cdc5795dc8f2f2e688a7/dface/prepare_HR.png 600w"],"sizes":"(max-width: 600px) 100vw, 600px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The bottom branch represents an extraction from Active Directory that is used, for example, to build the list of contractors. This path is explained in the chapter on Active Directory."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The file template provides a list of identities. The content of the file also allows the indirect reconstruction of the hierarchy of organizations. For each identity, the template asks for information about the organization in which the person works as well as his job title. An additional column makes it possible to specify which organization is the direct parent of the one in which the person works."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"All the other columns correspond to the identity's characteristics, such as the employee ID number, email, type of employee, etc..."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The following table describes the columns required by the model."}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"Column"}]},{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"Mandatory?"}]},{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"Description"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"hrcode"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"ID0000183"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Employee ID number"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"givenname"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Denis"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Yes"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"First name"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"surname"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"GEOFFRAY"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Yes"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Last name"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"altname"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"JACOB"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Alternative or maiden name"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"fullname"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Denis GEOFFRAY"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Yes"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Complete name"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"titlecode"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Mr"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Civil title"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"mail"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"element","tagName":"a","properties":{"href":"mailto:DGEOFFRAY@gmail.com"},"children":[{"type":"text","value":"DGEOFFRAY@gmail.com"}]}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Email address"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"phone"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"+33123456789"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Home phone"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"mobile"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"+33666666666"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Cell phone"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"internal"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Yes"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Employee?"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"(true for Employee, false for Contractor)"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"employeetype"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"CDD"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Type of employee or contract"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"arrivaldate"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"12/1/2020"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Hire date"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"departuredate"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"31/5/2021"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Departure date"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"active"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Is the employee still in the company? (T/F)"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"jobtitlecode"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"TecQu"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Job function code"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"jobtitledisplayname"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Qualification"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Job function display name"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"organisationcode"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"STECQU"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Department code"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"organisationshortname"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"STECQU"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Department short name"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"organisationdisplayname"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Quality Assurance"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Display name of job function"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"organisationtype"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Service"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Department display name"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"parentorganisationcode"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"DTECPR"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Parent department code"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"linemanager"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"ID0000121"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Manager's employee ID number"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"managedorgcode"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"STECRD"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Manager's department code"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"analyticsgroup"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"group1"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Reserved for future use"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"reconciliation1"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"183"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"reconciliation key #1"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"reconciliation2"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"GEOFFRAY183"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"reconciliation key #2"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"reconciliation3"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"DGEOFFRAY183"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"No"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"reconciliation key #3"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If data is not available for a certain column, it is best to leave the column header present. The header row should not be changed."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The case of the header (uppercase/lowercase) is important. For example, if a column heading is changed to capital letters, the column will no longer be recognized."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"All dates should use the European format (DD/MM/YYYY)"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The active column is not mandatory. If empty, the identity is considered as inactive!"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Depending on Excel version and language used, the internal and active columns may appear differently and with a different case. The real value should be true or false."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The last 3 columns about reconciliation are explained in the chapter \"Account Owners\"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"individuals-who-have-left-the-company"},"children":[{"type":"text","value":"Individuals who have left the company"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The departure date is very important. It should be taken from the HR database or Active Directory if available because many ITGC controls make use of it. For example, finding active accounts which belongs to identities who have left the company is not possible if the departure date is not provided."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For the same reason, knowing if an account is active or disabled is essential. Without this information, all accounts will be considered as active and false positives may appear in the ITGC controls. Looking at the previous example, the service would display some identities who have left the company because they have an active account but this is a false positive if the account is truly disabled."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"monitoring"},"children":[{"type":"text","value":"Monitoring"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To track both extraction and upload of zip files, several systems have been set up:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"extraction-logs"},"children":[{"type":"text","value":"Extraction logs"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The extraction script generates several log files which are then archived in a zip file for later consultation.\r\nThe zip file is called "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector_logs_<date>.zip"}]},{"type":"text","value":"\r\nThe zip contains the following files:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ExtractAD_<date>.log"}]},{"type":"text","value":": log file of the Active Directory extraction if it was requested."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ExtractADHR_<date>.log"}]},{"type":"text","value":": log file of the HR extraction using Active Directory if it was requested."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector_<date>.log"}]},{"type":"text","value":": log file to track the reading of the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"config.json"}]},{"type":"text","value":" file, the launch of the extraction scripts and the upload to the Identity Analytics platform."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"After an extraction is finished, the zipped log files remains on the extraction platform so they can be opened at a later time."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"event-log"},"children":[{"type":"text","value":"Event log"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The extraction script also generates events in the Windows Event log. These are Application logs with a source called \"Identity Analytics Extraction\"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Only important events are logged in the event log:"}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"Message"}]},{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"Level"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"bw_data_collector has started"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Information"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"bw_data_collector upload zip started"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Information"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Request sent without Zip file"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Information"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"bw_data_collector zip file successfully uploaded"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Information"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"bw_data_collector zip upload failed"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Error"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"bw_data_collector has finished with code 0"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Information"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"bw_data_collector has finished with code 1"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Error"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"bw_data_collector has finished with code 0 (forceUpload=True)"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Information"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Unable to compress log files"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Error"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Unable to clean working directories"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"Error"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"upgrade"},"children":[{"type":"text","value":"Upgrade"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is higly recomemded to keep your your bw_data_collector up to date, this will allow you to get bug fixes,extraction improvments, new extraction capabilities, ..."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Before upgrading check you version by executing the folowing PowerShell cmdlet"}]},{"type":"text","value":"\n\n          "},{"type":"element","tagName":"codeblockcopytag","properties":{},"children":[{"type":"text","value":"Test-ScriptFileInfo .\\bw_data_collector.ps1"}]},{"type":"text","value":"\n          \n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"powershell"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-powershell"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-powershell"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"Test-ScriptFileInfo"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"\\bw_data_collector"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"ps1"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 771px; z-index: -1"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 27.999999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAx0lEQVR42oWPzQ6DIBCEuaq4+ANFFNC2iVETqfH9H65TiEl76neYrMvO7MqWZQkhHMdxnue+79u2resawmue594o77T3epqMtTfgnNNad13X9z0KNgxDWZZCCM453tq2zfMcNZpVRUq1z+ddyoaIEwkpJWbGcYSLiD7mNJ1lWepiAtlN06ADxS3WWuwrI4+I9x5PLO1EF1rXtVIKZijqoigQj2tlBDVm4KkvmDHGRRCGDfhMvwRFIvy4KymPFF8w5IkL+oX/4w33yxzWbzOguQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"Before upgrade","title":"","src":"/static/3747ddb9832d6b61c9c685d7c5b1a56e/f0a60/before-upgrade.png","srcSet":["/static/3747ddb9832d6b61c9c685d7c5b1a56e/88b8e/before-upgrade.png 275w","/static/3747ddb9832d6b61c9c685d7c5b1a56e/8c3ad/before-upgrade.png 550w","/static/3747ddb9832d6b61c9c685d7c5b1a56e/f0a60/before-upgrade.png 771w"],"sizes":"(max-width: 771px) 100vw, 771px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"upgrade-steps"},"children":[{"type":"text","value":"Upgrade steps"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Donwload the latest version of "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Copy the zip file to the directory where your "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"bw_data_collector.ps1"}]},{"type":"text","value":" is installed"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Unzip the downloaded package and override existing files"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Configuration file config.json will not be overitten"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Chek the new version to validate the migration"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 840px; z-index: -1"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 24%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAoUlEQVR42nWOyxKDIAxF3SkoLwd5C7bU//9Fb8F20ZneRSY3yUkyxBj3fS+l5JyP4/DehxAQU7Ql+1rT8+Gt1W0s9TFr7dI0pJQopYQQzjlgIQRvmiailKr1JaVijI/jCOY8T8Do3vC6roDneYZxzmECcds2VADjFLajCKu1xlPIjTE3DNM/R+w914QXANCmvvrHvmEMyY9w6pv3Nmta/ugCxWAWDBQ3n40AAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"After upgrade","title":"","src":"/static/31a8a59ff6ae7d1e705cb9839d560f76/2d81a/after-upgrade.png","srcSet":["/static/31a8a59ff6ae7d1e705cb9839d560f76/88b8e/after-upgrade.png 275w","/static/31a8a59ff6ae7d1e705cb9839d560f76/8c3ad/after-upgrade.png 550w","/static/31a8a59ff6ae7d1e705cb9839d560f76/2d81a/after-upgrade.png 840w"],"sizes":"(max-width: 840px) 100vw, 840px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n    "}]}]}],"data":{"quirksMode":false}},"fileAbsolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/ia/version-1.4/documentation/configuration/powershell-extraction.md","frontmatter":{"title":"Powershell extraction configuration"},"headings":[{"id":"powershell-extraction-configuration","value":"Powershell extraction configuration","depth":1},{"id":"extraction-package-installation","value":"Extraction Package Installation","depth":2},{"id":"extraction-package-upgrade","value":"Extraction Package Upgrade","depth":2},{"id":"prerequisites","value":"Prerequisites","depth":2},{"id":"main-script","value":"Main script","depth":3},{"id":"active-directory","value":"Active Directory","depth":3},{"id":"event-logs","value":"Event logs","depth":3},{"id":"extraction-methodology","value":"Extraction Methodology","depth":2},{"id":"command-line","value":"Command line","depth":2},{"id":"configure-automatic-upload","value":"Configure automatic upload","depth":3},{"id":"configuration-file","value":"Configuration file","depth":3},{"id":"extractions","value":"Extractions","depth":2},{"id":"external-extractions","value":"External Extractions","depth":3},{"id":"ldap-extractions","value":"LDAP extractions","depth":3},{"id":"active-directory-extractions","value":"Active Directory Extractions","depth":3},{"id":"hr-extractions-from-active-directory","value":"HR Extractions from Active Directory","depth":3},{"id":"active-directory-credentials","value":"Active Directory Credentials","depth":2},{"id":"task-scheduler-and-credentials","value":"Task Scheduler and Credentials","depth":2},{"id":"csv-data-conversion","value":"CSV data conversion","depth":2},{"id":"output-zip-file-content","value":"Output ZIP File Content","depth":2},{"id":"decentralized-extractions","value":"Decentralized Extractions","depth":2},{"id":"hr-configuration-example","value":"HR Configuration Example","depth":3},{"id":"file-formats","value":"File Formats","depth":2},{"id":"hr-file-format","value":"HR File Format","depth":3},{"id":"individuals-who-have-left-the-company","value":"Individuals who have left the company","depth":4},{"id":"monitoring","value":"Monitoring","depth":2},{"id":"extraction-logs","value":"Extraction logs","depth":3},{"id":"event-log","value":"Event log","depth":3},{"id":"upgrade","value":"Upgrade","depth":3},{"id":"upgrade-steps","value":"Upgrade steps","depth":4}]},"toc":{"html":"<ul>\n<li><a href=\"config-ui.md\">Configuration UI</a></li>\n<li><a href=\"ssl-configuration.md\">SSL configuration</a></li>\n<li><a href=\"authentication-configuration.md\">Authentication Configuration</a></li>\n<li><a href=\"powershell-extraction.md\">Powershell extraction configuration</a></li>\n</ul>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"config-ui.md"},"children":[{"type":"text","value":"Configuration UI"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"ssl-configuration.md"},"children":[{"type":"text","value":"SSL configuration"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"authentication-configuration.md"},"children":[{"type":"text","value":"Authentication Configuration"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"powershell-extraction.md"},"children":[{"type":"text","value":"Powershell extraction configuration"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"fileAbsolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/ia/version-1.4/documentation/configuration/TOC.md","frontmatter":{"title":"Configuration"}}},"pageContext":{"urlPrefix":"ia/version-1.4","absolutePath":"/home/runner/work/developer-site/developer-site/.cache/gatsby-source-git/ia/version-1.4/documentation/configuration/powershell-extraction.md","tocRegex":"/(ia/)(version-1.4/)?(documentation/)?(configuration/)?(powershell-extraction.md/)?(TOC.md)/ig","versions":[{"name":"version-1.4","displayName":"v1.4"},{"name":"version-1.2","displayName":"v1.2"}],"currentRepo":{"name":"ia","displayName":"Identity Analytics","description":"This guide provides a high-level overview of Identity Analytics. This documentation includes the user guides, integration guides for Identity Analytics along with the different modules included.","links":[{"text":"SEE SELF-MANAGED GUIDES","href":"/ia/version-1.4/#2"}],"remote":"https://github.com/radiantlogic-v8/documentation-ia-selfmanaged.git","patterns":["home-pages/**","documentation/**"],"deployBranches":[{"name":"version-1.4","displayName":"v1.4"},{"name":"version-1.2","displayName":"v1.2"}]},"currentRepoWebLink":"https://github.com/radiantlogic-v8/documentation-ia-selfmanaged","currentVersion":{"name":"version-1.4","displayName":"v1.4"},"title":"Powershell extraction configuration","description":"Configuration requirements to use the powershell extraction tool","tocForCurrentSection":{"textElement":"Configuration","href":null,"children":[{"textElement":"Authentication configuration","href":"configuration/authentication-configuration","children":[]},{"textElement":"Config ui","href":"configuration/config-ui","children":[]},{"textElement":"Hidden","href":null,"children":[{"textElement":"Braiwavefile","href":"configuration/hidden/braiwavefile","children":[]}]},{"textElement":"Powershell extraction","href":"configuration/powershell-extraction","children":[]},{"textElement":"Ssl configuration","href":"configuration/ssl-configuration","children":[]},{"textElement":"T O C","href":"configuration/TOC","children":[]}]}}},"staticQueryHashes":["63159454"],"slicesMap":{"footer":"footer","header":"header"}}